function debugz(){document.cookie="debug16=1;"}function getParameterByName(name){try{name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return null===results?"":(void 0===results[1]&&(results[1]=""),decodeURIComponent(results[1].replace(/\+/g," ")))}catch(e){return!1}}function encodeSpecialChars(obj){var i;if("[object String]"===Object.prototype.toString.call(obj))(obj.indexOf("=")>-1||obj.indexOf("+")>-1)&&(obj=encodeURIComponent(obj));else if("[object Array]"===Object.prototype.toString.call(obj))for(i=0;i<obj.length;i++)obj[i]=encodeSpecialChars(obj[i]);else if("[object Object]"===Object.prototype.toString.call(obj))for(i in obj)obj[i]=encodeSpecialChars(obj[i]);return obj}function formData_EncodeSpecialChars(fd){}function datescheck(start_date,finish_date,booking_on,timezone){var current_date=new Date,event_start_date=new Date(start_date);if(timezone&&((event_start_date=new Date(event_start_date.toUTCString()+timezone))instanceof Date&&!isNaN(event_start_date)||(event_start_date=new Date(start_date))),current_date.setHours(0,0,0,0),event_start_date.setHours(0,0,0,0),null!=finish_date){var event_end_date=new Date(finish_date);return event_end_date.setHours(0,0,0,0),timezone&&((event_end_date=new Date(event_end_date.toUTCString()+timezone))instanceof Date&&!isNaN(event_end_date)||(event_end_date=new Date(finish_date))),event_end_date<current_date?"Past event":event_start_date>current_date?"Upcoming Event":"Happening today"}return null!=start_date?event_start_date<current_date?"Past Event":event_start_date>current_date?"Upcoming Event":"Happening today":"Prospective Event"}function get_cookie(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0===c.indexOf(name))return c.substring(name.length,c.length)}return""}function setCookie(cname,cvalue,exdays){set_cookie(cname,cvalue,24*exdays*60*60)}function set_cookie(cname,cvalue,seconds){var d=new Date;d.setTime(d.getTime()+1e3*seconds);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires+"; path=/"}function delete_cookie(name,path,domain){void 0===path&&(path="/"),getCookie(name)&&(document.cookie=name+"="+(path?";path="+path:"")+(domain?";domain="+domain:"")+";expires=Thu, 01 Jan 1970 00:00:01 GMT")}function current_url(search){return void 0===search?location.protocol+"//"+location.host+location.pathname+(location.search?location.search:""):location.protocol+"//"+location.host+location.pathname}function dataURItoBlob(dataURI){var byteString;byteString=dataURI.split(",")[0].indexOf("base64")>=0?atob(dataURI.split(",")[1]):unescape(dataURI.split(",")[1]);for(var mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0],ia=new Uint8Array(byteString.length),i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);return new Blob([ia],{type:mimeString})}function as_upgrade(timeout_time){setTimeout(function(){if(window.componentHandler){componentHandler.upgradeAllRegistered();var a=document.querySelectorAll(".mdl-textfield.mdl-js-textfield");angular.forEach(a,function(x){try{x.MaterialTextfield.checkDirty()}catch(e){}})}},timeout_time)}function snackbar_general(text,time,actionText,actionHandler){var snackbarContainer=document.querySelector("#success-toast");if(snackbarContainer){var data={message:text,timeout:time};void 0!==actionText&&void 0!==actionHandler&&(data.actionText=actionText,data.actionHandler=actionHandler),snackbarContainer.MaterialSnackbar.active?(snackbarContainer.MaterialSnackbar.cleanup_(),setTimeout(function(){snackbarContainer.MaterialSnackbar.showSnackbar(data)},100)):snackbarContainer.MaterialSnackbar.showSnackbar(data)}}function queryStringToJSON(queryString){queryString.indexOf("?")>-1&&(queryString=queryString.split("?")[1]);var pairs=queryString.split("&"),result={};return pairs.forEach(function(pair){pair=pair.split("="),result[pair[0]]=decodeURIComponent(pair[1]||"")}),result}function urlQueryStringCleaner(url){var path=url.split("?")[0],params=queryStringToJSON(url),newQueryParams=[];for(var key in params)""!=params[key]&&newQueryParams.push(key+"="+params[key]);return newQueryParams.length>0&&(path=path+"?"+newQueryParams.join("&")),path}function keysConvertor(config,obj){if(void 0!==config)if("object"==typeof obj)for(var key in obj){var origV=obj[key];Loop2:for(var okey in config){var oval=config[okey];if(okey==key)break Loop2;if(-1!=oval.indexOf(key)){obj[okey]=origV,delete obj[key];break Loop2}for(var ovalIndex in oval)if(-1!=oval[ovalIndex].indexOf(".")){var object_inside_path=oval[ovalIndex].split(".");try{var found=object_inside_path.reduce(function(p,v){return p[v]?p[v]:null},obj);found&&(obj[okey]=found)}catch(e){}}}"object"==typeof origV&&keysConvertor(config,origV)}else if("array"==typeof obj)for(var i=0;i<obj.length;i++)keysConvertor(config,obj[i])}function keysCreator(config,obj,creator_vars){if(void 0!==config)return isNullUndefined(obj)||!isArray(obj)?null:(creator_vars&&creator_vars.constructor===Object||(creator_vars={}),obj.map(function(each_obj){var _creator_vars=angular.copy(creator_vars);return Object.keys(config).reduce(function(p,c){var replaceConfig=config[c].reduce(function(p1,c1){if(p1)return p1;for(var j=0;j<c1.keys.length;j++)try{if(void 0==eval("p."+c1.keys[j]))break}catch(e){break}return j==c1.keys.length?c1:null},null);if(null!==replaceConfig){angular.isDefined(replaceConfig.return)&&(each_obj[c]=angular.copy(replaceConfig.return)),angular.isDefined(replaceConfig["eval-return"])&&(each_obj["eval-"+c]=angular.copy(replaceConfig["eval-return"])),angular.merge(_creator_vars,each_obj);try{evalObj_global(each_obj,_creator_vars)}catch(e){console.error(e)}}return p},each_obj)}))}function old_keysCreator(config,obj,creator_vars){if(0!=obj.length){var object_keys=Object.keys(obj[0]);for(var key_to_create in config){var creations_options=config[key_to_create];Loop2:for(var each_option_key in creations_options){var each_option=creations_options[each_option_key],matchFound=!0;for(var index_of_key_to_match in each_option.keys){var key_to_match=each_option.keys[index_of_key_to_match];-1==object_keys.indexOf(key_to_match)&&(console.log(key_to_match),matchFound=!1)}if(matchFound){for(var object_index in obj){var each_repeat=obj[object_index];angular.isDefined(each_option.return)&&(each_repeat[key_to_create]=angular.copy(each_option.return)),angular.isDefined(each_option["eval-return"])&&(each_repeat["eval-"+key_to_create]=angular.copy(each_option["eval-return"])),angular.merge(creator_vars,each_repeat),evalObj_global(each_repeat,creator_vars)}break Loop2}}}return obj}}function evalObj_global(obj,reqVars){for(var key in obj){var value=obj[key];"object"==typeof value&&evalObj_global(value,reqVars),-1!=key.indexOf("eval-")&&(obj[key.replace("eval-","")]=eval(value),delete obj[key])}}function simpleParsing2(obj){return Object.keys(obj).sort().filter(function(v){return null!==v.match(/txt\d+/)}).reduce(function(p,c){return v=obj[c],v.hasOwnProperty("metadata")&&isObject(v.metadata)||(v.metadata={}),v.metadata.hasOwnProperty("design")||(v.metadata.design={}),v.title&&v.response&&9!=v.type&&(p+='<div class="'+(v.metadata.design.public_parent_class||"margin-tb-8")+'" style="'+(v.metadata.design.public_parent_style||"")+'"><div class="'+(v.metadata.design.public_title_class||"margin-bottom-4 font-20 mdl-color-text--grey-700")+'" style="'+(v.metadata.design.public_title_style||"")+'">'+v.title+'</div><div class="'+(v.metadata.design.public_data_class||"font-16")+'" style="'+(v.metadata.design.public_data_style||"")+'">'+v.response+"</div></div>"),9==v.type&&"image"==v.metadata.type&&v.response&&(p+='<div class="'+(v.metadata.design.public_parent_class||"")+'" style="'+(v.metadata.design.public_parent_style||"")+'">',p+=v.response.reduce(function(p1,c1){return p1+'<img class="'+(v.metadata.design.public_data_class||"nb-multiple-image")+'" style="'+(v.metadata.design.public_data_style||"")+'" src="'+API_BASE_URL+"campusfeed/s3?width=500&img="+c1.url+'" open_src="'+API_BASE_URL+"campusfeed/s3?width=1500&img="+c1.url+'"/>'},""),p+="</div>"),p},"")}function findAncestorByClass(el,cls){for(;(el=el.parentElement)&&!el.classList.contains(cls););return el}function randomString(len){for(var text="",possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<len;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text}function humanReadableFileSize(bytes,si){if(!1!==si&&!0!==si)return $sizeAr=humanReadableFileSize_(bytes,!1),$sizeAr[0]%1!=0?$sizeAr[0]+" "+$sizeAr[1]:($sizeAr=humanReadableFileSize_(bytes,!0),$sizeAr[0]+" "+$sizeAr[1]);humanReadableFileSize_(bytes,si)}function humanReadableFileSize_(bytes,si){var thresh=si?1e3:1024;if(Math.abs(bytes)<thresh)return bytes+" B";var units=si?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],u=-1;do{bytes/=thresh,++u}while(Math.abs(bytes)>=thresh&&u<units.length-1);return[bytes.toFixed(1),units[u]]}function isEqual(value,other,orderSensitive,isStrict){if(value===other)return!0;var type=Object.prototype.toString.call(value);!0!==isStrict&&"[object Undefined]"===type&&(value="",type="[object String]"),!0===isStrict||"[object Number]"!==type&&"[object Boolean]"!==type||(value=value.toString(),type=Object.prototype.toString.call(value));var type_other=Object.prototype.toString.call(other);if(!0!==isStrict&&"[object Undefined]"===type_other&&(other="",type_other="[object String]"),!0===isStrict||"[object Number]"!==type_other&&"[object Boolean]"!==type_other||(other=other.toString(),type_other=Object.prototype.toString.call(other)),type!==type_other)return!1;if("[object String]"===type||"[object Number]"===type)return value===other;if(["[object Array]","[object Object]"].indexOf(type)<0)return!1;var valueLen="[object Array]"===type?value.length:Object.keys(value).length;if(valueLen!==("[object Array]"===type?other.length:Object.keys(other).length))return!1;if("[object Array]"===type){var tmpValue=angular.copy(value),tmpOther=angular.copy(other);if(!0===orderSensitive){for(var i=0;i<valueLen;i++)if(!1===isEqual(tmpValue[i],tmpOther[i],orderSensitive,isStrict))return!1;return!0}for(var matched=0,i=0;i<valueLen;i++)for(var j=0;j<valueLen;j++)if(isEqual(tmpValue[i],tmpOther[j],orderSensitive,isStrict)){matched++;break}return matched===valueLen}for(var key in value)if(value.hasOwnProperty(key)&&!1===isEqual(value[key],other[key],orderSensitive,isStrict))return!1;return!0}function isNullUndefined(a){return void 0===a||null===a}function isEmpty(input,deleteEmptyKeyInObject){if(void 0===input||null===input||""===input)return!0;if("object"==typeof input){var returnVal=!0;for(var i in input){isEmpty(input[i],deleteEmptyKeyInObject)?!0===deleteEmptyKeyInObject&&"[object Object]"===Object.prototype.toString.call(input)&&delete input[i]:returnVal=!1}return returnVal}return!1}function isObject(input){return"[object Object]"===Object.prototype.toString.call(input)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isString(input){return"string"==typeof input}function isScalar(input){return/boolean|number|string/.test(typeof input)}function stringify(input){return isString(input)?input:JSON.stringify(input)}function isInt(input,typeStrict){return typeStrict?input.constructor===Number&&!0===/^\d+$/.test(input):!0===/^\d+$/.test(input)}function isNumeric(input){return!isNaN(parseFloat(input))&&isFinite(input)}function dump(input){console.log(stringify(dump))}function aofind(ao,key,value,returnKey){for(var i=0;i<ao.length;i++)if(ao[i][key]===value)return!0===returnKey?i:ao[i]}function sanitizeValue(value,ValueType){if("boolean"===ValueType){if("1"===value||1===value)return!0;if("0"===value||0===value)return!1}return"true"===value||"false"!==value&&(isInt(value)?parseInt(value):isNumeric(value)?parseFloat(value):value)}function scrollTo(e,d,callback){if(autoScrollRequestTime=(new Date).getTime(),d>=0){window.onwheel=function(){return!1};var h=document.documentElement;if(0===h.scrollTop){var t=h.scrollTop;++h.scrollTop,h=t+1===h.scrollTop--?h:document.body}"object"==typeof e&&(e=e.offsetTop),scrollToX(h,h.scrollTop,e,0,1/d,20,autoScrollRequestTime)}setTimeout(function(){window.onwheel=function(){return!0};try{callback()}catch(err){console.log(err)}},d)}function scrollToX(e,a,b,t,v,s,asrt){function F(){asrt==autoScrollRequestTime&&(t<0||t>1||v<=0||(k=t-1,e.scrollTop=a-(a-b)*(k*k*k+1),t+=v*s,setTimeout(F,s)))}F()}function getCurrentElements(){for(var return_values=[],i=0;i<all_classes.length;i++)if(0==i)sectionwise_top[i]=0;else{if(sectionwise_top[i]=all_classes[i].getBoundingClientRect().top+window.pageYOffset,window.pageYOffset+72+5>=sectionwise_top[i-1]&&window.pageYOffset+72+5<sectionwise_top[i]){return_values.element=sectionwise_top[i-1],return_values.to=sectionwise_top[i];break}if(window.pageYOffset+72+5>=sectionwise_top[i]&&i==all_classes.length-1){return_values.element=null,return_values.to=sectionwise_top[0];break}}return return_values}function shareCard(e,type,title_passed,any){e=e||window.event,e.returnValue=!1,e.preventDefault&&e.preventDefault();for(var url,webURL,article,articleKey,img,title,titleKey,isShareButton,links=["https://www.facebook.com","https://twitter.com","https://www.linkedin.com","https://www.addtoany.com/add_to/whatsapp"],fn=[facebookShare,twitterShare,linkedinShare,whatsappShare],target=e.target||e.srcElement;target&&!target.href;)target=target.parentNode;if(target&&(isShareButton=1==target.getAttribute("sharebutton")),target&&target.href){try{target.href=target.href.replace("#us#",insti_info_data.insti_data.user_name)}catch(err){}webURL=target.href,url=webURL+"",links.forEach(function(v,i){if(-1!==webURL.search(v))switch(i){case 0:url=webURL.split("?u=")[1];break;case 1:url=webURL.split("url=")[1],titleKey="text";break;case 2:url=webURL.split("url=")[1],titleKey="title",articleKey="summary";break;case 3:url=webURL.split("linkurl=")[1],articleKey="linkname"}}),url.match(/^(http|https):/)||(url=decodeURIComponent(url)),title_passed||target.title?title=title_passed||target.title:"AlmaShines"!=document.title&&(title=document.title),target.attributes["data-as-img"]&&target.attributes["data-as-img"].nodeValue&&(img=target.attributes["data-as-img"].nodeValue),target.attributes["data-as-article"]&&target.attributes["data-as-article"].nodeValue&&(article=target.attributes["data-as-article"].nodeValue),article=article||title||void 0,titleKey&&title&&(webURL=webURL+"&"+titleKey+"="+encodeURIComponent(title)+"%0a"),articleKey&&article&&(webURL=webURL+"&"+articleKey+"="+encodeURIComponent(article)+"%0a")}return platform?(img="",void 0!==any||"any"===type?anyShare(url,webURL,img,article):url&&links.forEach(function(v,i){-1!==webURL.search(v)&&fn[i](url,webURL,img,article)}),!1):(!isShareButton&&webURL&&window.open(webURL,"_blank"),!1)}function facebookShare(u,wu,i,a){window.plugins.socialsharing.shareViaFacebook(a||"",i||null,u,function(){console.log("share ok")},function(errormsg){console.log("err",errormsg),fallbackForSharing(wu)})}function twitterShare(u,wu,i,a){window.plugins.socialsharing.shareViaTwitter(a||"",i||null,u,function(){console.log("share ok")},function(errormsg){console.log("err",errormsg),fallbackForSharing(wu)})}function linkedinShare(u,wu,i,a){window.plugins.socialsharing.shareVia("com.linkedin.android",a||"",i||null,u,function(){console.log("share ok")},function(errormsg){console.log("err",errormsg),fallbackForSharing(wu)})}function whatsappShare(u,wu,i,a){window.plugins.socialsharing.shareViaWhatsApp(a||"",i||null,u,function(){console.log("share ok")},function(errormsg){console.log("err",errormsg)})}function anyShare(url,webURL,image,article){window.plugins.socialsharing.share("",article||"",image||null,url,function(){console.log("share ok")},function(errormsg){console.log("err",errormsg)})}function fallbackForSharing(url){window.open(url,"_system")}var sendObj=XMLHttpRequest.prototype.send;if(XMLHttpRequest.prototype.send=function(){var newArg=!1,data=!1;if("[object String]"===Object.prototype.toString.call(arguments[0]))try{data=JSON.parse(arguments[0]),newArg=JSON.stringify(encodeSpecialChars(data))}catch(e){}else"[object FormData]"===Object.prototype.toString.call(arguments[0])&&(newArg=formData_EncodeSpecialChars(arguments[0]));!1!==newArg&&void 0!==newArg&&null!==newArg&&(arguments[0]=newArg),sendObj.apply(this,arguments)},Element.prototype.asparent=function(selector){var elem=this;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){for(var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;--i>=0&&matches.item(i)!==this;);return i>-1});elem&&elem!==document;elem=elem.parentNode)if(elem.matches(selector))return elem;return null},void 0===root)var root="/";try{var base=document.getElementsByTagName("base");base=base[0],"undefined"!=base.getAttribute("href")&&(root=base.getAttribute("href"))}catch(err){console.log(err)}var restricted_infoURL="./restricted",header_and_dummy=[],mobile_web_tab={};mobile_web_tab.isNotWeb=!1,mobile_web_tab.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|xwalk/i.test(navigator.userAgent)&&(mobile_web_tab.isNotWeb=!0,window.innerWidth<768&&(mobile_web_tab.isMobile=!0)),window.innerWidth<=425&&(mobile_web_tab.isMobile=!0);var header_and_dummy=[],navbar_s=null,timeCheck=0,lastScrollTop=0,hMarginTop=0,headerOh=0,cond,navInt=setInterval(function(){null==navbar_s||timeCheck<5e3?(navbar_s=document.getElementById("navigatorbar"),timeCheck+=500):clearInterval(navInt)},500);angular.element(window).bind("scroll",function(){if(0==header_and_dummy.length&&(header_and_dummy=document.getElementsByClassName("custom_header_height")),header_and_dummy.length>0&&(headerOh=header_and_dummy[0].offsetHeight,144==headerOh||112==headerOh?(cond=2,144==headerOh&&(cond=1),hMarginTop=window.scrollY>"56"?1==cond?-84:-64:0):header_and_dummy.length>0&&(hMarginTop=0),header_and_dummy[0].style.marginTop=hMarginTop+"px"),null!=navbar_s){var pyo=window.pageYOffset,navTop=headerOh+hMarginTop;navbar_s.style.top=pyo<lastScrollTop?navTop+"px":navTop-pyo+"px",lastScrollTop=pyo}});var autoScrollRequestTime=0,all_classes=document.getElementsByClassName("autoscroll-class"),sectionwise_top=[];
//# sourceMappingURL=common.vanilla.js.map
function asFacebookWidget(e){e.moduleData={},angular.isDefined(e.templateData.tData.facebookLink)&&(e.moduleData.facebookLink=e.templateData.tData.facebookLink.value),angular.isDefined(e.templateData.tData.facebookId)&&(e.moduleData.facebookId=e.templateData.tData.facebookId.value),angular.isDefined(e.templateData.tData.heading)&&(e.moduleData.heading=e.templateData.tData.heading.value)}function asgrid(e){e.moduleData={},angular.isDefined(e.templateData)&&angular.isDefined(e.templateData.tData)&&angular.isDefined(e.templateData.tData.heading)&&(console.log(e.templateData),e.moduleData.heading=e.templateData.tData.heading.value,console.log("vg",e.moduleData))}function asLaunchWidget(e,t){e.moduleData={},angular.isDefined(e.templateData.tData.backgroundPic)&&(e.moduleData.backgroundPic=e.templateData.tData.backgroundPic.value),angular.isDefined(e.templateData.tData.launchingDate)&&(e.moduleData.launchingDate=e.templateData.tData.launchingDate.value),angular.isDefined(e.templateData.tData.launchingName)&&(e.moduleData.launchingName=e.templateData.tData.launchingName.value),angular.isDefined(e.templateData.tData.actionText)?e.moduleData.actionText=e.templateData.tData.actionText.value:e.moduleData.actionText="The launch of",e.duration=10,e.countdownStart=!1,e.countdownStartfn=function(){e.countdownStart=!0;var a=t(function(){e.duration>0?e.duration--:(t.cancel(a),window.location.assign(COMM_APPBASE))},1e3)}}function asMapModularCtrl(e,t){e.moduleData={},angular.isDefined(e.templateData.tData.heading)&&(e.moduleData.heading=e.templateData.tData.heading.value),angular.isDefined(e.templateData.tData.text)&&(e.moduleData.mainText=t.trustAsHtml(e.templateData.tData.text.value)),angular.isUndefined(e.templateData.tData.couchsurfing)&&(e.templateData.tData.couchsurfing=!1),angular.isUndefined(e.templateData.tData.height)&&(e.templateData.tData.height="80vh")}function asSlider(e,t,a,n,o,l,r){function s(t){if(angular.isDefined(t.schema)){var a=!0,o=t;for(i in t.schema.dataKey)angular.isDefined(o[t.schema.dataKey[i]])?o=o[t.schema.dataKey[i]]:a=!1;if(a){e.moduleData.slider_images=o,keysConvertor(p.slider_images,e.moduleData.slider_images);var l={s3_url:n.s3_url};keysCreator(m.slider_images,e.moduleData.slider_images,l),(angular.isUndefined(e.templateData.tConfiguration.slide)||e.templateData.tConfiguration.slide)&&c()}}}function c(){if(angular.isDefined(e.templateData.tConfiguration.firstLookImages)&&e.templateData.tConfiguration.firstLookImages)return void u();angular.forEach(e.moduleData.slider_images,function(t,a){e.moduleData.slider_images[a].show_var=!1});var a,n=e.moduleData.slider_images.length;e.slide=function(i){angular.isDefined(a)||(e.moduleData.slider_images[i].show_var=!0,e.prevImage=0==i?n-1:i-1,e.currentImage=i,e.nextImage=i<n-1?i+1:0,a=t(function(){i%=n,e.moduleData.slider_images[i].show_var=!1,i=(i+1)%n,e.moduleData.slider_images[i].show_var=!0,e.prevImage=0==i?n-1:i-1,e.currentImage=i,e.nextImage=i<n-1?i+1:0},e.animationDuration))},n>0&&e.slide(0),e.cancelSlide=function(){angular.isDefined(a)&&(t.cancel(a),a=void 0,angular.forEach(e.moduleData.slider_images,function(t,a){e.moduleData.slider_images[a].show_var=!1}))},e.changeImage=function(t){e.cancelSlide(),e.slide(t),e.prevImage=0==t?n-1:t-1,e.currentImage=t,e.nextImage=t<n-1?t+1:0,e.hoverIn()},e.hoverIn=function(){1==e.templateData.tConfiguration.stopAnimationonHover&&(e.cancelSlide(),e.moduleData.slider_images[e.currentImage%n].show_var=!0)},e.hoverOut=function(){1==e.templateData.tConfiguration.stopAnimationonHover&&(e.cancelSlide(),e.slide(e.currentImage%n))}}function u(){var a;e.dist_counter=0;var n=20;window.innerWidth<900&&window.innerWidth>550?n=33.33:window.innerWidth<550&&(n=100),angular.isDefined(e.templateData.tConfiguration.firstLookImages)&&(n=100/e.templateData.tConfiguration.firstLookImages[0],window.innerWidth<900&&window.innerWidth>550?n=100/e.templateData.tConfiguration.firstLookImages[1]:window.innerWidth<550&&(n=100/e.templateData.tConfiguration.firstLookImages[2])),n=n%2==0?n-1:n,e.limit=Math.round(100/n),e.blanks=Math.floor(e.limit/2);var i=0;angular.isDefined(e.moduleData.slider_images)&&e.moduleData.slider_images.length>0&&(i=Math.round(e.moduleData.slider_images.length/2),e.dist_counter=Math.round(e.moduleData.slider_images.length/2)),e.starting_img_style=0,e.fetch_next_dist=function(){e.dist_counter>=e.moduleData.slider_images.length-1?(e.dist_counter=0,i=0):(e.dist_counter++,i++);var t=i<=e.blanks;e.starting_img_style={left:(t?"":"-")+n*Math.abs(e.blanks-i)+"%"},e.currentImage=e.dist_counter,e.hoverOut()},e.fetch_prev_dist=function(){0==e.dist_counter?(e.dist_counter=e.moduleData.slider_images.length-1,i=e.dist_counter):(e.dist_counter--,i--);var t=i<=e.blanks;e.starting_img_style={left:(t?"":"-")+n*Math.abs(e.blanks-i)+"%"},e.currentImage=e.dist_counter,e.hoverOut()},e.dis_wid_style={width:n+"%"},e.fetch_specific=function(t){e.dist_counter=t,i=t;var a=i<=e.blanks;e.starting_img_style={left:(a?"":"-")+n*Math.abs(e.blanks-i)+"%"},e.currentImage=e.dist_counter,e.hoverOut()},e.slide=function(n){angular.isDefined(a)||(a=t(function(){e.fetch_next_dist()},e.animationDuration))},e.hoverIn=function(){1==e.templateData.tConfiguration.stopAnimationonHover&&angular.isDefined(a)&&(t.cancel(a),a=void 0)},e.hoverOut=function(){1==e.templateData.tConfiguration.stopAnimationonHover&&(angular.isDefined(a)&&(t.cancel(a),a=void 0),e.slide())};var o=i<=e.blanks;e.starting_img_style={left:(o?"":"-")+n*Math.abs(e.blanks-i)+"%"},e.currentImage=e.dist_counter,e.slide()}function d(t,a){if(angular.isDefined(e.templateData.tConfiguration.zoomOnClick)){var n={images:e.moduleData.slider_images,caption:"",index:t,param:{small_src_key:"src",original_src_key:"src"}};l.imageModalbox(n,a)}else e.templateData.tConfiguration&&e.templateData.tConfiguration.modalOnClick&&r.showModal({templateUrl:"./templates/pages/main_site/portfolio_templates/modals/"+e.templateData.template_name+"/"+e.templateData.template_name+"_"+e.templateData.template_type+".html",controller:asSliderModalController,inputs:{templateData:e.templateData,d_a:e.moduleData.slider_images[t]},target:a.target}).then(function(e){e.close.then(function(e){})})}e.API_BASE_URL=API_BASE_URL;var p={},m={};if(e.imageClickAction=d,p.slider_images={src:["original_src"],heading:["meta_heading"],subheading:["caption"],buttonLink:["meta_link_text"],buttonText:["meta_link_string"],subheading1:["meta_subheading"],paragraph:["meta_paragraph"]},m.slider_images={},e.moduleData={},e.animationDuration=3e3,angular.isDefined(e.templateData.tConfiguration.animationDuration)&&(e.animationDuration=e.templateData.tConfiguration.animationDuration),"direct"==e.templateData.tData.slider_images.type)e.moduleData.slider_images=e.templateData.tData.slider_images.value,(angular.isUndefined(e.templateData.tConfiguration.slide)||e.templateData.tConfiguration.slide)&&c();else if("service"==e.templateData.tData.slider_images.type){var f,g,D,v=!1;try{f=a.get(e.templateData.tData.slider_images.service_attributes.sName),g=e.templateData.tData.slider_images.service_attributes.sFunction,D=e.templateData.tData.slider_images.service_attributes.sData,v=!0}catch(e){console.log("Injector does not have service you requested in asSlider!")}v&&f[g](D,s)}e.templateData.tData.heading&&(e.moduleData.heading=e.templateData.tData.heading.value),e.templateData.tData.subheading&&(e.moduleData.subheading=e.templateData.tData.subheading.value),e.templateData.tData.buttonText&&(e.moduleData.buttonText=e.templateData.tData.buttonText.value),e.templateData.tData.buttonLink&&(e.moduleData.buttonLink=e.templateData.tData.buttonLink.value),console.log("jio 1",e.moduleData)}function asSliderModalController(e,t,a,n){as_upgrade(10),e.templateData=t,e.d_a=a,e.close=n}function asSlider1(e,t,a,n,o,l){function r(t){if(console.log(angular.isDefined(t.schema)),angular.isDefined(t.schema)){var a=!0,o=t;console.log(t.schema.dataKey);for(i in t.schema.dataKey)angular.isDefined(o[t.schema.dataKey[i]])?o=o[t.schema.dataKey[i]]:a=!1;if(console.log("is d pr 2",a),a){e.moduleData.slider_images=o,keysConvertor(u.slider_images,e.moduleData.slider_images);n.s3_url;console.log(e.moduleData.slider_images),s()}}}function s(){var t=33.33;window.innerWidth<900&&window.innerWidth>550?t=50:window.innerWidth<550&&(t=100),angular.isDefined(e.templateData.tConfiguration.firstLookImages)&&(t=100/e.templateData.tConfiguration.firstLookImages[0],window.innerWidth<900&&window.innerWidth>550?t=100/e.templateData.tConfiguration.firstLookImages[1]:window.innerWidth<550&&(t=100/e.templateData.tConfiguration.firstLookImages[2])),console.log("dist_per_count",t,e.templateData.tConfiguration.firstLookImages),e.limit=Math.round(100/t);var a=0;e.starting_alum_style=0,e.fetch_next_dist=function(){e.dist_counter>=e.moduleData.slider_images.length-e.limit?(e.dist_counter=0,a=0):(e.dist_counter++,a++),e.starting_alum_style={left:"-"+t*a+"%"}},e.fetch_prev_dist=function(){0==e.dist_counter?(e.dist_counter=e.moduleData.slider_images.length-e.limit,a=e.dist_counter):(e.dist_counter--,a--),e.starting_alum_style={left:"-"+t*a+"%"}},e.dis_wid_style={width:"CALC("+t+"% - 16px)"}}function c(t,a){if(angular.isDefined(e.templateData.tConfiguration.zoomOnClick)){var n={images:e.moduleData.slider_images,caption:"",index:t,param:{small_src_key:"src",original_src_key:"src"}};o.imageModalbox(n,a)}else e.templateData.tConfiguration&&e.templateData.tConfiguration.modalOnClick&&l.showModal({templateUrl:"./templates/pages/main_site/portfolio_templates/modals/"+e.templateData.template_name+"/"+e.templateData.template_name+"_"+e.templateData.template_type+".html",controller:asSlider1ModalController,inputs:{templateData:e.templateData,d_a:e.moduleData.slider_images[t]},target:a.target}).then(function(e){e.close.then(function(e){})})}e.imageClickAction=c;var u={};if(u.slider_images={src:["image_path","original_src"],heading:["name","meta_heading"],subheading:["college_info","caption"],subheading1:["description","meta_subheading"],paragraph:["meta_paragraph"],link:["link","meta_link_text"]},angular.isDefined(e.templateData.tConfiguration.convertorConfig)&&(u=e.templateData.tConfiguration.convertorConfig),e.moduleData={},e.dist_counter=0,e.templateData.tData.heading&&(e.moduleData.heading=e.templateData.tData.heading.value),"direct"==e.templateData.tData.slider_images.type)console.log("debugging gallery 123"),e.moduleData.slider_images=e.templateData.tData.slider_images.value,keysConvertor(u.slider_images,e.templateData.tData.slider_images.value),s();else if("service"==e.templateData.tData.slider_images.type){console.log("debugging gallery");var d,p,m,f=!1;try{d=a.get(e.templateData.tData.slider_images.service_attributes.sName),p=e.templateData.tData.slider_images.service_attributes.sFunction,m=e.templateData.tData.slider_images.service_attributes.sData,f=!0}catch(t){console.log("Injector does not have service you requested in asSlider!",e.templateData.tData.slider_images.service_attributes.sName)}f&&d[p](m,r)}}function asSlider1ModalController(e,t,a,n){as_upgrade(10),e.templateData=t,e.d_a=a,e.close=n}function asTwitterWidget(e,t){t.load("js!https://platform.twitter.com/widgets.js").then(function(){}),e.moduleData={},angular.isDefined(e.templateData.tData.twitterLink)&&(e.moduleData.twitterLink=e.templateData.tData.twitterLink.value),angular.isDefined(e.templateData.tData.twitterName)&&(e.moduleData.twitterName=e.templateData.tData.twitterName.value),angular.isDefined(e.templateData.tData.heading)&&(e.moduleData.heading=e.templateData.tData.heading.value)}function asUserCard(e,t,a,n,i){function o(t){var a=t.source.index,n=t.dest.index;console.log("In dragDrop"),console.log(" : ",e.moduleData.repeat_data),e.runAction("dragAndDropMember",[a,n],e.moduleData.repeat_data)}e.moduleData={};var l={},r={};e.uitreeLibs=[{name:"ui.tree",files:[window.file_base+"./libs/uitree/dist/angular-ui-tree.min.js","css!"+window.file_base+"./libs/uitree/dist/angular-ui-tree.min.css"]}],e.treeOptions={dropped:o,accept:function(e,t,a){try{return e.$treeScope.$id==t.$treeScope.$id}catch(e){return!0}}},l.repeat_data={photo:["image_path","t1_main_small_img"],buttonLink:["college_info"],name:["description","t1_heading"],text:["t1_description","description"],buttonText:[],photoLink:[],time:["t1_time"],view_count:["t1_view_count"],signature:["designation","college_info"]},r.repeat_data={clickStateParams:[{keys:["id","t1_link_text"],return:{"eval-feedid":"reqVars.t1_link_text+'-'+reqVars.id",source:e.commonconf.userSource}},{keys:["uid"],return:{"eval-uid":"reqVars.uid",source:e.commonconf.userSource}},{keys:["link"],return:{"eval-link":"reqVars.link"}}],cardClickStateParams:[{keys:["link"],return:{"eval-link":"reqVars.link"}}],name:[{keys:["first_name","last_name"],"eval-return":"reqVars.first_name+' '+reqVars.last_name"}],photo:[{keys:["profile_pic.medium"],"eval-return":"reqVars.s3_url+reqVars.profile_pic.medium"},{keys:["uid"],"eval-return":"reqVars.s3_url+'assets/images/profiles/170x170/'+reqVars.uid+'.jpg'"},{keys:["photo_medium_cached"],"eval-return":"reqVars.api_base+'campusfeed/s3/?img='+encodeURI(reqVars.photo_medium_cached)+'&width=170&height=170'"}],text:[{keys:["formatingSimpleParse2","response"],"eval-return":"simpleParsing2(reqVars.response)"}]},angular.isDefined(e.templateData.tData.heading)&&(e.heading=e.templateData.tData.heading.value),angular.isDefined(e.templateData.tConfiguration.convertorConfig)&&(l=e.templateData.tConfiguration.convertorConfig),angular.isDefined(e.templateData.tConfiguration.creatorConfig)&&(r=e.templateData.tConfiguration.creatorConfig);var s=a.get("commonutils");e.dataLoaded=!1,s.setElementsData(e,l,r).then(function(){e.dataLoaded=!0}),s.setActions(e,l,r),e.btnAction=function(t,a){console.log(t),console.log(e.moduleData.repeat_data),(e.templateData.tConfiguration.buttonFn="read_more")&&("auto"!=e.moduleData.repeat_data[t].textMaxHeight?(e.moduleData.repeat_data[t].textMaxHeight="auto",e.moduleData.repeat_data[t].buttonText=e.templateData.tConfiguration.lessButtonText||"Read Less"):(e.moduleData.repeat_data[t].textMaxHeight=e.templateData.tConfiguration.textMaxHeight,e.moduleData.repeat_data[t].buttonText=e.templateData.tConfiguration.buttonText))},e.openModel=function(t,a){var n={template:e.templateData.tConfiguration.model.template,scope_vars:{card_data:e.moduleData.repeat_data[t]}};console.log("ARGS",n),i.simpleBox(n,a.target)}}function contactUsCtrl(e,t){e.moduleData={},angular.isDefined(e.templateData.tData.heading)&&(e.moduleData.heading=e.templateData.tData.heading.value),e.contact_details=e.templateData.tData.contact.value,e.heading=e.templateData.tData.heading.value,angular.isDefined(e.templateData.tData.map_link)?e.contact_details.address_map=t.trustAsResourceUrl(e.templateData.tData.map_link.value):e.contact_details.address_map=t.trustAsResourceUrl("https://www.google.com/maps/embed/v1/place?key=AIzaSyDNGtjH1oykynJxvUgGAUnB7T63Ay7CqXw&q="+e.contact_details.address)}function eventsModularCtrl(e,t,a,n){var i={},o={};if(e.heading=e.templateData.tData.heading.value,e.introText=t.trustAsHtml(e.templateData.tData.introText.value),e.checkDates=datescheck,angular.isDefined(e.templateData.tData.eventData)){var l=n.get("commonutils");l.setElementsData(e,i,o,"eventData").then(function(){e.eventData=e.moduleData.eventData}),l.setActions(e)}else!function(){var t={stream:1,limit:3,cid:e.commonconf.cid,p:2};a.postDataCall("./events/get_top_events",t,function(t){1==t.success&&(e.eventData=t.data)})}()}function galleryModularCtrl(e,t,a,n,i){function o(t,a,i){var o={images:e.galleries[a].photos,caption:"",index:t};n.imageModalbox(o,i)}var l={},r={};if(e.heading=e.templateData.tData.heading.value,e.configs={gal_ids:null,no_gal:2,single_gal:!0,single_gal_pic_count:5},angular.isDefined(e.templateData.tConfiguration.gal_ids)&&(e.configs.gal_ids=e.templateData.tConfiguration.gal_ids),e.templateData.tConfiguration.no_gal>0&&(e.configs.no_gal=e.templateData.tConfiguration.no_gal),e.templateData.tConfiguration.viewAllState||(e.templateData.tConfiguration.viewAllState="inapp.gallery"),e.templateData.tConfiguration.viewAllParams||(e.templateData.tConfiguration.viewAllParams={}),!1===e.templateData.tConfiguration.single_gal&&(e.configs.single_gal=!1),e.templateData.tConfiguration.single_gal_pic_count>0&&(e.configs.single_gal_pic_count=e.templateData.tConfiguration.single_gal_pic_count),angular.isDefined(e.templateData.tData.galleries)){var s=i.get("commonutils");s.setElementsData(e,l,r,"galleries").then(function(){e.galleries=e.moduleData.galleries}),s.setActions(e)}else!function(){var t={cid:e.commonconf.cid,gallary_ids:e.configs.gal_ids,stream:1,lm:e.configs.no_gal,ad:4,category:[1,2]};a.getGalleries(t,function(t){if(1==t.success&&(e.galleries=t.data,e.configs.single_gal))for(var n=0;n<e.galleries.length;n++)e.galleries[n].description.length>100&&(e.galleries[n].description=e.galleries[n].description.substring(0,100)+"..."),function(t){function n(a){1==a.success&&(e.galleries[t].photos=a.data)}var i={gallary_id:e.galleries[t].id,lm:e.configs.single_gal_pic_count,stream:1,public:1};a.galleryPhotos(i,n)}(n)})}();e.openImages=o}function modularDonationCtrl(e){e.moduleData={},angular.isDefined(e.templateData.tData.heading)&&(e.moduleData.heading=e.templateData.tData.heading.value),angular.isDefined(e.templateData.tData.projectId)&&(e.moduleData.projectId=e.templateData.tData.projectId.value),angular.isDefined(e.templateData.tData.pref)&&(e.moduleData.pref=e.templateData.tData.pref.value),angular.isDefined(e.templateData.tData.introText)&&(e.moduleData.introText=e.templateData.tData.introText.value)}function modularHeaderCtrl(e,t,a,n,i,o,l){function r(){e.headerConfig=a.app_data.config.portalfolioHeader}function s(){var t=h;e.active="home",e.college_logo=t.cid,e.college_s_name=t.short_name,e.college_l_name=t.com_name,e.hide_about=5==t.insti_type,e.college_username=t.user_name,a.app_data.uid>0&&(e.uid=a.app_data.uid,e.name=a.app_data.name),c()}function c(){var a={cid:_};return t.postDataCall("./institutes/fetchAllCounts",a,function(t){1==t.success&&(e.event_tab_display=t.data.event_count>0,e.job_tab_display=t.data.job_count>0,e.team_tab_display=t.data.alumni_team>0,e.cf_tab_display=t.data.campusfeed_count>0)})}function u(t,a){if("home"==a&&"inapp.portfolio"==n.current.name||"about"==a&&"inapp.about"==n.current.name){var i=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset;scrollTo(i-72,1e3,function(){e.active=t})}else"about"==a?(a="about/",n.go("inapp.about",{section:t,source:e.source})):"home"==a&&(a="",n.go("inapp.portfolio",{section:t,source:e.source}))}function d(t){y==t?(y=-1,document.body.style.overflow="visible"):(y=t,(e.mobile_screen||e.tablet_screen)&&(document.body.style.overflow="hidden"))}function p(t){y=t,e.mobile_screen&&(document.body.style.overflow="hidden")}function m(e){y==e&&(y=-1,document.body.style.overflow="visible")}function f(e){return y==e}function g(){if(angular.isDefined(e.templateData.tData.fixedNavbar)&&1==e.templateData.tData.fixedNavbar){var t=document.getElementById("header_navbar_top"),a=document.getElementById("header_navbar_1");if(null==t||null==a)return}}function D(){if(angular.isDefined(e.templateData.tData.headerPadding)){if(null==document.getElementById("modular_header_container"))return}}function v(e){return i.trustAsHtml(e)}console.log("being called"),e.moduleData={},angular.isDefined(e.templateData.tData.supportingText)&&(e.moduleData.supportingText=e.templateData.tData.supportingText.value),angular.isDefined(e.templateData.tData.supportingText1)&&(e.moduleData.supportingText1=e.templateData.tData.supportingText1.value),angular.isDefined(e.templateData.tData.college_l_name)&&(e.moduleData.college_l_name=e.templateData.tData.college_l_name.value),e.moduleData.tData=angular.isDefined(e.templateData.tData)?e.templateData.tData:{},e.moduleData.tConfiguration=angular.isDefined(e.templateData.tConfiguration)?e.templateData.tConfiguration:{},e.s3base=s3base;var _,h=a.app_data.data;void 0!==h&&void 0!==h.cid?_=h.cid:(h={cid:0},_=0,a.app_data.uid>0?a.header.switch=1:a.header.switch=2);e.redirect_link=u;var y=-1;e.toggle5list=d,e.close5list=m,e.show5list=p,e.islistOpened=f,e.handle_fixednav=g,e.trustAsHtml=v,e.handle_header_padding=D,function(){console.log("me activate"),e.source="",r(),s()}()}function portfolioDefault(e){function t(){if(!0!==a){a=!0;var e=getCurrentElements();scrollTo(e.to-72,1e3,function(){a=!1})}}var a=!1;e.getElements=t}function signupCardCtrl(e,t){function a(e){platform?mobile.setConfig(e.sub_cid,!0,function(){t.app_data=appData.data,$state.reload()}):angular.isDefined(e.sub_sn)&&""!==e.sub_sn&&null!==e.sub_sn?window.location.href=root+e.sub_sn:window.location.href=root+"/institutes/"+e.sub_cid}e.origin=t.COMM_APPBASE||window.location.origin,e.origin=e.origin.replace(/\/$/,""),e.redirect_to_child=a,e.moduleData={},angular.isDefined(e.templateData.tData.loggedin)?e.moduleData.loggedin=e.templateData.tData.loggedin.value:e.moduleData.loggedin=!1,angular.isDefined(e.templateData.tData.child_institutes)&&(e.moduleData.child_institutes=e.templateData.tData.child_institutes.value),angular.isDefined(e.templateData.tData.insti_info)&&(e.moduleData.insti_info=e.templateData.tData.insti_info.value),console.log("logedin",e.moduleData.insti_type)}function simpleHtmlCtrl(e,t,a){function n(e,t){angular.isUndefined(t)&&(t={}),a.go(e,t)}e.redirectTo=n,e.moduleData={},angular.isDefined(e.templateData.tData.heading)&&(e.moduleData.heading=e.templateData.tData.heading.value),angular.isDefined(e.templateData.tData.text)&&(e.moduleData.mainText=t.trustAsHtml(e.templateData.tData.text.value)),angular.isDefined(e.templateData.tData.buttonText)&&(e.moduleData.buttonText=e.templateData.tData.buttonText.value),angular.isDefined(e.templateData.tData.buttonLink)&&(e.moduleData.buttonLink=e.templateData.tData.buttonLink.value),angular.isDefined(e.templateData.tData.buttonTarget)&&(e.moduleData.buttonTarget=e.templateData.tData.buttonTarget.value),angular.isDefined(e.templateData.tConfiguration.headingClasses)?e.headingClasses=e.templateData.tConfiguration.headingClasses:e.headingClasses=e.commonconf.headingClasses,angular.isDefined(e.templateData.tData.backgroundimage)?(e.heroImage={background:"url("+e.templateData.tData.backgroundimage.value+") center/cover no-repeat"},e.moduleData.backgroundimage=e.templateData.tData.backgroundimage.value):e.heroImage={background:"url(https://almashines.s3.dualstack.ap-southeast-1.amazonaws.com/assets/images/news/400x400/post1117_t1498905489_nalst6gEna.jpg) center/cover no-repeat"},angular.isDefined(e.templateData.tData.repeatingData)&&(e.moduleData.repeatingData=e.templateData.tData.repeatingData)}function userCardWrapperCtrl(e){e.moduleData={},e.moduleData.childs_json=[],angular.forEach(e.templateData.tData.child_repeat_data.value,function(t,a){e.moduleData.childs_json[a]=angular.copy(e.templateData.tConfiguration.child_common),e.moduleData.childs_json[a].tData={},"direct"==e.templateData.tData.child_repeat_data.type?angular.forEach(e.templateData.tConfiguration.localDirectChildKeys,function(n,i){angular.isDefined(t[i])&&(e.moduleData.childs_json[a].tData[n]={type:"direct",value:t[i]})}):e.moduleData.childs_json[a].tData=angular.copy(t)}),console.log("$scope.moduleData",e.moduleData),e.templateData.tData.heading&&(e.moduleData.heading=e.templateData.tData.heading.value)}!function(){"use strict";angular.module("cm_as",[])}(),function(){"use strict";function e(e){function t(t,a){var n={stream:t.stream,limit:t.limit},i={cid:t.cid,stream:t.stream,start_id:t.start_id,single:t.single,limit:t.limit,order_view_count:!!angular.isDefined(t.order_view_count)&&t.order_view_count};angular.isDefined(t.types)&&(i.types=t.types);var o="./campusfeed/get_draft";angular.isDefined(t.criteria)&&"draft_feeds"==t.criteria?e.post(o,n).success(a):(o=!0===t.non_public_endpoint?"./campusfeed/getCampusFeed":"./campusfeed/publicCampusFeed",e.post(o,i).success(a))}function a(t,a){e.post("./tags/tags/stream/blogs",t).success(a)}return{getAllCampusFeeds:t,getCampusFeedsTagged:a}}angular.module("cm_as").factory("as_campusfeed",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,a,n){e({url:"./authentication/eventTicketAmount",method:"POST",data:{eventID:t,is_guest:a},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(n)}function a(t,a){e({url:"./admin/blockUser",method:"POST",data:{uui:t},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}return{getTicketPrices:t,blockUser:a}}angular.module("cm_as").factory("as_ev",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t){function a(e){function a(e){for(var t in e)n.checks[t].httpreq="Finished",n.checks[t].allowed=e[t]}function i(e){for(var t in e)n.checks[e[t].hash].retry=!0}var o=[],l=[],r={};for(var s in e){var c=objectHash({entityState:e[s].entityState,entityInput:e[s].entityInput});if(1!==r[c]){if(r[c]=1,isObject(n.checks[c])&&!n.checks[c].retry)var u=n.checks[c];else{var u={entityState:e[s].entityState,entityInput:e[s].entityInput,hash:c,httpreq:"inProgress"};n.checks[c]=u,l.push({entityState:e[s].entityState,entityInput:e[s].entityInput,hash:c})}o[s]=u}}return l.length>0&&function(e){t({url:"./institutes/entityAccessCheck",method:"POST",data:{entities:e},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){t&&t.data?a(t.data):i(e)}).error(function(){i(e)})}(l),o}var n={checks:{},AccessObject:a};return n}angular.module("cm_as").factory("entityCheck",e),e.$inject=["$state","$http"]}(),function(){"use strict";function fileupload($http,$injector,$ocLazyLoad,$timeout){function Instance(fileInputElement){var self={};return self.files={},self.totalFilesSize=0,self.uploadsInProgress=0,self.xhrObject={},self.fileInputElement=fileInputElement,self.maxFileSize=10485760,self.multipleAllowed=!1,self.responseFormat={filename:"response.data.filename",fullpath:"response.data.fullpath",url:"response.data.url",original:"response.data.original",error:"response.error"},self.fileFormat={filename:"fileData.filename",fullpath:"fileData.fullpath",url:"fileData.url",original:"fileData.original",temporary:"fileData.temporary"},self.removed={},self.setUploadURL=function(e){self.uploadURL=e},self.mapUrlResponseFormat=function(e){if(!e||e.constructor!==Object)return!1;e.filename&&e.url&&(self.responseFormat.filename=e.filename,self.responseFormat.url=e.url),e.fullpath&&(self.responseFormat.fullpath=e.fullpath),e.original&&(self.responseFormat.original=e.original),e.error&&(self.responseFormat.error=e.error)},self.setMaxFileSize=function(e){isNullUndefined(e)||(self.maxFileSize=e)},self.setMaxTotalUploadSize=function(e){isNullUndefined(e)||(self.maxTotalUploadSize=e)},self.setAllowedFileTypes=function(e){try{self.allowedFileTypes=[];for(var t=0;t<e.length;t++)self.allowedFileTypes.push(e[t].toUpperCase())}catch(e){}},self.setMultipleAllowed=function(e){"boolean"==typeof e&&(self.multipleAllowed=e)},self.setOnUploadsStarted=function(e){"function"==typeof e&&(self.onUploadsStarted=e)},self.onUploadsStartedFn=function(){"function"==typeof self.onUploadsStarted&&self.onUploadsStarted()},self.setOnUploadsCompleted=function(e){"function"==typeof e&&(self.onUploadsCompleted=e)},self.onUploadsCompletedFn=function(){"function"==typeof self.onUploadsCompleted&&self.onUploadsCompleted()},self.setOnFileDeleted=function(e){"function"==typeof e&&(self.onFileDeleted=e)},self.onFileDeletedFn=function(){"function"==typeof self.onFileDeleted&&self.onFileDeleted()},self.getFiles=function(){var e=[];for(var t in self.files)e.push(self.files[t]);return e},self.setFiles=function(e,t){if(e.constructor!==Array)return!1;t||(t=self.fileFormat);for(var a in e){var n=self.evalMappedData(e[a],t),i=n[0],o=n[1],l=n[2],r=n[3],s=n[5];if(!i||!l)return self.files={},!1;self.files[a]={filename:i,fullpath:o,url:l,original:r,status:"done"},s&&(self.files[a].temporary=!0)}return!0},self.addUploadedFile=function(e,t){if(void 0===e)return!1;self.files.hasOwnProperty(e)?!1===self.files[e].hasOwnProperty("original")&&(self.files[e]=t):self.files[e]=t},self.success=function(e){self.uploadsInProgress=self.uploadsInProgress-1;var t=e.config.data.uploadkey,a=self.evalMappedRepsonse(e.data),n=a[0],i=a[1],o=a[2],l=a[3],r=a[4];n&&o?$timeout(function(){var a={filename:n,fullpath:i,url:o,original:l};a.status="done",a.size=humanReadableFileSize(e.config.data.file.size),self.addUploadedFile(t,a),self.totalFilesSize+=a.size,self.uploadsInProgress<=0&&self.onUploadsCompletedFn()}):r?(self.files[t].status="failed",self.files[t].errormsg=r,self.uploadsInProgress<=0&&self.onUploadsCompletedFn()):(self.files[t].status="failed",self.files[t].errormsg="Temporary Connection Error",self.uploadsInProgress<=0&&self.onUploadsCompletedFn()),self.uploadsInProgress<=0&&(self.fileInputElement.value="")},self.evalMappedData=function(data,mapping){var response=data,fileData=data,filename,fullpath,url,original,error,temporary;try{filename=eval(mapping.filename),url=eval(mapping.url)}catch(e){filename=!1,url=!1}try{fullpath=eval(mapping.fullpath)}catch(e){fullpath=filename}try{original=eval(mapping.original)}catch(e){original=filename}try{temporary=eval(mapping.temporary)}catch(e){temporary=!1}if(!filename||!url)try{error=eval(mapping.error)}catch(e){error=!1}return[filename,fullpath,url,original,error,temporary]},self.evalMappedRepsonse=function(e){return self.evalMappedData(e,self.responseFormat)},self.progress=function(e,t){$timeout(function(){var a=t.config.data.uploadkey,n=t.config.data.file;self.addUploadedFile(a,{name:n.name,percent:e,status:"inprogress",size:humanReadableFileSize(t.config.data.file.size),data:n})})},self.checkfiles=function(){if(self.uploadsInProgress>0)return console.log("Uploads Is In Progress",self.uploadsInProgress),!1;var e=self.fileInputElement.files;if(0==e.length)return console.log("No Files Found",e),!1;for(var t=self.totalFilesSize,a=0;a<e.length;a++){if(t+=e[a].size,e[a].size>self.maxFileSize)return alert("Size of file '"+e[a].name+"' is greater than "+humanReadableFileSize(self.maxFileSize)),self.fileInputElement.value="",!1;var n=e[a].name.split(".").pop().toUpperCase();if(self.allowedFileTypes&&self.allowedFileTypes.length>0&&-1===self.allowedFileTypes.indexOf(n))return alert("Only '"+self.allowedFileTypes.join("', '")+"' file types are allowed."),!1}return!(self.maxTotalUploadSize&&self.maxTotalUploadSize>0&&t>self.maxTotalUploadSize)||(alert("Total Size is greater than "+humanReadableFileSize(self.maxTotalUploadSize)),self.fileInputElement.value="",!1)},self.uniqueNum=0,self.upload=function(){if(!1===self.checkfiles())return!1;var e=self.fileInputElement.files,t=[];self.uploadsInProgress=e.length,self.multipleAllowed||(self.files={}),self.onUploadsStartedFn();for(var a=0;a<e.length;a++)self.uniqueNum+=1,t[a]=self.uniqueNum+randomString(8),self.updateFileDataURL(e[a]),self.xhrObject[t[a]]=Upload.upload({url:self.uploadURL,data:{file:e[a],uploadkey:t[a]}}).then(function(e){self.success(e)},function(e){console.log("Error status: "+e.status)},function(e){var t=parseInt(100*e.loaded/e.total);self.progress(t,e)});return!0},self.updateFileDataURL=function(e){if(e.size<2097152)try{var t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",function(){e.dataURL=t.result},!1)}catch(e){}},self.remove=function(e){return!self.removed[e]&&(!!self.files[e]&&(self.removed[e]=self.files[e],delete self.files[e],self.onFileDeletedFn(),!0))},
self.default_image="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAADTCAYAAAD0xU3nAAANWUlEQVR4Xu2diXLcIAyGN72P5P3fM0fvNh1t6xyb3QVsATo+z2Q6nbVl+MVnsBD44vr6+n7HgQIosEmBC0DapB8Xo8BeAUCiIaCAggKApCAiJlAAkGgDKKCgwAuQrq6uFMxiAgXiK3Bzc/NQSUCK729q2EkBQOokLGZzKQBIufxNbTspAEidhMVsLgUAKZe/qW0nBQCpk7CYzaUAIOXyN7XtpMAmkO7vyXHt5BfMGlPg4uLibIk2g3R7e2usyhQHBXQVuLy83AGSrqZYS6gAICV0OlXWVwCQ9DXFYkIFACmh06myvgKApK8pFhMqAEgJnU6V9RUAJH1NsZhQAUBK6HSqrK8AIOlrisWECgBSQqdTZX0FAElfUywmVACQEjqdKusrAEj6mmIxoQKAlNDpVFlfAUDS1xSLCRUApIROp8r6CgCSvqZYTKgAICV0OlXWVwCQKjSVJcSvXr3a/x0uJ5Y9Kf78+bP/Y3+KCjGDngJIJxwr0Lx582b/9/r16yr3C0y/fv3a//3+/bvqGk6KoQAgHfjx3bt3u7dv3+57ny3HAtWPHz/oqbYI6eRaQPrvKIFHINoK0KHfZbgnMMkfR1wF0oMkw7YPHz6oA3TYZKSH+v79+37YxxFPgdQgSQ8kf6X9yDTdLj2TAMURS4G0IEkvJMO5GYf0Sl+/fp1xa+7ZSYGUIH369Kk6EtdJ931UT2AiZN5L4bF204E0syc6dC0909jG3vNuqUCS96H379/31LPZNu9MzZKZvCANSDKx+vHjR5NO+Pbt2+7nz58my0ah6hRIA1JNResk0z9L3pPu7u54X9KXdpjFmvbl/rMuMpyTYZ3lQ3ok6Zk4fCoQHiSZI/r8+fPQuaI1TUF6pS9fvuyTXzn8KRAeJEtRulLzIIpXUsju76FB8tIbPW0e8q5Er2QXmFMlCw2S5UjdKYdI+hAJroD0QgEZ+8/6hqyEuwUmT4dkPMi7EocvBUL3SDWVs+guefCQOmTRM6fLVNPWXIa/ZXmE5NR5PJig9ee1sCBZTAeqbR6kDdUqZee8sCB5CnsfNgfC4HYAqS1JWJA8BhoWpxFwqG2+ds4DJDu+eCiJzCPJfBKHHwXCgmRh8d7aZgBIa5Wbd11YkBjazWtUGe8cFiTPwQbekfyhGBYkD0snTjUXllQA0gsFZqUIyQ5B0it5PMi38+e1sD2S7Jgq65A8HpJrx97hvjwXFiRxg4CkvQVxb/fO6sF71yu6/dAgeXxP4v3oJXKSwW99q+fQIHlMXJVNI603mpG9i/hQpjJEE8t7WoQGydvwjmHdc0RlhbNMrC/Dc8tBmPAgeYreWW4oI3uh5V6H2SnyoJEe22IgJjxIXnoleqPnqJ6aULe6B2AKkDzs3cBivkeQSmvJLGZ+pABJXGQ5iZUk1UeI5KEnvVHpm1XWoptpQDp8cZ0x5j92TzaGfFRFggrywCtBtFxh6Z0yDUgifqujesNm+eW5d92P2W+dQBf9ZEhsYbogFUjiPEvvS5aeqDPAeXrPtcterPTo6UAS50lIXLIeaocQPRoZED2qujUDxcI7ZkqQxIXLjPlomCwNR3o8IFptao0QZm8YkxYkcfjoAIQ8OWVCkb29/+Gm/c46s5dPDdLy9JR5C/nr1TtJLyThWtmvjh1U/6ne6yE2K1cRkP7TJI4VmOT9SQsogUaGHPKkBKDng75e83qzgg+AdDCoF4gEJhm7y3vUmkOGbgKQ9EIM414q2Hs/jRnBB0A6Q4pAJUDJn4zn5f+HvZU8AeVPnCepKwIQ8JwWtZT+s+bBdeya0cEHQGr03DGQGk2kPX10pHTkHuqAlLZZj634rK8njgo+ANLY9pT2bq3pP1pCjQo+AJKWx7BzUoG16T9akso7q+zM1DNyCkha3sLOUQW2pv9oydo7+ABIWp7CzgsFtNJ/tKTtGXwAJC0vYeeZAtrpP1ry9lqJDEhaHsLOgwK90n80JO4VfAAkDe9g45kCvdJ/tGTuEXwAJC3vYGevQO/0Hy2ZtTdQASQtz2Bnn6Po6QsgmhuoABIAqCgwOv1HpdC73X7PBwFq6wFIWxXk+n0ir2QuaC0/GSmp1gY0gDTSa0HvZT24UJJdI/gASCWV+f2sAl6CCyU3bg0+AFJJYX4/qcCotUWjXLAl+ABIo7wU7D61Wwt7q/ba4AMgefO0gfJaTf/RkGZt8AGQNNRPZMNy+o+WG9Z8OgaQtNRPYmf22qJRMrcGHwBplGcC3MfK2qJRUrYEHwBplFec38db+o+W3LW7twKSluId7UiYWZ6OPZdKnyu+1/QfDZfUBh8ASUPtjjaWnqD3UulTVcgQXCi5ryb4AEglFSf+ftgTtIzZtYrtPf1HS4dS8AGQtJRWtnMqEXTthOGa4kVJ/1lT92PXnBsVAJKWysp2TvUEtWP2rcWJlv6zVY/l+lPBB0DSUljRTqkn6LXvwFKFzMGFkhtPfSgOkErKDf69tifo9cWFyOk/Wq489iADJC11Fey0JoL2iOTN2lpYQb6hJg4fZIA0VP7TN1vbE2huepgl/UfL5U8fZICkpepGO1t6Ao1IXrb0n43uerh8CT4AkpaiG+xs7Qm2RvKsbS28Qcopl8qnYyRAVNqz4ubm5qF8F9fX1/dPS3t1dXW28OLk29vbKRX0cFOtnqBm9v2YHmuHlB60HVXGJXULkEYpfnAf7Z6gNPt+rJpbhpSTZDN5W4EJkCa4pldP0BrJK81ZTZDG5S0BaYLbeieCtkbyyKfb3ggAabuGzRZGNNyWb6f2BrtZIIcXANJgp2kFF0rFbk0j6jXULJUzyu+ANNCTo1eZtu4gqh38GCjt9FsB0iAXzEoEbY3k1eb6DZLNzW0AaYCrZr+DtC4I3DpBPEBSc7cApAEuGRFcKFWjdhOPxY6FMpfqZOl3QOrsDUvzNK2RPK+fauns0qPmAamj6tbeN1ojebPe6zq6pJtpQOokrdVG2BrJGx1p7OSO7mYBqYPE1udkWiN5o+a+OrhimElA6iC1h0RQInm6jgckXT13nkLHrZE8Dw8IZXdWmwOkaqnKJ1oLLpRKfGpHnFPXef7ockmLrb8D0lYF/1/vNb2GSJ5OAwAkBR2tBxdKVSSSV1Ko/DsglTU6e8bs9J+NxX+4vHVBIJG858oD0saW6Cm4UKoqkbySQqd/B6T12u0iPpVbtvaK0htvaAIPlwLSShWjzvi3bu3l/f1wpftfXAZIK5S0mv6zoipHLyGS164kIDVqlmU407pJv7c5tEa3F08HpKJEz0/ItE6nNZJnaclIo1s3nw5IDRJmbChs7VXXQACpTqdd1OBCTfWJ5JVVAqSyRrvowYWSBETySgrtdoBU0IhEzX8CSUO5u7vb/1tztH40rcam5XMAqeCdTMGFUkNtXRCYKZIHSGdaT6T0nxIktb8TyTuuFCCdaEGZnqa1EC3nEcl7qRggHWlF2cb3rSDJ+a1be8kQWdKJoh6AdOBZcsfqmjqRvOc6AdJBu2FfgjqQ5KzWBYFeVxHXKAJIT1QiuFDTZJ6fQyTvcXqAT1/udiHXFrVjse4KFgQyIbtvOZGHHOvQaL+qdWuvaPNz6Yd2BBfaoTl1RWskL9Im/alByrK2SA+V85YyLwhMDVK04cUoYM7dpzWSFyWrPi1IGdcWjQKtNZIXYROZlCBFeQqOAmPNfbJF8tKBlH1t0Roo1l7TGsnzPBmeCiTWFq1FYt110rhkda1kjNccnv2TCiSCCzXNWfecLJG8NCARXNAFpMVahkheCpBYW9TS7PucGz2SFx4kggt9wFhjNXIkLzRIpP+sae59r4m6tVdokDyHU/s253nWoy4IDAsSa4vmwVK6c8RIXkiQIqSclBqj99+jbdIfDiTWFvlBLNLWXqFAIrjgB6KlpFG29goDEmuL/EG0lDhCJC8MSAQX/IIUIZIXAiSCC34hWkouDdHzJv3uQWJtkX+Ilhq0phFZSv1yDRLpP3EgWmriNZLnFiSCC/Eg8hzJcwsSa4vigiQ18xbJcwkSa4tiQyS18xbJcweSpRfM+M15bg1bFwTOzGpxBRLBhbkNe8bdvUTy3IDkeWOMGQ0w0j1bI3kzJufdgERwIRIa7XVp3dprdHtxAdKMJ0y7q7mitwKtm/SP/NymeZAILvRunn7sW14QaBqkmVEYP80rV0lbI3mjUsjMgsTaolyAtNS2NZI3IqnZJEik/7Q0q5znWtvayyRIBBdywtFa69ZIXs9dpcyBNKIbbnUY59tUQBqvlU36TYFEcMFmg7VcKiuRPDMgyXuRJKNyoECrAkvPVHudtDXto+bD0jc3Nw+3vbi+vr5/Woirq6uzZZJK3t7eapcbeyhgSoHLy8tdCVBAMuUyCmNRAUCy6BXK5E4BQHLnMgpsUQFAsugVyuROAUBy5zIKbFEBQLLoFcrkTgFAcucyCmxRgSEgWaw4ZUIBbQW6ziNpFxZ7KOBVgU0Tsl4rTblRQFsBQNJWFHspFQCklG6n0toKAJK2othLqQAgpXQ7ldZWAJC0FcVeSgUAKaXbqbS2AmdB0r4Z9lAggwIvVshmqDR1RAFtBQBJW1HspVTgL8J3AlMfA0/hAAAAAElFTkSuQmCC",console.log("self",self),self}var service={instance:Instance,loaded:!1},Upload;return $ocLazyLoad.load([{name:"ngFileUpload",files:[window.file_base+"./libs/ng-file-upload-shim.min.js",window.file_base+"./libs/ng-file-upload.min.js"]}]).then(function(){Upload=$injector.get("Upload"),service.loaded=!0}),service}angular.module("cm_as").factory("fileupload",fileupload),fileupload.$inject=["$http","$injector","$ocLazyLoad","$timeout"]}(),function(){"use strict";function e(e){function t(t,a){if(!t.contentType)return[];var n="./tags/tags/stream/"+t.contentType;return e.post(n,t).success(a)}return{get:t}}angular.module("cm_as").factory("taggedContent",e),e.$inject=["$http"]}(),function(){"use strict";function commonutils($http,$rootScope,$injector,$sce,$q){function setElementsData(e,t,a,n){return $q(function(i,o){function l(){function o(o){var l=processResponse(o,t,a,n),r=!1;isArray(l)?(r=!0,isArray(e.moduleData[n])?e.moduleData[n]=e.moduleData[n].concat(l):e.moduleData[n]=l,e.sLoadmore&&l.length<d.limit&&(e.sLoadmore.reachedEnd=!0),i("success")):i("no-data"),e.sLoadmore&&(e.sLoadmore.fetching=!1,r||(e.sLoadmore.reachedEnd=!0))}function l(){e.sLoadmore&&(e.sLoadmore.fetching=!1,e.sLoadmore.reachedEnd=!0),i("error")}isObject(d)&&("stream_limit"===d.type&&(e.sLoadmore.stream+=1,r[d.streamKey]=e.sLoadmore.stream,r[d.limitKey]=d.limit),e.sLoadmore&&(e.sLoadmore.fetching=!0)),c[u](r,o,l)}e.moduleData={};var r;if(isNullUndefined(n)&&(n="repeat_data"),"direct"==e.templateData.tData[n].type){e.moduleData[n]=e.templateData.tData[n].value,keysConvertor(t[n],e.moduleData[n]);var s={s3_url:$rootScope.s3_url,api_base:$rootScope.api_base};keysCreator(a[n],e.moduleData[n],s),i("success")}else if("function"==e.templateData.tData[n].type)e.templateData.tData[n].value(function(o){e.moduleData[n]=o,keysConvertor(t[n],e.moduleData[n]);var l={s3_url:$rootScope.s3_url,api_base:$rootScope.api_base};keysCreator(a[n],e.moduleData[n],l),i("success")});else if("service"==e.templateData.tData[n].type){var c,u,r,d,p,m=!1;try{c=$injector.get(e.templateData.tData[n].service_attributes.sName),u=e.templateData.tData[n].service_attributes.sFunction,d=e.templateData.tData[n].service_attributes.sLoadmore,p=e.templateData.tData[n].service_attributes.sGetCount,r=e.templateData.tData[n].service_attributes.sData,m=!0}catch(e){console.log("Injector does not have service you requested in AsUserCard!")}angular.isObject(r)||(r={}),m&&(isObject(d)&&"stream_limit"===d.type&&(e.sLoadmore={stream:0,fetchData:l,reachedEnd:!1}),l(),function(){p&&c[p](r,function(t){e.count=t})}())}})}function setActions(scopeObj,convertorConfig,creatorConfig,repeatDataKey){if(isNullUndefined(repeatDataKey)&&(repeatDataKey="repeat_data"),scopeObj.actionSource={},isObject(scopeObj.commonconf.actionSource))for(var fnName in scopeObj.commonconf.actionSource){if(isString(scopeObj.commonconf.actionSource[fnName]))var fnNameStr=scopeObj.commonconf.actionSource[fnName];else{if(!isObject(scopeObj.commonconf.actionSource[fnName])||!scopeObj.commonconf.actionSource[fnName].function)continue;var fnNameStr=scopeObj.commonconf.actionSource[fnName].function}var fnArray=fnNameStr.split("."),fnParams;scopeObj.commonconf.actionSource[fnName].params&&(fnParams=scopeObj.commonconf.actionSource[fnName].params);try{for(var service=$injector.get(fnArray[0]),i=1;i<fnArray.length;i++)service=service[fnArray[i]];scopeObj.actionSource[fnName]={function:service,params:fnParams,actionObj:scopeObj.commonconf.actionSource[fnName]}}catch(e){console.log(e)}}scopeObj.runAction=function(actionName,cardDataIndex,cardDataArray){if(scopeObj.actionSource[actionName]){var action=scopeObj.actionSource[actionName],params=angular.copy(action.params),actionObj=action.actionObj,cardDataIndexArray=[];if(actionObj.cardDataConfig){isArray(cardDataIndex)?(cardDataIndexArray=cardDataIndex,cardDataIndexArray[0]>cardDataIndexArray[1]?(cardDataIndexArray[0]=cardDataIndexArray[1],cardDataIndexArray[1]=cardDataIndexArray[1]+1):(cardDataIndexArray[0]=cardDataIndexArray[1],cardDataIndexArray[1]=cardDataIndexArray[1]-1)):cardDataIndexArray=[cardDataIndex];for(var j=0;j<cardDataIndexArray.length;j++){var cardData=cardDataArray[cardDataIndexArray[j]];try{for(var i=0;i<actionObj.cardDataConfig.length;i++){var cardDataConfigObj=actionObj.cardDataConfig[i],value=void 0;cardDataConfigObj.runOnIndex!==j&&(value="processCardDataCallbackFunction"===cardDataConfigObj.valueType?function(result){if(cardDataConfigObj.callbackSchema&&(result=getJsonValue(result,cardDataConfigObj.callbackSchema)),isArray(cardDataConfigObj.callbackProcessors))for(var k=0;k<cardDataConfigObj.callbackProcessors.length;k++){var processor=cardDataConfigObj.callbackProcessors[k];if(processor["service-eval"]){var EvalStr=processor["service-eval"],serviceStr=EvalStr.split(".")[0],service=$injector.get(serviceStr);EvalStr=EvalStr.replace(new RegExp("^"+serviceStr+"."),"service."),result=eval(EvalStr)}}(result=processCardData(result,convertorConfig,creatorConfig,repeatDataKey))&&(cardDataArray[cardDataIndexArray[j-1]]=result)}:"deleteCardDataCallbackFunction"===cardDataConfigObj.valueType?function(e){e&&cardDataArray.splice(cardDataIndexArray[0],1)}:getJsonValue(cardData,cardDataConfigObj.cardDataKey),setJsonValue(params,cardDataConfigObj.paramsKey,value))}}catch(e){}}}action.function(params)}}}function getJsonValue(e,t){var a=t.split("."),n=e;if(isObject(n)){for(var i=0;i<a.length;i++)if(0!==i||"root"!==a[0]){if(isNullUndefined(n))return;n=n[a[i]]}return n}}function setJsonValue(e,t,a){var n=t.split(".");if(isObject(e)){for(var i=0;i<n.length;i++)if(0!==i||"root"!==n[0]){if(isNullUndefined(e))return;i<n.length-1?(isObject(e[n[i]])||(e[n[i]]={}),e=e[n[i]]):e[n[i]]=a}return!0}}function processResponse(e,t,a,n){if(!t||!a)return!1;var i=!1;if(e){i=!0;var o=e;if(angular.isDefined(e.schema))for(var l in e.schema.dataKey)angular.isDefined(o[e.schema.dataKey[l]])?o=o[e.schema.dataKey[l]]:i=!1;if(i){keysConvertor(t[n],o);var r={s3_url:$rootScope.s3_url,api_base:$rootScope.api_base};return keysCreator(a[n],o,r),angular.isDefined(o)&&angular.isArray(o)&&angular.forEach(o,function(e,t){angular.isObject(e)&&e.hasOwnProperty("text")&&(e.text=$sce.trustAsHtml(e.text))}),o}}return!1}function processCardData(e,t,a,n){var i=processResponse([e],t,a,n);if(i)return i[0]}var service={setElementsData:setElementsData,setActions:setActions};return service}angular.module("cm_as").factory("commonutils",commonutils),commonutils.$inject=["$http","$rootScope","$injector","$sce","$q"]}(),function(){"use strict";function e(){var e={0:{status:"Incomplete Profile",detail:"User Just Registered"},1:{status:"Incomplete Profile",detail:"Reached Authentication Page"},2:{status:"Pending Profile",detail:"Requested by Admin"},3:{status:"Incomplete profile",detail:"Friend's Authentication"},4:{status:"Pending profile",detail:"Requested by Friend"},5:{status:"Authenticated User",detail:"Authenticated by Friend"},6:{status:"Authenticated User",detail:"Authenticated by Admin"},7:{status:"Rejected User",detail:"Rejected by Admin"},8:{status:"Rejected User",detail:"Rejected by Friend"},9:{status:"Authenticated User",detail:"Authenticated by Invitation"},10:{status:"Blocked User",detail:"User blocked to use platform"},11:{status:"Authenticated User",detail:"System Generated User"},12:{status:"Pending Profile",detail:"Admin created by Admin"},13:{status:"Authenticated User",detail:"Admin created User"},14:{status:"Authenticated User",detail:"Auto Authenticated User"},15:{status:"Authenticated User",detail:"API created User"}};return function(t,a){angular.isUndefined(t)&&(t=-1),angular.isUndefined(a)&&(a=!1),t=t.toString();var n="";return angular.isDefined(e[t])&&(n=a?e[t].detail:e[t].status),n}}function t(){return function(e){return n(e)}}function a(){return function(e){return n(e).split(" ")[0]}}function n(e){return e.replace(/^(dr|mr|mrs|ms)(\.)?/i,"").trim()}angular.module("cm_as").filter("authStatus",e).filter("filterSalutation",t).filter("firstName",a)}(),function(){"use strict";function e(e){function t(t,a){var n=e.app_data.config.lingo;return angular.isDefined(n[t])&&"[variable]"!=n[t]?n[t]:a}return t}function t(e){function t(t,a){var n=e.app_data.config.meta;return angular.isDefined(n[t])?n[t]:a}return t}function a(e,t){function a(e,a){void 0===a&&(a="");var n=null,i=t("asMeta")(1,null);return angular.isArray(i)&&angular.forEach(i,function(t,a){null===n&&t.code==e&&(n=t.lingo||t.name)}),null===n&&(n=a),n}return a}function n(e){function t(e,t){var i=t;if("string"==typeof i&&(n=i.charAt(0)==i.charAt(0).toUpperCase(),i=i.toLowerCase()),2==e){if("donation"==i)return a("gift");if("donations"==i)return a("gifts");if("donation(s)"==i)return a("gift(s)");if("donate"==i)return a("give");if("donated"==i)return a("gifted")}else if(3==e){if("donation"==i)return a("endorsement");if("donations"==i)return a("endorsements");if("donation(s)"==i)return a("endorsement(s)");if("donate"==i)return a("endorse");if("donated"==i)return a("endorsed");if("donor"==i)return a("endorser");if("donors"==i)return a("endorsers");if("donor(s)"==i)return a("endorser(s)")}else if(4==e){if("donation"==i)return a("contribution");if("donations"==i)return a("contributions");if("donation(s)"==i)return a("contribution(s)");if("donate"==i)return a("contribute");if("donated"==i)return a("contributed");if("donor"==i)return a("contributor");if("donors"==i)return a("contributors");if("donor(s)"==i)return a("contributor(s)")}return t}function a(e){return n?e.charAt(0).toUpperCase()+e.slice(1):e}return t;var n}angular.module("cm_as").filter("asLingo",e).filter("asMeta",t).filter("asRoleLingo",a).filter("asDonation",n),e.$inject=["$rootScope"],t.$inject=["$rootScope"],a.$inject=["$rootScope","$filter"],n.$inject=["$rootScope"]}(),function(){"use strict";function e(){return window.encodeURIComponent}function t(e){return function(t,a){return t=t.replace(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,"https://www.youtube.com/embed/$2"),isNullUndefined(a)&&(a=!0),a&&(t=e.trustAsResourceUrl(t)),t}}angular.module("cm_as").filter("encodeURIComponent",e).filter("youtubeEmbedURL",t),t.$inject=["$sce"]}(),function(){"use strict";function evalObj($rootScope){function evalObj(obj,$scope,reqVars){for(var key in obj){var value=obj[key];"object"==typeof value&&evalObj(value),-1!=key.indexOf("eval-")&&(console.log(value),obj[key.replace("eval-","")]=eval(value),delete obj[key])}}return evalObj}angular.module("cm_as").filter("evalObj",evalObj),evalObj.$inject=["$rootScope"]}(),function(){"use strict";function e(e){var t=["bytes","KB","MB","GB","TB","PB"];return function(e,a){if(isNaN(parseFloat(e))||!isFinite(e))return"?";for(var n=0;e>=1024;)e/=1024,n++;return e.toFixed(+a)+" "+t[n]}}angular.module("cm_as").filter("filesize",e),e.$inject=["$filter"]}(),function(){"user strict";function e(e,t){function a(e,a){var i="";if(!e||e.constructor!==Object)return e;var o=e.role;if(o=parseInt(o),isNaN(o))return console.error("'role' not found for memberSignature"),"";a&&a.constructor===String&&(e.signatureKey=a);for(var l=0;l<c.length;l++)c[l].code==o&&(i=n(e,c[l]));return i=i.replace(/^(\s+|\n+)|(\s+|\n+)$/g,""),t("asNewLines")(i)}function n(e,t){var a={yop:s(""!=s(e.yop)?e.yop:e.end),yoj:s(""!=s(e.yoj)?e.yoj:e.start),degree:s(e.degree),department:s(e.department),sub_insti:s(e.sub_insti)};a.yop=r(a.yop),a.yoj=r(a.yoj);var n=i(e,t),c="";return c=n.replace(/{(.+?)}(?:\|{(.*?)})?/g,function(e,t,n){return o(a,t,n)}),c=c.replace(/\[([^\]]+)\]/g,function(e,t){return l(a,t)})}function i(e,t){return t.signatures&&t.signatures[e.signatureKey]?t.signatures[e.signatureKey]:t.default_signatures[e.signatureKey]?t.default_signatures[e.signatureKey]:t.default_signatures.default}function o(e,t,a){var n,i=[],l=/\[([^\]]+)\]/g;do{(n=l.exec(t))&&i.push(n[1])}while(null!=n);return i.reduce(function(t,n){return e[n.trim().toLowerCase()]?t:a?o(e,a):""},t)}function l(e,t){return t.split(",").filter(function(e){return""!=e.trim()}).map(function(t){return e[t.trim().toLowerCase()]||""}).map(function(e){return String(e)}).filter(function(e){return""!=e.trim()}).join("\n")}function r(e){return-1!=[void 0,null,"","0000","1901","1902","1903"].indexOf(e)?null:e}function s(e){return!e||void 0==e||null==e||e.constructor!=String&&e.constructor!=Number?"":e}var c=angular.copy(e.app_data.config.meta[1]);c&&angular.isArray(c)||(c=[]);var u=e.app_data.data.insti_type;if(6===u||"6"===u)var d={1:{default:t("asRoleLingo")(1,"Current Employee")},2:{default:t("asRoleLingo")(2,"Past Employee")},3:{default:t("asRoleLingo")(3,"Staff")},4:{default:t("asRoleLingo")(4,"Admin")}};else var d={1:{default:t("asRoleLingo")(1,"Student")+"{, Class of [yop]}",medium:t("asRoleLingo")(1,"Student")+"{, Class of [yop]}\n{[degree]}{, [department]}\n{[sub_insti]}"},2:{default:"{Class of [yop]}",medium:"{Class of [yop]}\n{[degree]}{, [department]}\n{[sub_insti]}"},3:{default:t("asRoleLingo")(3,"Faculty")+"{, [department]}"},4:{default:t("asRoleLingo")(4,"Admin")+"{, Class of [yop]}"}};return c=Object.keys(d).reduce(function(e,t){for(var a in c){var n=c[a];if(n.code==t)return n.default_signatures=d[t],e}return c.push({code:t,default_signatures:d[t]}),e},c),a}angular.module("cm_as").filter("memberSignature",e),e.$inject=["$rootScope","$filter"]}(),function(){"use strict";function e(e,t){function a(a,n){var i=e.app_data.data.insti_type,o=6===i||"6"===i,l=n>0,r=a>0&&!("1901"===a.toString()||"1902"===a.toString()||"1903"===a.toString());return 4==n||!l&&0==a?t("asRoleLingo")(4,"Admin"):3==n||!l&&1901==a?o?"Staff":t("asRoleLingo")(3,"Faculty"):2==n&&!r||!l&&1903==a?o?"Past Employee":t("asRoleLingo")(2,"Alumni"):1==n&&!r||!l&&1902==a?o?"Current Employee":t("asRoleLingo")(1,"Student"):void 0==a||"undefined"==a||null==a||"null"==a?"":o?a>(new Date).getFullYear()?"Current Employee":"Past Employee":o?t("asRoleLingo")(2,"Past Employee"):"Class of "+a}return a}angular.module("cm_as").filter("roleDisplay",e),e.$inject=["$rootScope","$filter"]}(),function(){"use strict";function e(){function e(e,t){function a(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e}if((t||angular.isUndefined(t))&&angular.isArray(e)){var n=[];angular.forEach(e,function(e){for(var t=!1,i=0;i<n.length;i++)if(angular.equals(a(n[i]),a(e))){t=!0;break}t||n.push(e)}),e=n}return e}return e}angular.module("cm_as").filter("unique",e)}(),function(){"use strict";function e(e){function t(t,a,n,i){e(function(){a[0].focus()})}return{restrict:"A",link:t}}angular.module("cm_as").directive("asAutofocus",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(e,t){function a(t,a,n,i){a.bind("click",function(e){e.stopPropagation()}),e.bind("click",function(){t.$apply(n.clickAnywhereButHere)})}return{restrict:"A",link:a}}angular.module("cm_as").directive("clickAnywhereButHere",e),e.$inject=["$document","$timeout"]}(),function(){"use strict";function e(){function e(e,t,a,n){t.bind("error",function(){try{e.$eval(a.noPic)}catch(e){console.log(e)}a.src!=a.errSrc&&a.$set("src",a.errSrc)})}return{link:e}}angular.module("cm_as").directive("errSrc",e)}(),function(){"use strict";function e(e){function t(t,a,n){function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=a.exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function o(e,t){var a,n,l,r,s,c,u,d,p,m,f,g,D,v;if("singlecampusfeedview"==t)switch(n=i("source",e),a=i("uid",e),l=i("profile_name",e),r=i("group_id",e),s=i("group_tag",e),c=i("heading",e),n){case"noticeboard":return[{name:"Noticeboard",link:"nbView"},{name:c,link:"none"}];case"profile":return""!==a&&""!==l?[{name:decodeURIComponent(l),link:"pfView"},{name:c,link:"none"}]:[{name:"All Campusfeeds",link:"cfView"},{name:c,link:"none"}];case"view":return[{name:"All Campusfeeds",link:"cfView"},{name:c,link:"none"}];case"home":return[{name:"Home",link:"homeView"},{name:c,link:"none"}];case"groups":return""!==r&&""!==s?[{name:decodeURIComponent(s),link:"discView"},{name:c,link:"none"}]:[{name:"All Campusfeeds",link:"cfView"},{name:c,link:"none"}];default:return[{name:"All Campusfeeds",link:"cfView"},{name:c,link:"none"}]}else if("singlejobview"==t)switch(a=i("uid",e),l=i("profile_name",e),n=i("source",e),u=i("designation",e),d=i("company",e),n){case"endorsed":return[{name:"All jobs",link:"jList"},{name:u+" | "+d,link:"none"}];case"postedbyme":return[{name:"Posted By Me",link:"jList"},{name:u+" | "+d,link:"none"}];case"appliedbyme":return[{name:"Applied By Me",link:"jList"},{name:u+" | "+d,link:"none"}];case"home":return[{name:"Home",link:"homeView"},{name:u+" | "+d,link:"none"}];case"noticeboard":return[{name:"Noticeboard",link:"nbView"},{name:u+" | "+d,link:"none"}];case"profile":return""!==a&&""!==l?[{name:decodeURIComponent(l),link:"pfView"},{name:u+" | "+d,link:"none"}]:[{name:"All jobs",link:"jList"},{name:u+" | "+d,link:"none"}];default:return[{name:"All jobs",link:"jList"},{name:u+" | "+d,link:"none"}]}else if("campusfeedcreateoredit"==t)switch(n=i("source",e),p=i("heading",e),n){case"create":return[{name:"All Campusfeeds",link:"cfView"},{name:"Create",link:"none"}];case"edit1":return[{name:"All Campusfeeds",link:"cfView"},{name:p,link:"singleCfView"},{name:"Edit",link:"none"}];case"edit2":return[{name:"Draft Feeds",link:"cfView"},{name:p,link:"none"},{name:"Edit",link:"none"}];case"edit":return m=i("source_baggage",e),m=decodeURIComponent(atob(m)),""!==m&&(v=o(m,"singlecampusfeedview")),v.push({name:"Edit",link:"none"}),v;default:return[{name:"All Campusfeeds",link:"cfView"},{name:p,link:"none"},{name:"Edit",link:"none"}]}else if("settings"==t)switch(n=i("source",e),l=i("profile_name",e),a=i("uid",e),n){case"profile":return""!==a&&""!==l?[{name:decodeURIComponent(l),link:"pfView"},{name:"Settings",link:"none"}]:[{name:"",link:""}];default:return[{name:"",link:""}]}else if("eventtickets"==t)switch(n=i("source",e),f=i("event_name",e),g=i("eid",e),n){case"eventView":return""!==g&&""!==f?[{name:decodeURIComponent(f),link:"evView"},{name:"Get Tickets",link:"none"}]:[{name:"",link:""}];default:return[{name:"",link:""}]}else if("singlepageevent"==t)switch(n=i("source",e),f=i("event_name",e),D=i("profile_name",e),a=i("uid",e),g=i("eid",e),n){case"eventlist":return[{name:"All events",link:"evList"},{name:decodeURIComponent(f),link:"evView"}];case"noticeboard":return""!==g&&""!==f?[{name:"Noticeboard",link:"nbView"},{name:decodeURIComponent(f),link:"evView"}]:[{name:"All events",link:"evList"},{name:decodeURIComponent(f),link:"evView"}];case"profile":return[{name:decodeURIComponent(D),link:"pfView"},{name:decodeURIComponent(f),link:"evView"}];case"home":return""!==g&&""!==f?[{name:"Home",link:"homeView"},{name:decodeURIComponent(f),link:"evView"}]:[{name:"All events",link:"evList"},{name:decodeURIComponent(f),link:"evView"}];default:return[{name:"All events",link:"evList"},{name:decodeURIComponent(f),link:"evView"}]}else if("eventattendees"==t)switch(n=i("source",e),f=i("event_name",e),g=i("eid",e),a=i("uid",e),D=i("profile_name",e),n){case"eventView":return m=i("source_baggage",e),m=decodeURIComponent(atob(m)),console.log(m),""!==m&&(v=o(m,"singlepageevent"),console.log(v)),v.push({name:"Attendees",link:"none"}),v;case"eventlist":return""!==g&&""!==f?[{name:"All Events",link:"evList"},{name:decodeURIComponent(f),link:"evView"},{name:"Attendees",link:"none"}]:[{name:"",link:""}];case"noticeboard":return""!==g&&""!==f?[{name:"Noticeboard",link:"nbView"},{name:decodeURIComponent(f),link:"evView"},{name:"Attendees",link:"none"}]:[{name:"",link:""}];case"profile":return""!==g&&""!==f&&""!==D&&""!==a?[{name:decodeURIComponent(D),link:"pfView"},{name:decodeURIComponent(f),link:"evView"},{name:"Attendees",link:"none"}]:[{name:"",link:""}];default:return[{name:"All events",link:"evList"},{name:decodeURIComponent(f),link:"evView"},{name:"Attendees",link:"none"}]}else if("MentorProfile"==t){var _=i("mentorid",e);return 0==_?[{name:"Mentorship",link:"MentorshipList"},{name:"Register as a Mentor",link:"none"}]:[{name:"Mentorship",link:"MentorshipList"},{name:"Mentorship Settings",link:"none"}]}}function l(a,n){var o=i("uid",n),l=i("group_id",n),r=i("eid",n),s=i("id",n);console.log("link",t.breadName[a]),"nbView"==t.breadName[a].link?e.go("inapp.noticeboard"):"pfView"==t.breadName[a].link?e.go("inapp.profile",{uid:o}):"cfView"==t.breadName[a].link?e.go("inapp.campusfeed"):"homeView"==t.breadName[a].link?e.go("inapp.portfolio"):"discView"==t.breadName[a].link?e.go("inapp.discussion_tag",{id:l}):"jList"==t.breadName[a].link?e.go("inapp.jobs"):"singleCfView"==t.breadName[a].link?e.go("inapp.campusfeed_view",{feedid:s}):"evView"==t.breadName[a].link?e.go("inapp.event_single",{eventId:r}):"evList"==t.breadName[a].link?e.go("inapp.events"):"MentorshipList"==t.breadName[a].link&&e.go("inapp.mentorship")}t.breadName=o(t.bcCreationData,n.page),t.getBreadLink=l}return{restrict:"E",templateUrl:"./templates/directives/breadcrumbs.html",scope:{bcCreationData:"@"},link:t}}angular.module("cm_as").directive("getBreadcrumbs",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{restrict:"AE",templateUrl:"./templates/components/intentButton.html",controller:"intentButtonController",link:t}}function t(e,t,a){}function a(e,t,a){e.uiRouterState=a}angular.module("cm_as").directive("intentButton",e).controller("intentButtonController",a),a.$inject=["$scope","$rootScope","$state"]}(),function(){"use strict";function e(){return{restrict:"A",link:t}}function t(e,t,a){var n=Ladda.create(t[0]);e.$watch(a.laddaButton,function(e){!0===e?n.start():!1===e&&n.stop()})}angular.module("cm_as").directive("laddaButton",e)}(),function(){"use strict";function e(e){function t(t,a,n){(platform||e.app_data&&e.app_data.isAdmin&&!e.isMobile&&e.featureEnabled("admin_chat_bot"))&&(t.$destroy(),a.remove())}return{restrict:"E",templateUrl:"./templates/components/needHelp.html",scope:{},controller:"needHelpController",link:t}}function t(e){function t(){"needhelphr"==e.hrclass&&"helpicon"==e.iconclass?(e.hrclass="needhelphr2",e.iconclass="helpicon2"):"needhelphr2"==e.hrclass&&(e.hrclass="needhelphr",e.iconclass="helpicon")}function a(){e.showcon&&(e.showclose=!1,e.showcon=!1,e.hideque=!1,e.changeclass())}e.hrclass="needhelphr",e.iconclass="helpicon",e.changeclass=t,e.hideDiv=a}angular.module("cm_as").directive("needHelp",e).controller("needHelpController",t),e.$inject=["$rootScope"],t.$inject=["$scope"]}(),function(){"use strict";function pageBuilderWraper(){return{replace:!0,restrict:"E",scope:{baseId:"=",componentsId:"=?",data:"=?",params:"=?"},template:'<div>\t\t\t\t<as-page-builder ng-repeat="builder in pageBuilderData.elementsConf" templatename="{{builder.template_name}}" templatetype="{{builder.template_type}}" template-data="builder" ctrl="builder.ctrlName" commonconf="pageBuilderData.commonconf"></as-page-builder>\t\t\t</div>',controller:pageBuilderWraperCtrl}}function pageBuilderWraperCtrl($scope,$rootScope,universalMetadata){function activate(){getBase($scope.baseId).then(function(e){evalObj(e),$scope.pageBuilderData=e})}function getBase(e){return universalMetadata.getById(e).then(function(t){if(!t)throw"universalMetadata.getById: failed to get metadata for id"+e;return t.meta_value})}function evalObj(obj){for(var key in obj){var value=obj[key];"object"==typeof value&&evalObj(value),-1!=key.indexOf("eval-")&&(obj[key.replace("eval-","")]=eval(value),delete obj[key])}}activate()}function staticPageJsonCtrl(e,t,a,n){e.linktext="";var i=e.baseid.match(/([a-zA-Z0-9.\-_]+)-([0-9]+)/);i&&angular.isDefined(i[1])&&angular.isDefined(i[2])?(e.baseid=i[2],e.linktext=i[1]):e.baseid=parseInt(e.baseid),t.baseid=e.baseid,t.data=e.data,function(){t.baseid>0&&n.getById(t.baseid).then(function(e){if(!e)throw"universalMetadata.getById: failed to get metadata for id"+t.baseid;return e.meta_value&&e.meta_value.commonconf&&e.meta_value.commonconf.page_title&&(document.title=e.meta_value.commonconf.page_title),e.meta_value})}()}angular.module("cm_as").directive("pageBuilderWraper",pageBuilderWraper).controller("pageBuilderWraperCtrl",pageBuilderWraperCtrl).controller("staticPageJsonCtrl",staticPageJsonCtrl),pageBuilderWraperCtrl.$inject=["$scope","$rootScope","universalMetadata"],staticPageJsonCtrl.$inject=["$stateParams","$scope","$rootScope","universalMetadata"]}(),function(){"use strict";function e(e){function t(t,a,n,i){function o(){"image"===t.options.type?(t.options.image_display_type&&-1!==["square","circle"].indexOf(t.options.image_display_type)||(t.options.image_display_type="square"),(!t.options.img_container_width||t.options.img_container_width<=50)&&(t.options.img_container_width=50),t.options.img_container_width>200&&(t.options.img_container_width=200),(!t.options.img_container_height||t.options.img_container_height<=50)&&(t.options.img_container_height=50),t.options.img_container_height>200&&(t.options.img_container_height=200),t.options.maxFileSize||(t.options.maxFileSize=5e6),t.options.allowedFileTypes||(t.options.allowedFileTypes=["jpg","jpeg","png","gif","webp","svg","bmp","tiff"])):isNullUndefined(t.options.maxFileSize)&&(t.options.maxFileSize=52428800)}function l(){return!!t.instance||!!d.loaded&&(!!a.querySelector("input[type='file']")&&(t.instance=d.instance(a.querySelector("input[type='file']")),t.instance.setUploadURL(t.options.uploadUrl),t.instance.mapUrlResponseFormat(t.options.uploadUrlResponseFormat),t.instance.setMultipleAllowed(t.options.multiple),t.instance.setAllowedFileTypes(t.options.allowedFileTypes),t.instance.setMaxTotalUploadSize(t.options.maxTotalUploadSize),t.instance.setMaxFileSize(t.options.maxFileSize),t.instance.setFiles(t.files,t.fileDataFormat),t.instance.setOnUploadsStarted(function(){t.uploadsInProgress=t.instance.uploadsInProgress}),t.instance.setOnUploadsCompleted(function(){t.uploadsInProgress=t.instance.uploadsInProgress,t.files=t.instance.getFiles()}),t.instance.setOnFileDeleted(function(){t.files=t.instance.getFiles()}),t.options.__setFiles=function(e){t.instance.setFiles(e,t.fileDataFormat),t.files=t.instance.getFiles()},!0))}function r(){l()||u(function(){r()},500)}function s(){return console.log("onFileSelect"),l()?t.instance.upload()?(console.log("Uploading Started"),!0):(console.log("Uploading Failed"),a.querySelector("input[type='file']").value="",!1):(alert("Files not detected. Please select the file(s) again."),void(a.querySelector("input[type='file']")&&(a.querySelector("input[type='file']").value="")))}function c(){a.querySelector("input[type='file']").click()}var u=e.get("$timeout"),d=(e.get("$http"),e.get("$sce"),e.get("fileupload"));a[0]&&(a=a[0]),function(){t.options&&t.options.constructor===Object||(t.options={}),t.options.type||(t.options.type="file"),t.template||("image"===t.options.type?t.template="imageupload1":t.template="fileinput1"),!1===t.options.show_delete_option&&!0===t.options.show_delete_option||(t.options.multiple?t.options.show_delete_option=!0:t.options.show_delete_option=!1),t.files.constructor!==Array&&(t.files=[]),t.options.uploadUrl||(t.options.uploadUrl="./welcome/upload"),t.onFileSelect=s,t.fileClickTrigger=c,o()}(),r()}return{restrict:"EA",template:"<div><ng-include src=\"'./templates/directives/elements/'+template+'.html'\" /></div>",scope:{files:"=",uploadsInProgress:"=?",template:"=?",options:"=?"},link:t}}angular.module("cm_as").directive("fileInputElement",e),
e.$inject=["$injector"]}(),function(){"use strict";function e(e){function t(t,a,n,i){function o(){var e={otpByPhone:t.phoneEnabled,otpByEmail:t.emailEnabled};t.phoneEnabled&&(e.message="Your OTP for Alumni Portal is [OTP]",t.options.message&&(e.message=t.options.message),e.phone="+"+t.countrycode+"-"+t.phone),t.emailEnabled&&(e.mail_subject="One Time Password (OTP) for your Alumni Portal",e.mail_body="Please verify your email by entering the following code <br> [OTP]",e.from_name="Alumni OTP",t.options.mail_subject&&(e.mail_subject=t.options.mail_subject),t.options.mail_body&&(e.mail_body=t.options.mail_body),t.options.mail_from_name&&(e.from_name=t.options.mail_from_name),e.email=t.email),t.options.sending=1,c({url:"./gen/mobile/sendotp",method:"POST",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){t.options.sending=0,1==e.success?(t.options.sent=1,t.options.id=e.data):t.error="Failed to send OTP, please try again"})}function l(){if(!(t.options.id>0))return!1;t.error="",t.options.sending=1,c({url:"./gen/mobile/resendotp",method:"POST",data:{otp_id:t.options.id},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){t.options.sending=0,1==e.success?t.options.sent+=1:t.error="Failed to send OTP, please try again"})}function r(){try{if((!t.phoneEnabled||t.phone>0&&t.countrycode>0)&&(!t.emailEnabled||t.email))return!0}catch(e){}return!1}function s(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}t.template||(t.template="otp1");var c=(e.get("$timeout"),e.get("$http")),u=(e.get("$sce"),e.get("phonenumber"));u.loadLib(),a[0]&&(a=a[0]),function(){t.otptypes=t.otptypes.split(","),t.options&&t.options.constructor===Object||(t.options={}),t.phoneEnabled=t.otptypes.indexOf("phone")>-1,t.emailEnabled=t.otptypes.indexOf("email")>-1,t.options.phoneEnabled=t.phoneEnabled,t.options.emailEnabled=t.emailEnabled}(),t.requestOTP=function(){try{t.error="",t.phoneEnabled||t.emailEnabled?t.phoneEnabled&&!u.isValidNumber(t.countrycode,t.phone)?(alert("Phone No. is invalid."),t.error="Phone No. is invalid."):t.emailEnabled&&!s(t.email)?(alert("Email is invalid."),t.error="Email is invalid."):t.options.id>0?l():o():(alert("OTP method is required."),t.error="OTP method is required.")}catch(e){console.log(e)}},t.verifyOTP=function(){try{if(t.error="",r()){var e=t.options.id,a=t.options.user_input;t.options.verifying=1;t.options.message&&t.options.message,c({url:"./gen/mobile/verifyotp",method:"POST",data:{otp_id:e,code:a},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){t.options.verifying=0,1==e.success?t.options.verified=1:t.error="OTP verification failed, please try again"})}else alert("Couldn't verify. Please try again.")}catch(e){console.log(e),alert("Couldn't verify. Please try again..")}}}return{restrict:"E",template:"<div><ng-include src=\"'./templates/directives/elements/'+template+'.html'\" /></div>",scope:{otptypes:"=",template:"=?",phone:"=?",countrycode:"=?",email:"=?",options:"=?",error:"=?"},link:t}}angular.module("cm_as").directive("otpContainer",e),e.$inject=["$injector"]}(),function(){"use strict";function e(e,t,a,n){function i(a,n,i){function o(){function o(t){try{n.replaceWith(e(t)(a)),as_upgrade(10)}catch(e){}}function l(e){}i.templatename,i.templatename,i.templatetype;t.get("./templates/pages/main_site/portfolio_templates/portfolio_elements/"+i.templatename+"/"+i.templatename+"_"+i.templatetype+".html").success(o).error(l)}a.$watch(i.templatename,function(){o()})}return{restrict:"E",scope:{templateData:"=",templatename:"@",templatetype:"@",ctrl:"=",commonconf:"="},controller:["$controller","$scope",function(e,t){return e(t.ctrl,{$scope:t})}],controllerAs:"foo",link:i}}angular.module("cm_as").directive("asPageBuilder",e).controller("asgrid",asgrid).controller("simpleHtmlCtrl",simpleHtmlCtrl).controller("eventsModularCtrl",eventsModularCtrl).controller("signupCardCtrl",signupCardCtrl).controller("asUserCard",asUserCard).controller("galleryModularCtrl",galleryModularCtrl).controller("contactUsCtrl",contactUsCtrl).controller("portfolioDefault",portfolioDefault).controller("asSlider1",asSlider1).controller("modularHeaderCtrl",modularHeaderCtrl).controller("asFacebookWidget",asFacebookWidget).controller("asTwitterWidget",asTwitterWidget).controller("asLaunchWidget",asLaunchWidget).controller("asMapModularCtrl",asMapModularCtrl).controller("asSlider",asSlider).controller("userCardWrapperCtrl",userCardWrapperCtrl).controller("modularDonationCtrl",modularDonationCtrl),e.$inject=["$compile","$http","$templateCache","$parse"]}(),function(){"use strict";function bindHtmlCompile($compile){function linkFunc(scope,element,attrs){scope.$watch(function(){return scope.$eval(attrs.bindHtmlCompile)},function(value){element.html(value);var scripts=element[0].getElementsByTagName("script");for(var i in scripts)eval(scripts[i].textContent);$compile(element.contents())(scope)})}var directive={restrict:"A",link:linkFunc};return directive}angular.module("cm_as").directive("bindHtmlCompile",bindHtmlCompile),bindHtmlCompile.$inject=["$compile"]}(),function(){"use strict";function PortfolioController($scope,sidetopHttp,portfolioInitialData,$window,$interval,$rootScope,$timeout,$stateParams,$state,$ocLazyLoad,asGalleryService,mobile,$sce){function activate(){if(1!=portfolioInitialData.data.success)return void $state.go("inapp.404");initBindData(portfolioInitialData.data.data),$scope.pageBuilderData=dynamicPortfolioConfiguration(),setAlumniStye(),setEvents(),setCampusfeed(),setJobs(),setGallary(),fetchAllCounts(),$scope.$on("$viewContentLoaded",function(){}),slider(),changeArrowFn(),$scope.$on("scrollable_section_loaded",function(e){try{var t=document.getElementById($stateParams.section).getBoundingClientRect().top+window.pageYOffset;scrollTo(t-72,1e3,function(){})}catch(e){}})}function initBindData(e){child_institutes=e.child_institutes||null,$scope.loggedin=e.loggedin,$scope.uname=e.uname,$scope.circulars=e.circulars,$scope.dist_alumni=e.dist_alumni,$scope.insti_info=angular.copy(e.insti_info),$scope.insti_information=e.insti_info,$scope.parent_cid=e.parent_cid,$scope.cid=$rootScope.app_data.data.cid,$scope.slider_images=angular.copy(e.cover_images),$scope.ct_details=e.contact_details,angular.isDefined($scope.insti_info.description)&&($scope.insti_info.description=$sce.trustAsHtml($scope.insti_info.description)),5==e.insti_info.insti_type&&($scope.contact_details=e.contact_details,$scope.team_details=e.team_details,angular.isDefined(window.google)?$timeout(function(){as_upgrade(10),initMap()}):$ocLazyLoad.load("js!https://maps.googleapis.com/maps/api/js?key=AIzaSyDNGtjH1oykynJxvUgGAUnB7T63Ay7CqXw").then(function(){initMap()})),$scope.contact_details=e.contact_details,$scope.userSource=getParameterByName("source"),null!==$scope.userSource&&""!==$scope.userSource||($scope.userSource=getParameterByName("link")),null!==$scope.userSource&&""!==$scope.userSource||($scope.userSource=$stateParams.source),$scope.dist_counter=0,null!==$scope.dist_alumni&&($scope.total_dist=$scope.dist_alumni.length)}function initMap(){var e=document.getElementById("map"),t=new google.maps.Map(e,{center:{lat:parseFloat($scope.contact_details.latitude),lng:parseFloat($scope.contact_details.longitude)},zoom:8}),a=new google.maps.Marker({map:t,position:new google.maps.LatLng($scope.contact_details.latitude,$scope.contact_details.longitude)}),n=new google.maps.InfoWindow({content:"<strong>"+$scope.insti_info.short_name+"</strong>"});google.maps.event.addListener(a,"click",function(){n.open(t,a)}),n.open(t,a),as_upgrade(100)}function setAlumniStye(){var e=33.33;window.innerWidth<900&&window.innerWidth>550?e=50:window.innerWidth<550&&(e=100),$scope.limit=Math.round(100/e);var t=0;$scope.starting_alum_style=0,$scope.fetch_next_dist=function(){$scope.dist_counter++,t++,$scope.starting_alum_style={left:"-"+e*t+"%"}},$scope.fetch_prev_dist=function(){$scope.dist_counter--,t--,$scope.starting_alum_style={left:"-"+e*t+"%"}},$scope.dis_wid_style={width:"CALC("+e+"% - 16px)"}}function setEvents(){var e={stream:1,limit:3,cid:$scope.insti_info.cid,p:2};return sidetopHttp.postDataCall("./events/get_top_events",e,function(e){1==e.success&&($scope.events=e.data)})}function setJobs(){var e={cid:$scope.insti_info.cid};return sidetopHttp.postDataCall("./jobs/jobsforportfolio",e,function(e){1==e.success&&($scope.jobs=e.data)})}function setCampusfeed(){var e={cid:$scope.insti_info.cid,stream:0,start_id:0,single:0,limit:3,order_view_count:!1};return sidetopHttp.postDataCall("./campusfeed/publicCampusFeed",e,function(e){1==e.success&&($scope.campusFeeds=e.data)})}function setGallary(){var e={cid:$scope.insti_info.cid,stream:1,lm:3,ad:4,category:[1,2]};asGalleryService.getGalleries(e,function(e){1==e.success&&($scope.galleries=e.data)})}function fetchAllCounts(){var e={cid:$scope.insti_info.cid};return sidetopHttp.postDataCall("./institutes/fetchAllCounts",e,function(e){1==e.success&&($scope.campusfeed_count=e.data.campusfeed_count,$scope.event_count=e.data.event_count,$scope.gallery_count=e.data.gallery_count,$scope.job_count=e.data.job_count)})}function getRandomColor(e){return e%4==0?"mdl-color--light-blue-500":e%4==1?"mdl-color--teal-500":e%4==2?"mdl-color--light-green-500":e%4==3?"mdl-color--amber-500":void 0}function onloadv(){}function getElements(){if(!0!==scrollLock){scrollLock=!0;var e=getCurrentElements();scrollTo(e.to-72,1e3,function(){scrollLock=!1})}}function slider(){angular.forEach($scope.slider_images,function(e,t){$scope.slider_images[t].show_var=!1});var e,t=$scope.slider_images.length;$scope.slide=function(a){angular.isDefined(e)||($scope.slider_images[a].show_var=!0,e=$interval(function(){$scope.slider_images[a%t].show_var=!1,a++,$scope.slider_images[a%t].show_var=!0},3e3))},t>0&&$scope.slide(0),$scope.cancelSlide=function(){angular.isDefined(e)&&($interval.cancel(e),e=void 0,angular.forEach($scope.slider_images,function(e,t){$scope.slider_images[t].show_var=!1}))},$scope.changeImage=function(e){$scope.cancelSlide(),$scope.slide(e)}}function changeArrowFn(){function e(){var e=document.getElementsByClassName("autoscroll-class")[all_classes.length-1];angular.isDefined(e)&&(t=document.getElementsByClassName("autoscroll-class")[all_classes.length-1].getBoundingClientRect().top+window.pageYOffset,window.pageYOffset+72+5>=t?($scope.changeArrow=!0,$scope.$apply()):($scope.changeArrow=!1,$scope.$apply()))}angular.element($window).bind("scroll",e),$scope.$on("$destroy",function(){angular.element($window).off("scroll",e)}),$scope.changeArrow=!1;var t}function redirect_to_child(e){platform?mobile.setConfig(e.sub_cid,!0,function(){$rootScope.app_data=appData.data,$state.reload()}):angular.isDefined(e.sub_sn)&&""!==e.sub_sn&&null!==e.sub_sn?window.location.href=root+e.sub_sn:window.location.href=root+"/institutes/"+e.sub_cid}function dynamicPortfolioConfiguration(){if(3==window.env&&(portfolioInitialData.data.data.metadata_portfolio_design=imtcdl),angular.isDefined(portfolioInitialData.data.data.metadata_portfolio_design))return $scope.openedPortfolio="specific",evalObj(portfolioInitialData.data.data.metadata_portfolio_design),portfolioInitialData.data.data.metadata_portfolio_design;$scope.openedPortfolio="default"}function evalObj(obj){for(var key in obj){var value=obj[key];"object"==typeof value&&evalObj(value),-1!=key.indexOf("eval-")&&(obj[key.replace("eval-","")]=eval(value),delete obj[key])}}$scope.origin=window.location.origin;var scrollLock=!1,child_institutes;$scope.getRandomColor=getRandomColor,window.onload=onloadv,$scope.getElements=getElements,$scope.redirect_to_child=redirect_to_child,$scope.checkDates=datescheck,$scope.openedPortfolio="none",activate()}function onFinishRender(e){function t(t,a,n,i){!0===t.$last&&e(function(){t.$emit(n.onFinishRender)})}return{restrict:"A",link:t}}angular.module("cm_as").controller("PortfolioController",PortfolioController).directive("onFinishRender",onFinishRender),PortfolioController.$inject=["$scope","sidetopHttp","portfolioInitialData","$window","$interval","$rootScope","$timeout","$stateParams","$state","$ocLazyLoad","asGalleryService","mobile","$sce"],onFinishRender.$inject=["$timeout"]}(),function(){"use strict";function e(e,t,a,n,i,o,l,r){function s(){e.readMore=!1,e.insti_info.head_message=d.data.insti_info.head_message}function c(){if(!0!==m){m=!0;var e=getCurrentElements();scrollTo(e.to-72,1e3,function(){m=!1})}}function u(){var t=document.getElementsByClassName("autoscroll-class")[all_classes.length-1].getBoundingClientRect().top+window.pageYOffset;window.pageYOffset+72+5>=t?(e.changeArrow=!0,e.$apply()):(e.changeArrow=!1,e.$apply())}e.s3base=s3base,e.readMore=!1;var d,p={},m=!1;e.changeArrow=!1,e.cid=l.app_data.data.cid,e.read_More=s,e.getElements=c,function(){d=t.data,1==d.success&&(p=d.data,e.insti_info=angular.copy(p.insti_info),e.insti_info.description=r.trustAsHtml(e.insti_info.description),e.team_details=p.team_details,e.contact_details=p.contact_details,e.contact_details.address_map=r.trustAsResourceUrl("https://www.google.com/maps/embed/v1/place?key=AIzaSyDNGtjH1oykynJxvUgGAUnB7T63Ay7CqXw&q="+e.contact_details.address),angular.isDefined(e.insti_info.head_message)&&e.insti_info.head_message.length>670&&(e.insti_info.head_message=e.insti_info.head_message.substring(0,670)+"...",e.readMore=!0),angular.element(o).bind("scroll",u),e.$on("$destroy",function(){angular.element(o).off("scroll",u)}),setTimeout(function(){try{var e=document.getElementById(i.section).getBoundingClientRect().top+window.pageYOffset;console.log(e),scrollTo(e-72,1e3,function(){})}catch(e){console.log(e)}},1e3))}()}angular.module("cm_as").controller("AboutController",e),e.$inject=["$scope","aboutInitialData","$timeout","$ocLazyLoad","$stateParams","$window","$rootScope","$sce"]}(),function(){"use strict";function e(e,t){e.x=null,function(){console.log("newsShareCtrl","sharedPostData:",t);var a=t.data;1==a.success&&a.data.Content.length>0&&(e.x=a.data.Content[0],e.newsPeopleInvolved=a.data.User_Details,e.newsPollOptions=a.data.POLL_OPTIONS)}()}angular.module("cm_as").controller("newsShareCtrl",e),e.$inject=["$scope","sharedPostData"]}(),asFacebookWidget.$inject=["$scope"],asgrid.$inject=["$scope"],asLaunchWidget.$inject=["$scope","$interval"],asMapModularCtrl.$inject=["$scope","$sce"],asSlider.$inject=["$scope","$interval","$injector","$rootScope","$timeout","asimageModal","ModalService"],asSliderModalController.$inject=["$scope","templateData","d_a","close"],asSlider1.$inject=["$scope","$interval","$injector","$rootScope","asimageModal","ModalService"],asSlider1ModalController.$inject=["$scope","templateData","d_a","close"],asTwitterWidget.$inject=["$scope","$ocLazyLoad"],asUserCard.$inject=["$scope","$sce","$injector","$rootScope","bootModal"],contactUsCtrl.$inject=["$scope","$sce"],eventsModularCtrl.$inject=["$scope","$sce","sidetopHttp","$injector"],galleryModularCtrl.$inject=["$scope","$sce","asGalleryService","asimageModal","$injector"],modularDonationCtrl.$inject=["$scope"],modularHeaderCtrl.$inject=["$scope","sidetopHttp","$rootScope","$state","$sce","portalHeaderService","bootModal"],portfolioDefault.$inject=["$scope"],signupCardCtrl.$inject=["$scope","$rootScope"],simpleHtmlCtrl.$inject=["$scope","$sce","$state"],userCardWrapperCtrl.$inject=["$scope"];
//# sourceMappingURL=common.min.js.map
!function(){"use strict"}(),function(){"use strict";function a(a){function e(e){return"dropdown"!==e.type?e.location.match(/^(http|https):\/\//)||(e.location=a+e.location):e.content.forEach(function(e){e.location.match(/^(http|https):\/\//)||(e.location=a+e.location)}),e}var t=window.appData.data.config.portalHeader,n=window.appData.data.config.portalfolioHeader;if(t=t.map(e),n=n.map(e),window.appData.data.config&&window.appData.data.config.meta[56]&&window.appData.data.config.meta[56].link){window.appData.data.config.meta[56].link.match(/^http/)||(window.appData.data.config.meta[56].link=a+window.appData.data.config.meta[56].link)}}function e(){function a(a){a.interceptors.push("httpTransformInterceptor"),a.interceptors.push("httpInterceptor")}function e(a){function e(e){var t=e.url.split("?")[0];if(t=t.replace(/^(\.|\/)+/,""),t=t.replace(/\/$/,"")+"/",0===e.url.search("http://")||0===e.url.search("https://"))return e;if(0===t.indexOf("img/")||!0===/.tpl\/$/.test(t)||0===t.indexOf("templates/")||0===t.indexOf("dist/")||0===t.indexOf("libs/"))return platform&&-1==e.url.search(".tpl")&&(e.url=window.file_base+e.url),-1!=e.url.search("templates")&&(e.url+="?v="+window.templVersion),e;e.url=e.url.slice(2),e.url=API_BASE_URL+e.url;try{e.headers["X-spacid"]=parseInt(a.app_data.data.parent_cid),e.headers.spacid=parseInt(a.app_data.data.parent_cid),e.headers["X-utctimediffminutes"]=-1*(new Date).getTimezoneOffset(),window.jstz&&window.jstz.determine().name()&&(e.headers["X-timezone"]=jstz.determine().name())}catch(a){console.log(a)}return e}return console.log("httpTransformInterceptor called..."),{request:e}}function t(a,e,t){function n(a){if(angular.isDefined(a.data.success)&&-2==a.data.success){var n=encodeURIComponent(window.location.href);if(-1==["inapp.login","inapp.login_1","inapp.login_2"].indexOf(t.get("$state").current.name)){loguserout(),t.get("$state").go("inapp.login",{redirect:n});return t.get("$timeout")(function(){snackbar_general("You are not loggedin, please login first.",3500)},1e3),e.reject(a)}}if(angular.isDefined(a.data.success)&&-100==a.data.success){if(angular.isDefined(a.data.state)){var o=angular.isDefined(a.data.params)?a.data.params:{};return t.get("$state").go("inapp."+a.data.state,o),e.reject(a)}if(angular.isDefined(a.data.url)){var i=a.data.url.trim().replace(/^\./,"").replace(/^\//,"");i=platform?"/"+window.file_base_rel+i:""!=t.get("$rootScope").app_data.data.baseState?"/"+t.get("$rootScope").app_data.data.baseState+"/"+i:"/"+i,console.log("heart debug,",i,a.data),t.get("$timeout")(function(){t.get("$location").url(i)})}}return window.pageunloading?e.reject(a):(a.status>400&&angular.isUndefined(err.config.manualCancellor)&&snackbar_general("Please try again.",5e3),a)}function o(a){return window.pageunloading?a:(void 0!==Raven&&-1!=a.status&&Raven.captureException(new Error("HTTP response error. Status "+a.status),{extra:{err:a}}),a.status>400&&angular.isUndefined(a.config.manualCancellor)&&snackbar_general("Please try again.",5e3),a)}var i={response:n,responseError:o};return window.loguserout=function(){a.app_data.uid=0,a.app_data.uui=0,a.app_data.name="",a.app_data.isAdmin=!1,a.app_data.loginStatus=-1,a.app_data.same_com_log=!1,a.app_data.loggedin_cid=0,a.app_data.roles=[],a.header.loggedin=!1},i}platformis.ios;var n=["as.core","cm_as","as.sidetop","ngAnimate"];void 0!==Raven&&n.push("ngRaven"),angular.module("almashinesApp",n),angular.module("almashinesApp").config(a).factory("httpTransformInterceptor",e).factory("httpInterceptor",t),a.$inject=["$httpProvider"],e.$inject=["$rootScope"],t.$inject=["$rootScope","$q","$injector"],angular.bootstrap(document,["almashinesApp"])}angular.isDefined=function(a){return void 0!==a&&null!==a},window.encodeExtra=function(a){return a=window.encodeURIComponent(a).replace(/'/g,"%27")},Array.prototype.indexOfNumber||Object.defineProperty(Array.prototype,"indexOfNumber",{enumerable:!1,value:function(a){var e=this.indexOf(a);if(-1==e&&!isNaN(a)){e=this.map(function(a){return parseInt(a)}).indexOf(parseInt(a))}return e}}),window.onDeviceReadyMain=e,window.starturl=location.href,console.log("starturl ",starturl),angular.element(document).ready(function(){if(void 0===window.cordova)window.platform=!1,window.file_base="",window.platformis={},window.platformis.android=!1,window.platformis.ios=!1,window.onDeviceReadyMain();else if(window.ooo=function(a){void 0!=a&&(delete localStorage.fetchdOn,delete localStorage.appData),location.href=starturl},window.platform=window.cordova.platformId,window.platformis={},window.platformis.android="android"===window.cordova.platformId,window.platformis.ios="ios"===window.cordova.platformId,"android"==window.platform&&(window.file_base=starturl.split("index.html")[0],window.file_base_rel=window.file_base.split("///")[1],window.onDeviceReadyMain()),window.platformis.ios&&(window.file_base=starturl.split("index.html")[0],window.file_base_rel=window.file_base.split("///")[1],window.file_base_rel=window.file_base_rel.replace(/%20/g," "),document.addEventListener("deviceready",window.onDeviceReadyMain,!1)),window.file_base&&"android"===window.cordova.platformId){var a=document.createElement("base");a.href=window.file_base,document.getElementsByTagName("head")[0].appendChild(a)}}),window.onbeforeunload=function(){window.pageunloading=!0},window.appendFileBaseToHeader=a}();
//# sourceMappingURL=main.min.js.map
function initialDataSuccess1($stateParams,$rootScope){return function(response){if(angular.isDefined($stateParams.pageTitle)&&angular.isDefined($stateParams.pageTitle.resolveData))try{console.log("eval: ",$stateParams.pageTitle.resolveData),$stateParams.page_title=eval($stateParams.pageTitle.resolveData)}catch(e){console.log("title error",e),$stateParams.page_title="Almashines"}try{if(angular.isDefined($stateParams.metaTags)&&$stateParams.metaTags.length>0)for(var i=0;i<$stateParams.metaTags.length;i++){var metaTag=angular.copy($stateParams.metaTags[i]);for(var key in metaTag.keyObj)metaTag.keyObj[key]=eval(metaTag.keyObj[key]);$rootScope.setMeta(metaTag.name,metaTag.keyObj)}}catch(e){console.log("ERROR IN META TAGS: ",e)}return response}}!function(){"use strict";function e(e){return e.load([{name:"as.admin",files:[window.file_base+"./dist/admin.min.js"+window.jsVersion]},{name:"ngFileUpload",files:[window.file_base+"./libs/ng-file-upload-shim.min.js",window.file_base+"./libs/ng-file-upload.min.js"]}])}var t=[];t.push({name:"admin",state:{templateUrl:"./templates/pages/admin_md.html",url:"/admin?category&tab&analytic&scid&id&name",reloadOnSearch:!0,controller:"AdminController",resolve:{inject_admin:e,inject_infinite:"inject_infinite",as_userLoginChecker:"as_userLoginChecker",inject_grgc:"inject_grgc",inject_insiderm:"inject_insiderm",inject_search:"inject_search"},params:{pageTitle:"Admin Dashboard",cbt:"_"}}}),t.push({name:"admin-welcome",state:{templateUrl:"./templates/pages/onboarding/admin-welcome.html",url:"/admin-welcome",controller:"adminWelcome",resolve:{inject_admin:e},params:{removeHeader:!0}}}),t.push({name:"admin-create",state:{templateUrl:"./templates/pages/onboarding/admin-create.html",url:"/admin-create",controller:"adminCreate",resolve:{inject_admin:e},params:{removeHeader:!0}}}),t.push({name:"institute-profile",state:{templateUrl:"./templates/pages/onboarding/institute-profile.html",url:"/institute-profile",controller:"instituteProfile",resolve:{inject_admin:e},params:{removeHeader:!0}}}),t.push({name:"invite-admins",state:{templateUrl:"./templates/pages/onboarding/invite-admins.html",url:"/invite-admins",controller:"inviteAdmins",resolve:{inject_admin:e},params:{removeHeader:!0,entry:null}}}),t.push({name:"platform-goals",state:{templateUrl:"./templates/pages/onboarding/platform-goals.html",url:"/platform-goals",controller:"platformGoals",resolve:{inject_admin:e},params:{removeHeader:!0}}}),t.push({name:"platform-setup",state:{templateUrl:"./templates/pages/onboarding/platform-setup.html",url:"/platform-setup",controller:"platformSetup",resolve:{inject_admin:e},params:{removeHeader:!0}}}),e.$inject=["$ocLazyLoad"],window.dynamicStates=window.dynamicStates.concat(t),window.commonStateFunc.inject_admin=e}(),function(){"use strict";function e(e,t,a){return initialDataSuccess1(t,a)(),e.load([{name:"as.data",files:[window.file_base+"./dist/data.min.js"+window.jsVersion]}])}var t=[];t.push({name:"batch",state:{url:"/batch?source?year?degree?department?yoj?subinst",templateUrl:"./templates/pages/data/batch.html",controller:"batchCtrl",reloadOnSearch:!1,params:{pageTitle:{resolveData:"'Alumni Members Directory | ' + $rootScope.app_data.data.short_name"},metaTags:[{name:"description",keyObj:{content:"'Connect with all the past students and batchmates of Institute. View Official Alumni Directory.'"}},{name:"og:image",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:secure_url",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}],params:null},resolve:{inject_data:e}}}),t.push({name:"all_batches",state:{url:"/members?source?yop?degree?department?yoj?subinst",templateUrl:"./templates/pages/data/all_batches.html",controller:"allBatchesCtrl",reloadOnSearch:!0,params:{page_title:"Official Alumni Members Directory",pageTitle:{resolveData:"'Members of ' + $rootScope.app_data.data.name"},metaTags:[{name:"description",keyObj:{content:"'Complete directory of all members of ' + $rootScope.app_data.data.short_name + '. Register and Connect with your batchmates online.'"}},{name:"og:image",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:secure_url",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}],params:null},resolve:{inject_data:e}}}),e.$inject=["$ocLazyLoad","$stateParams","$rootScope"],window.dynamicStates=window.dynamicStates.concat(t)}(),function(){"use strict";function e(e){return e.load([{name:"as.flow",files:[window.file_base+"./dist/flow.min.js"+window.jsVersion]}])}var t=[];t.push({name:"welcome",state:{url:"/start?a&goto&cta&message",templateUrl:"./templates/pages/flow/welcome.html",controller:"welcomeCtrl",resolve:{inject_flow:e},params:{ignoreLiveSwitch:!0,removeHeader:!0,pageTitle:"Welcome to your official Alumni Community",extra_params:null}}}),t.push({name:"verify",state:{url:"/start/verify?goto&fields",templateUrl:"./templates/pages/flow/verify.html",controller:"verifyCtrl",resolve:{inject_profile:"inject_profile",inject_flow:e},params:{ignoreLiveSwitch:!0,removeHeader:!0,pageTitle:"Verify Your Information",extra_params:null}}}),t.push({name:"extra_info",state:{templateUrl:"./templates/pages/flow/extra_info.html",url:"/start/info?for&fields&pref",controller:"extraInfoCtrl",resolve:{inject_flow:e,inject_profile:"inject_profile",as_userLoginChecker:"as_userLoginChecker",inject_datepicker:"inject_datepicker"},params:{ignoreLiveSwitch:!0,pageTitle:"Complete Your Profile",removeHeader:!0,extra_params:null}}}),e.$inject=["$ocLazyLoad"],window.dynamicStates=window.dynamicStates.concat(t)}(),function(){"use strict";function e(e){return e.load([{name:"grgc",files:[window.file_base+"./dist/grgc.min.js"+window.jsVersion]},{name:"googlechart",files:["./libs/ng-google-chart.js"]}])}e.$inject=["$ocLazyLoad"],window.commonStateFunc.inject_grgc=e}(),function(){"use strict";function e(e){return e.load({name:"as.groups",files:["./dist/groups.min.js"]})}function t(e,t,a){return e.post("./tags/fetch",{tag_name:t.tag}).success(function(e){1==e.success&&initialDataSuccess1(t,a)({title:e.data.name})})}function a(e,t,a,i,r){if(null!==e.detail&&"object"==typeof e.detail){var n={success:1,data:e.detail};return initialDataSuccess1(e,t)(n),n}var o=i.defer(),s=e.tag,c=void 0;try{console.log("featureCode",s,window.tagTypes[s]),c=window.tagTypes[s].type}catch(e){}if(void 0==c)return o.reject("No featureCodes found"),console.log("q.reject","No featureCodes found"),o.promise;var l={tag_name:e.link,following_status:!0};return void 0==e.tagid&&null==e.tagid||(l.tag_id=e.tagid),a.post("./tags/fetch",l).success(function(a){return 1!=a.success?(console.log("if","res.success !:",a),r.go("inapp.404"),o.reject("No tag found"),o.promise):void 0==a.data.tag_type||-1==c.indexOf(parseInt(a.data.tag_type))?(console.log("if","res.data.tag_type:",a.data.tag_type,"featureCode !:",c),r.go("inapp.404"),o.reject("FeatureCode mismatch"),o.promise):(e.detail=a.data,console.log("q.resolve","res:",a),o.resolve(a),void initialDataSuccess1(e,t)(a))}),o.promise}function i(e,t,a){var i=t.defer();if(console.log("groupDetail",e),1==e.success){var r=e.data;void 0!=e.data.attributes&&void 0!=e.data.attributes.coordinators&&(r.coordinators=e.data.attributes.coordinators.sort(function(e,t){return e.order-t.order}));var n=!1,o=!1;if(void 0!=r.coordinators&&"object"==typeof r.coordinators){for(var s=0;s<r.coordinators.length;s++)if(r.coordinators[s].uid==a.app_data.uid){o=!0;break}n=a.app_data.same_com_log&&(o||a.app_data.isAdmin)}r.allowed=n,r.isCoord=o,i.resolve(r)}else i.reject(e.data);return i.promise}function r(e,t,a,i){var r=t.defer();return 0==e.data.tag_type&&e.data.attributes&&e.data.attributes.hideDisq?(i(function(){var t="inapp.tag_detail.about";e.data.attributes.groupRedirect&&e.data.attributes.groupRedirect.constructor==String&&(t=e.data.attributes.groupRedirect),a.go(t,{link:e.data.link}),console.log("REDIRECTED inapp.tag_detail.about")},300),r.reject()):r.resolve(),r.promise}function n(e,t,a,i,r,n,o){var s=a.defer(),c=!1,l=!1;if(void 0!=t.coordinators&&"object"==typeof t.coordinators)for(var p=0;p<t.coordinators.length;p++)if(t.coordinators[p].uid==n.app_data.uid){l=!0;break}return c=n.app_data.same_com_log&&(l||n.app_data.isAdmin),console.log("if","allowed:",c),c?s.resolve():(r(function(){console.log("$state.go","inapp.","$stateParams.view:",o,"_detail.about","groupDetail.data.link:",e.data.link),i.go("inapp."+o.view+"_detail.about",{link:e.data.link})},300),s.reject()),s.promise}window.tagTypes={chapters:{list:!0,category:!0,view:"chapter",type:[3]},groups:{list:!0,category:!0,view:"group",disqMain:!0,type:[0]},tag:{list:!1,category:!1,disqMain:!0,type:[0,3]}};for(var o in tagTypes){var s=tagTypes[o],c=[];if(s.list&&c.push({name:o,state:{templateUrl:"./templates/pages/groups/groups_list.html",url:"/"+o,controller:"groupsController",resolve:{inject_groups:e,groupsList:t},params:{pageTitle:{resolveData:"response.title"},tag:o,featureName:"tag"===o?"":o,view:s.view||o}}}),s.category&&"string"==typeof s.view&&s.view!==o&&c.push({name:o+"_category",state:{templateUrl:"./templates/pages/groups/groups_list.html",url:"/"+o+"/:tag",controller:"groupsController",resolve:{inject_groups:e,groupsList:t},params:{pageTitle:{resolveData:"response.title"}}}}),!s.category||s.category&&"string"==typeof s.view&&s.view!==o){var l=o;s.category&&s.view&&(l=s.view),c.push({name:l+"_detail",state:{templateUrl:"./templates/pages/groups/groupDetails.html",url:"/"+l+"/:link?tagid",controller:"groupDetailController",abstract:!0,resolve:{inject_groups:e,groupDetail:a,inject_infinite:"inject_infinite"},params:{detail:null,tag:o,featureName:"tag"===o?"":o,view:s.view||o,obj:angular.copy(tagTypes[o])}}}),"tag"==o&&(c.push({name:"discussion_tag",state:{url:"/campus/{id:[0-9]+}",resolve:{redirect:["$timeout","$stateParams","$state","$q",function(e,t,a,i){var r=i.defer();return e(function(){a.go("inapp.tag_detail.main",{link:"id",tagid:t.id}),r.reject("redirecting...")},10),r.promise}]}}}),c.push({name:l+"_detail.internships",state:{templateUrl:"./templates/pages/jobs.html",controller:"JobsController",url:"/internships?id&source&tab",reloadOnSearch:!1,params:{pageTitle:"Internships in AIP",action:13,onlyInternship:!0},resolve:{tag:function(){return null},check_restrictions:"check_restrictions",redirectToSingleJob:"redirectToSingleJob",inject_groups:e,inject_insiderm:"inject_insiderm",jobsInitialData:"jobsInitialData",as_userLoginChecker:"as_userLoginChecker"}}})),s.disqMain?c.push({name:l+"_detail.main",state:{templateUrl:"./templates/pages/segregated_posts.html",url:"?source",controller:"noticeboardController",resolve:{check_restrictions:"check_restrictions",inject_groups:e,inject_infinite:"inject_infinite",tag:i,inject_insiderm:"inject_insiderm",discussionInitData:"discussionInitData",inject_in_out_rm:"inject_in_out_rm",as_userLoginChecker:"as_userLoginChecker",checkIfDisqHidden:r},params:{pageTitle:"Discussions"}}}):c.push({name:l+"_detail.main",state:{templateUrl:"./templates/pages/groups/groupDetailsMain.html",url:"",controller:"groupDetailMainController",resolve:{inject_groups:e,groupDetail:a},params:{pageTitle:{resolveData:"response.data.name"}}}});var p=[{name:l+"_detail.members",state:{templateUrl:"./templates/pages/groups/groupMembers.html",controller:"groupMembersController",url:"/members",params:{pageTitle:"Members",action:14},resolve:{check_restrictions:"check_restrictions",tag:i,inject_groups:e,inject_search:"inject_search"}}},{name:l+"_detail.about",state:{templateUrl:"./templates/pages/groups/groupAbout.html",controller:"groupAboutCtrl",url:"/about",params:{pageTitle:"About"},resolve:{tag:i,inject_groups:e}}},{name:l+"_detail.events",state:{templateUrl:"./templates/pages/events.html",controller:"EventsController",url:"/events?source",params:{pageTitle:{resolveData:'"Events in "+response.name'}},resolve:{tag:i,inject_groups:e,inject_ckeditor:"inject_ckeditor",inject_insiderm:"inject_insiderm",eventsInitialData:"eventsInitialData"}}},{name:l+"_detail.jobs",state:{templateUrl:"./templates/pages/jobs.html",controller:"JobsController",url:"/jobs?id&source&tab",reloadOnSearch:!1,params:{pageTitle:{option:15,fallback:"Jobs"},action:13},resolve:{tag:i,check_restrictions:"check_restrictions",redirectToSingleJob:"redirectToSingleJob",inject_groups:e,inject_insiderm:"inject_insiderm",jobsInitialData:"jobsInitialData",as_userLoginChecker:"as_userLoginChecker"}}},{name:l+"_detail.gallery",state:{url:"/galleries",controller:"GallerymainController",templateUrl:"./templates/pages/gallery_main.html",resolve:{tag:i,inject_groups:e,inject_insiderm:"inject_insiderm",inject_infinite:"inject_infinite"},params:{pageTitle:"Galleries"}}},{name:l+"_detail.campusfeed",state:{templateUrl:"./templates/pages/campusfeed_list.html",controller:"CampusfeedController",url:"/campusfeed?source&feed_unpublished",resolve:{tag:i,inject_groups:e,inject_insiderm:"inject_insiderm"},params:{pageTitle:"Campusfeed"}}},{name:l+"_detail.discussion",state:{templateUrl:"./templates/pages/segregated_posts.html",url:"/discussion?source",controller:"noticeboardController",resolve:{check_restrictions:"check_restrictions",inject_groups:e,inject_infinite:"inject_infinite",tag:i,inject_insiderm:"inject_insiderm",discussionInitData:"discussionInitData",inject_in_out_rm:"inject_in_out_rm",as_userLoginChecker:"as_userLoginChecker"},params:{pageTitle:"Discussions"}}},{name:l+"_detail.settings",state:{templateUrl:"./templates/pages/groups/groupSettings.html",url:"/settings?filter",controller:"groupSettingsCtrl",resolve:{check_restrictions:"check_restrictions",inject_groups:e,as_userLoginChecker:"as_userLoginChecker",checkAdminOrCoord:n,tag:i,inject_admin:"inject_admin"},params:{pageTitle:"Settings"}}}];c=c.concat(p)}window.dynamicStates=window.dynamicStates.concat(c)}window.commonStateFunc.inject_groups=e,e.$inject=["$ocLazyLoad"],t.$inject=["$http","$stateParams","$rootScope"],a.$inject=["$stateParams","$rootScope","$http","$q","$state"],i.$inject=["groupDetail","$q","$rootScope"],r.$inject=["groupDetail","$q","$state","$timeout"],n.$inject=["groupDetail","tag","$q","$state","$timeout","$rootScope","$stateParams"]}(),function(){"use strict";function e(e,t,a){return e.post("./tags/fetch",{tag_name:t.tag,following_status_all:!0,member_status_all:!0,few_members_list:!t.get_p_tagid,get_p_tagid:t.get_p_tagid||!1}).success(function(e){1==e.success&&initialDataSuccess1(t,a)(e)})}var t=[];t.push({name:"networks",state:{templateUrl:"./templates/pages/groups/network_list.html",url:"/networks",controller:"networksCtrl",resolve:{inject_groups:"inject_groups",tagList:e},params:{tag:"networks",pageTitle:{resolveData:"'Alumni Insights | ' + $rootScope.app_data.data.short_name"},featureName:"alumni_value_networks"}}}),t.push({name:"single_network",state:{templateUrl:"./templates/pages/groups/network_single.html",url:"/network/:tag",controller:"networkViewCtrl",resolve:{inject_groups:"inject_groups",as_userLoginChecker:"as_userLoginChecker",tagList:e},params:{virtualUrl:"/network/view",get_p_tagid:!0,pageTitle:{resolveData:"$rootScope.app_data.data.short_name + ' ' + response.data.name"},tagList:e,featureName:"alumni_value_networks"}}}),window.dynamicStates=window.dynamicStates.concat(t),e.$inject=["$http","$stateParams","$rootScope"]}(),function(){"use strict";var e=[];e.push({name:"icardRequest",state:{templateUrl:"./templates/pages/icard/icardRequest.html",url:"/icard",controller:"icardRequestCtrl",resolve:{inject_profile:"inject_profile",as_userLoginChecker:"as_userLoginChecker"},params:{featureName:"icard",pageTitle:"ICard"}}}),window.dynamicStates=window.dynamicStates.concat(e)}(),function(){"use strict";function redirectInvite(e,t,a){a(function(){console.log("Test");var a=t.absUrl(),i="invite"+a.split("/invite")[1];i=e.api_base+i,window.location.assign(i)},10)}function getNotification(e){return e.getNotifications(1,function(e){console.log("first stream",e)})}function check_restrictions(e,t,a,i){var r=e.defer(),n=i.action;return!chk_restrictions(n,!0)||(n||(n=1),t(function(){a.go("inapp.restricted_",{action:n},{reload:!0,verify:!1})},200),r.reject(),r.promise)}function logMeOut(e,t,a,i){var r=e.defer(),n=a.app_data.cid;if(!(n>0)&&a.app_data.loggedin_cid>0&&(n=a.app_data.loggedin_cid),window.platform){var o=!1;i(function(){!1===o&&t.post("./signuser/signout_api").success(function(e){r.reject(),window.location.href=window.file_base+"index.html?logout=1"})},2e3),window.plugins.OneSignal.getIds(function(e){o=!0,console.log("getIds for logout: "+JSON.stringify(e)),t.post("./mobile/disableOnesignal",{id:e.userId}).success(function(e){t.post("./signuser/signout_api").success(function(e){r.reject(),window.location.href=window.file_base+"index.html?logout=1"})})})}else t.post("./signuser/signout_api").success(function(e){r.reject(),window.location.href=n>0?a.app_base+"institutes/"+n:a.app_base});return r.promise}function redirectToProfile(e,t,a,i){var r=e.defer();return t(function(){r.reject(),a.go("inapp.profile",{uid:i.uid})}),r.promise}function redirectTo($q,$timeout,$state,$stateParams){var q=$q.defer();return $timeout(function(){q.reject();var params={};angular.isDefined($stateParams.params)&&(params=eval($stateParams.params)),angular.isDefined($stateParams.redirectToState)&&($stateParams.redirectToState="inapp.404"),$state.go($stateParams.redirectToState,params)}),q.promise}function redirectToMsg(e,t,a){var i=e.defer();return t(function(){a.go("inapp.messages",{msgid:0})}),i.reject(),i.promise}function redirectToDonation(e,t,a){var i=e.defer();return t(function(){a.go("inapp.donation",{msgid:0})}),i.reject(),i.promise}function goToPortfolio(e,t,a,i,r){var n,o=e.defer();return n=angular.isDefined(r.cid)?r.cid:a.app_data.data.cid,t(function(){i.go("inapp.portfolio",{cid:n})}),o.reject(),o.promise}function redirectToLogin(e,t,a,i,r){var n=e.defer(),o=!1;return angular.isDefined(a.app_data.data)&&(o=a.app_data.data.cid),t(function(){i.go("inapp.login",{cid:o})}),n.reject(),n.promise}function inject_libphonenumber(e){return e.load({name:"libphonenumber",files:[window.file_base+"./libs/utilities/libphonenumber.js"+window.jsVersion]})}function inject_insiderm(e){return e.load({name:"inside_rm",files:[window.file_base+"./dist/inside_rm.min.js"+window.jsVersion]})}function inject_in_out_rm(e){return e.load({name:"in-out-rm",files:[window.file_base+"./dist/in_out_rm.min.js"+window.jsVersion]})}function inject_admin(e){return e.load([{name:"as.admin",files:[window.file_base+"./dist/admin.min.js"+window.jsVersion]},{name:"ngFileUpload",files:[window.file_base+"./libs/ng-file-upload-shim.min.js",window.file_base+"./libs/ng-file-upload.min.js"]}])}function inject_profile(e,t){return(new Image).src=t.appfiles.coverPhoto,e.load({name:"as.profile",files:[window.file_base+"./dist/profile.min.js"+window.jsVersion]})}function inject_nicEdit(e){return e.load({name:"nic-edit",files:[window.file_base+"./dist/nic.min.js"+window.jsVersion]})}function inject_search(e){return e.load({name:"as.search",files:[window.file_base+"./dist/search.min.js"+window.jsVersion]})}function inject_ckeditor(e,t){function a(){return e.load({name:"ckeditor",files:[n]}).then(function(){i.resolve(!0),platformis.ios&&window.CKEDITOR&&!window.CKEDITOR.env.isCompatible&&(window.CKEDITOR.env.isCompatible=!0,window.CKEDITOR.env.gecko=!1,window.CKEDITOR.env.iOS=!0)})}var i=t.defer(),r="./libs/ckeditor/ckeditor.js",n="./libs/ckeditor/angular-ckeditor.min.js";return window.platform&&(r="http://www.almashines.com/libs/ckeditor/ckeditor.js",n="http://www.almashines.com/libs/ckeditor/angular-ckeditor.min.js"),function(){e.load({files:[r]}).then(a)}(),i.promise}function inject_infinite(e){return e.load({name:"infinite-scroll",files:[window.file_base+"./libs/ng-infinite-scroll.min.js"]})}function inject_datepicker(e){if(!e.isLoaded("angular-datepicker"))return e.load({name:"angular-datepicker",files:[window.file_base+"./libs/angular-datepicker.js","css!"+window.file_base+"./css/angular-datepicker.css"]})}function inject_razorpay(e){if(!window.Razorpay)return e.load({name:"razorpay_js",files:["https://checkout.razorpay.com/v1/checkout.js"]})}function profileCompulsoryInitData(e,t,a,i,r){return void 0!==r.uid?e.post("./profile/uid_in_current",{uid:r.uid}).then(function(e){var n=t.defer();return e.data&&1==e.data.success?n.resolve({uid:r.uid}):a(function(){n.reject(),i.go("inapp.noticeboard",{})}),n.promise}):e.get("./profile/compulsory_api").success(function(e){if(1!=e.success){var r=t.defer();return a(function(){r.reject(),i.go("inapp.noticeboard",{})}),r.promise}})}function couchsurfingInitData(e){return e.get("./maps/couchsurfing_api")}function donationViewInitData(e,t,a,i){return e.post("./donation/index_new_api/",{project_id:t.id}).success(function(e){if("donate_now"==t.state&&void 0!=e.data){var r=e.data.project[0];if(0==r.is_public&&(i.app_data.cid!=r.cid||0==i.app_data.same_com_log))return void a.go("inapp.login",{cid:r.cid,redirect:"donation/"+r.project_id+"/proceed"})}initialDataSuccess1(t,i)(e)})}function profileInitData(e,t){var a="./profile/index_api";return angular.isDefined(t.uid)&&(a+="/"+t.uid),e.get(a)}function changepasswordInitData(e,t){if(t.changepassword)return!1;var a={uid:t.uid,token:t.token,cid:t.cid};return e.post("./changepassword/respond_api",a).success(function(e){console.log(e)})}function eventTicketInitData(e,t,a){var i={eventId:t.eventId};return null!=t.uid&&""!=t.uid&&a.app_data.isAdmin&&(i.uid=t.uid),e.post("./events/tickets_api",i).success(initialDataSuccess1(t,a))}function sharedPostData(e,t,a,i){return void 0!=e.id?(console.log("if","$rootScope.app_...tus:",a.app_data.loginStatus),1==a.app_data.loginStatus?(setTimeout(function(){i.go("inapp.noticeboard",{post:e.id})},100),{data:{success:0}}):t.get("./noticeboard/sharedPost?id="+e.id).success(function(t){console.log("L1349","res:",t),t.title="Explore New Posts",t.description="Update in the "+a.app_data.data.short_name+" community",t.image=a.appfiles.coverPhoto;var i="Post";try{Object.keys(t.data.POLL_OPTIONS).length>0&&(i="Poll"),t.data.Content.length>0&&t.data.Content[0].t1_unique_user_id&&t.data.User_Details.uuis[t.data.Content[0].t1_unique_user_id].first_name&&(t.title="New "+i+" by "+t.data.User_Details.uuis[t.data.Content[0].t1_unique_user_id].first_name+" "+t.data.User_Details.uuis[t.data.Content[0].t1_unique_user_id].last_name+" in "+a.app_data.data.short_name+" community")}catch(e){}try{t.image=t.data.Content[0].images[0].src}catch(e){}try{if(0==Object.keys(t.data.POLL_OPTIONS).length&&""!=t.data.Content[0].t1_content&&"<br />"!=t.data.Content[0].t1_content)t.description=t.data.Content[0].t1_content;else if(Object.keys(t.data.POLL_OPTIONS).length>0){t.description=t.data.Content[0].t1_content;var r=0;angular.forEach(t.data.POLL_OPTIONS[1][t.data.Content[0].activity_id],function(e){r+=parseInt(e.no_votes)}),r>0&&(t.description+="(Total Votes: "+r+")")}}catch(e){}initialDataSuccess1(e,a)(t)})):{data:{success:0}}}function NBinitData(e,t){var a="./noticeboard/index_api",i=!1;return angular.isDefined(e.post)&&(a=a+"?post="+e.post,i=!0),t.get(a).success(function(e){return e.data.lockInfiScroll=i,e.data}).catch(function(e){})}function discussionInitData(e,t,a,i){var r="./campus/index_api";return angular.isDefined(e.id)&&(r=r+"/"+e.id),null!=i&&(r=r+"/"+i.id+"?chapter=1"),t.get(r).success(initialDataSuccess1(e,a))}function switchInitData(e,t,a,i,r,n){if(i.app_data.uid>0){var o={signup:t.signup};return e.get("./login/switch_view_api",{params:o}).success(initialDataSuccess)}var o=a.defer();return r(function(){o.reject(),n.go("inapp.login",{})}),o.promise}function jobsInitialData(e){return e.get("./jobs/index_api").success(initialDataSuccess)}function jobSingleInitialData(e,t,a){var i={id:t.jobId,cid_in:a.app_data.cid};return e.post("./jobs/view_api",i).success(initialDataSuccess1(t,a))}function eventsInitialData(e,t,a,i){return e.get("./events/index_api").success(function(){try{initialDataSuccess1(t,a)(i)}catch(e){console.log(e)}})}function tagDataFromId(e,t,a,i,r){if(angular.isDefined(t.tagid)){var n=t.tagid,o=a.defer();return e.get("./tags/tags/validate?tagid="+n).success(function(e){1==e.success&&e.data.cid==r.app_data.cid?o.resolve(e.data):(console.log("something wrong with tag.",e),snackbar_general("Wrong link entered",3e3),o.reject(null),i.go("inapp.404"))}),o.promise}return null}function checkCustomRouteRedirects(e,t,a,i){if(!e.rediractable_states||!e.rediractable_state_params)return!0;var r=angular.copy(e);delete r.rediractable_states,delete r.rediractable_state_params;for(var n,o,s=!1,c=0;c<e.rediractable_state_params.length;c++){for(var l=e.rediractable_state_params[c],o={},p=0;p<l.params.length;p++)o[l.params[p]]=r[l.params[p]];if(n=objectHash({params:o}),e.rediractable_states[n]){s=!0;break}}if("admin"!==e.source&&s){var m=i.defer();return a(function(){t.go("inapp."+e.rediractable_states[n],r)}),m.reject(),m.promise}return!0}function eventSingleInitialData(e,t,a){var i={id:t.eventId,getEvent_views:1};return e.post("./events/events_single_api",i).success(function(e){try{e.data.eventDetails.data.event_logo&&t.metaTags.push({name:"og:image",keyObj:{property:"'og:image'",content:"response.data.eventDetails.data.event_logo"}})}catch(e){}initialDataSuccess1(t,a)(e)})}function redirectToSingleJob(e,t,a){if(e.id){var i=$q.defer();return a(function(){t.go("inapp.job_single",{jobId:e.id})}),i.reject(),i.promise}return!0}function searchInitialData(e,t,a,i){initialDataSuccess1(a,i)()}function eventAttendeesInitialData(e,t,a){var i={event_id:e.eventId};return t.post("./events/attendees_api",i).success(initialDataSuccess1(e,a))}function campusfeedEditInitialData(e,t){var a={id:e.feedId};return t.post("./campusfeed/create_api",a).success(initialDataSuccess)}function aboutInitialData(e,t,a){return t.post("./institutes/about_api/"+a.app_data.data.cid).success(initialDataSuccess1(e,a))}function campustfeedViewInitialData(e,t,a,i){var r=0,n=!1,o=e.feedid.match(/([a-zA-Z0-9.\-_]+)-([0-9]+)/);null!==o?(r=o[2],0===o[1].localeCompare("st")&&(n=!0)):r=e.feedid;var s={feedid:r,has_content_id:n};return t.post("./campusfeed/index_api",s).success(function(t){if(console.log("$stateParams.old",e.old),1==e.old){a.nr=1;var r=a.COMM_APPBASE+"f/"+t.data.feed.singlefeedContent.link_text+"-"+t.data.feed.singlefeedContent.id;r=r.replace(a.app_base,"/"),i.path(r).replace()}try{t.data.feed.singlefeedContent.main_img&&e.metaTags.push({name:"og:image",keyObj:{property:"'og:image'",content:"response.data.feed.singlefeedContent.main_img"}})}catch(e){}initialDataSuccess1(e,a)(t)})}function portfolioInitialData(e,t,a,i){if(a.app_data.config.meta[37]&&"string"==typeof a.app_data.config.meta[37]&&""!==a.app_data.config.meta[37].trim()){var r=a.app_data.config.meta[37].trim();0!==r.indexOf("http://")&&0!==r.indexOf("https://")&&(r=a.COMM_APPBASE+r),window.location.assign(r);return i.defer().reject("PORTFOLIO_REDIRECTOR detected"),promise}var n={cid:a.app_data.data.cid,source:e.source};return t.post("./institutes/index_api",n).success(initialDataSuccess1(e,a))}function socialInit(e,t,a,i,r){return e.post("./welcome/social_connect_api",r).success(function(e){1==e.success&&i(function(){a.header.loggedin=!1,a.header.switch=1})})}function lmFormInitialData(e,t,a){return t.post("./checkout/life_membership/index_api",{cid:a.app_data.cid}).success(initialDataSuccess)}function setMentorshipPageTitle($stateParams,$http,$rootScope){if(angular.isDefined($stateParams.pageTitle)&&angular.isDefined($stateParams.pageTitle.resolveData))try{console.log("eval: ",$stateParams.pageTitle.resolveData),$stateParams.page_title=eval($stateParams.pageTitle.resolveData)}catch(e){console.log("title error",e),$stateParams.page_title="Almashines"}}function getMentorshipMentorId(e,t,a){return t({url:"./mentorship/mentorship/is_mentor",method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){return 1!=e.success?0:e.data.mentor.id})}function getMentorshipIsMentee(e,t,a){return t({url:"./mentorship/mentorship/is_mentee",method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){return 1==e.success})}function newmentorInitData(e,t,a){var i={user_id:a.app_data.uid,type:3};return t.post("./sectors/fetch_user_sectors",i).success(initialDataSuccess)}function albumInfo(e,t,a,i){return t({url:"./gallaries/getGallaries",method:"POST",data:{cid:a.app_data.cid,stream:1,gallary_id:e.id,getGallary_view:1},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){1!=t.success&&i.go("inapp.gallery"),initialDataSuccess1(e,a)(t)})}function initialDataSuccess(e){return e.data}function postEventOrderData(e){return e.post("./events/order_api?code="+getParameterByName("code"))}function staticPageData(e,t,a){t.id=0,t.linktext="";var i=t.tmp.match(/([a-zA-Z0-9.\-_]+)-([0-9]+)/);return angular.isDefined(i[1])&&angular.isDefined(i[2])&&(t.id=i[2],t.linktext=i[1]),t.id>0?e.post("./institutes/page_api/"+t.id).success(initialDataSuccess1(t,a)):{success:0}}function inject_scdatetime(e){return e.load({name:"scDateTime"})}function inject_google_chart(e){return e.load({name:"googlechart",files:["./libs/ng-google-chart.js"]})}function invitationFirstFeed(e,t){if(t.q){var a={name:t.q};return e.post("./invitation/search",a)}return e.get("./invitation/feed/")}function allChapters(e,t,a){var i=e.defer(),r=a.app_data.cid;return t.get("./chapters/all/"+r).success(function(e){if(1==e.success){var t={no_cat:[],cat:{},map:[]};angular.forEach(e.data,function(e){if(angular.isDefined(t.map[e.id])||(t.map[e.id]=e),null==e.cat_name)return void t.no_cat.push(e);angular.isDefined(t.cat[e.cat_name])||(t.cat[e.cat_name]=[]),t.cat[e.cat_name].push(e)}),t.map=t.map.filter(function(e){return void 0!==e}),i.resolve(t)}e.success<=0&&i.resolve({error:e.success})}),i.promise}function chapterDetail(e,t,a){if(null!==t.chapter&&"object"==typeof t.chapter){var i={success:1,data:t.chapter};return initialDataSuccess1(t,a)(i),{data:i}}return e.get("./chapters/link/"+a.app_data.cid+"/"+t.link).success(initialDataSuccess1(t,a))}function tagOfChapter(e,t){var a=t.defer();if(console.log("chapterDetail",e),1==e.data.success){var i={id:e.data.data.tag_id,name:e.data.data.name};a.resolve(i)}else a.reject(e.data);return a.promise}function postOrderData(e,t,a){return e.post("./checkout/gateway/transaction?code="+t.code).success(initialDataSuccess1(t,a))}function yearbook_start(e,t){return console.log("yearbook resolve"),initialDataSuccess1(e,t)(null)}function login2switch(e,t,a,i,r,n){if(e.app_data.uid>0){var o=i.defer();return a(function(){o.reject("Already logged in..."),console.log("logged in ",r.redirect);var i=0,s=e.app_data.loggedin_cid,c=decodeURIComponent(r.redirect);e.app_data.cid>0&&(i=e.app_data.cid),s>0&&s==i?(""!=c&&null!=c&&void 0!=c&&"undefined"!=c||(c="noticeboard"),a(function(){platform?n.url(file_base_rel+c):/^(http|https):\/\//.test(c)?window.location.href=c:n.url(c)})):t.go("inapp.switch",{signup:i,redirect:c})}),o.promise}return!0}function asCommunityLiveCheck(e,t,a,i,r){if(!angular.isDefined(e.ignoreLiveSwitch)||!e.ignoreLiveSwitch){var n=t.defer();return 3==parseInt(r.app_data.data.live_switch||0)?a(function(){n.reject("Platform to be Launched Yet."),r.app_data.same_com_log?i.go("inapp.platform_invitation"):i.go("inapp.login")}):n.resolve("OK"),n.promise}}function asFeaturesCheck(e,t,a,i,r,n){if(!angular.isUndefined(e.featureName)&&e.featureName&&""!=e.featureName){var o=a.defer();return t.enabled(e.featureName)?o.resolve("OK"):i(function(){o.reject("Feature not enabled"),r.go("inapp.404")}),o.promise}}function temp_tresvista(e,t,a,i,r,n){try{
if(256==e.app_data.cid&&1==e.app_data.same_com_log&&-1===[5,6,9,11,13,14,15].indexOf(parseInt(e.app_data.logged_user_roles[0].is_authenticated))){var o=i.defer();return o.reject("tresvista restriction"),a(function(){t.go("inapp.restricted_",{action:1})},200),o.promise}if(256==e.app_data.cid&&0==e.app_data.same_com_log){var o=i.defer();o.reject("same_com_log is false"),e.toState=this;var s=t.href(this.self.name,n,{absolute:!0});return null==s?s="":""!==e.app_data.data.baseState&&(s=s.split(e.app_data.data.baseState)[1],s="/"+e.app_data.data.baseState+s),a(function(){var i=getParameterByName("redirect");["",null,void 0,"null","undefined"].indexOf(i)>-1&&(i=encodeURIComponent(urlQueryStringCleaner(s))),t.go("inapp.login",{redirect:i,redirect_link:n.account_redirect_activity}),a(function(){var t="this community";void 0!==e.app_data.data.name&&(t=e.app_data.data.name);var a="You are not logged in "+t+", please login first.";snackbar_general(a,3500)},1e3)}),o.promise}}catch(e){console.log(e)}}function as_userLoginChecker(e,t,a,i,r,n){if(0==e.app_data.same_com_log){var o=i.defer();o.reject("same_com_log is false"),e.toState=this;var s=t.href(this.self.name,n,{absolute:!0});return null==s?s="":""!==e.app_data.data.baseState&&(s=s.split(e.app_data.data.baseState)[1],s="/"+e.app_data.data.baseState+s),a(function(){var i=getParameterByName("redirect");["",null,void 0,"null","undefined"].indexOf(i)>-1&&(i=encodeURIComponent(urlQueryStringCleaner(s))),t.go("inapp.login",{redirect:i,redirect_link:n.account_redirect_activity}),a(function(){var t="this community";void 0!==e.app_data.data.name&&(t=e.app_data.data.name);var a="You are not logged in "+t+", please login first.";snackbar_general(a,3500)},1e3)}),o.promise}}function set_route_redirectable_params(e,t){if(angular.isUndefined(e.state.params)&&(e.state.params={}),angular.isUndefined(e.state.params.rediractable_states)&&(e.state.params.rediractable_states={}),angular.isUndefined(e.state.params.rediractable_state_params)&&(e.state.params.rediractable_state_params=[]),isObject(t.state_params)){for(var a=Object.keys(t.state_params).sort(),i=objectHash(a),r=0;r<e.state.params.rediractable_state_params.length;r++){if(e.state.params.rediractable_state_params[r].hash===i)return}e.state.params.rediractable_state_params.push({hash:i,params:a}),e.state.params.rediractable_state_params.sort(function(e,t){return t.params.length>e.params.length?1:-1})}}function add_custom_route_for_event(e,t){var a=["event_single","event_attendees","event_ticket"],i=[];dynamicStates_.forEach(function(r){if(angular.isDefined(r.state)&&angular.isDefined(r.name)&&-1!=a.indexOf(r.name)){set_route_redirectable_params(r,{state_params:{eventId:e}});var n=r.name+"_custom_"+t,o=angular.copy(r);o.name=n,delete o.state.params.rediractable_states,delete o.state.params.rediractable_state_params,o.state.params.eventId=e,o.state.url=o.state.url.replace("{eventId:[0-9]+}","").replace("events",t).replace("/?","?"),o.state.params.isCustomRoute=!0,i.push(o);var s=objectHash({params:{eventId:e}});r.state.params.rediractable_states[s]=n}}),i.forEach(function(e){dynamicStates_.push(e)})}function add_custom_redirect_route(e){var t=[e.old_state_name],a=[];dynamicStates_.forEach(function(i){if(angular.isDefined(i.state)&&angular.isDefined(i.name)&&-1!=t.indexOf(i.name)){set_route_redirectable_params(i,e);var r=i.name+"_custom_"+e.new_state_url.replace("/","_"),n=angular.copy(i);n.name=r,n.state.params=angular.merge(e.state_params,n.state.params),delete n.state.params.rediractable_states,delete n.state.params.rediractable_state_params,n.state.url=e.new_state_url;var o=objectHash({params:n.state.params});n.state.params.isCustomRoute=!0,a.push(n),i.state.params.rediractable_states[o]=r}}),a.forEach(function(e){dynamicStates_.push(e)})}function set_custom_routes(){var e=window.appData;if(e&&e.data&&e.data.config&&e.data.config.meta&&isObject(e.data.config.meta[57])){var t=e.data.config.meta[57];if(isArray(t.state_redirects))for(var a=0;a<t.state_redirects.length;a++){var i=t.state_redirects[a];"event_route"===i.type&&i.event_id&&i.event_special_name?add_custom_route_for_event(i.event_id,i.event_special_name):i.new_state_url&&i.old_state_name&&i.state_params&&add_custom_redirect_route(i)}}}var dynamicStates_=[{name:"jobs",state:{templateUrl:"./templates/pages/jobs.html",controller:"JobsController",url:"/jobs?id&source&tab",reloadOnSearch:!1,params:{featureName:"jobs",pageTitle:{option:15,fallback:"Jobs"},action:13},resolve:{tag:function(){return null},check_restrictions:check_restrictions,redirectToSingleJob:redirectToSingleJob,inject_insiderm:inject_insiderm,jobsInitialData:jobsInitialData,as_userLoginChecker:as_userLoginChecker}}},{name:"job_single",state:{templateUrl:"./templates/pages/job_single.html",controller:"JobSingleController",url:"/jobs/view/:jobId?go_to_applications&go_to_apply&source",resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,jobSingleInitialData:jobSingleInitialData},params:{virtualUrl:"/jobs/view",featureName:"jobs",pageTitle:{resolveData:"response.data.job.designation + ' at ' + response.data.job.company"},metaTags:[{name:"description",keyObj:{content:"response.data.job.description"}}]}}},{name:"events",state:{templateUrl:"./templates/pages/events.html",controller:"EventsController",url:"/events?source&tagid&cat",params:{featureName:"events",pageTitle:"Events",extra_params:null,action:18},resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,inject_ckeditor:inject_ckeditor,tag:tagDataFromId,eventsInitialData:eventsInitialData}}},{name:"event_single",state:{templateUrl:"./templates/pages/event_single.html",controller:"EventSingleController",url:"/events/{eventId:[0-9]+}?source&creation&link",resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,inject_ckeditor:inject_ckeditor,eventSingleInitialData:eventSingleInitialData},params:{action:18,virtualUrl:"/events/view",featureName:"events",pageTitle:{resolveData:"response.data.eventDetails.data.title"},metaTags:[{name:"description",keyObj:{content:"response.data.eventDetails.data.desc"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"event_attendees",state:{templateUrl:"./templates/pages/event_attendees.html",controller:"EventAttendeesController",url:"/events/attendees/{eventId:[0-9]+}?source&source_baggage&added",resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,eventAttendeesInitialData:eventAttendeesInitialData},params:{virtualUrl:"/event/attendees",featureName:"events",pageTitle:{resolveData:"'Attendees | ' + response.eventDetails.data.title"},action:18}}},{name:"event_ticket",state:{templateUrl:"./templates/pages/bookticket_new.html",url:"/events/tickets/{eventId:[0-9]+}?source&uid&preview_mode",controller:"eventTicketController",resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,eventTicketInitData:eventTicketInitData,inject_razorpay:inject_razorpay,inject_libphonenumber:inject_libphonenumber},params:{virtualUrl:"/events/ticket",featureName:"events",pageTitle:{resolveData:"'Event Tickets | ' + response.data.eventData.eventTitle"},action:18}}},{name:"event_ticket_v1",state:{templateUrl:"./templates/pages/bookticket_new_v1.html",url:"/events/tickets_v1/{eventId:[0-9]+}?source",controller:"eventTicketController_v1",resolve:{inject_insiderm:inject_insiderm,eventTicketInitData:eventTicketInitData,inject_razorpay:inject_razorpay,inject_libphonenumber:inject_libphonenumber},params:{virtualUrl:"/events/tickets_v1",featureName:"events",pageTitle:{resolveData:"'Event Tickets | ' + response.data.eventData.eventTitle"}}}},{name:"osearch",state:{templateUrl:"./templates/pages/search.html",controller:"SearchController",url:"/osearch?source&company&city&department&degree&yop&subinst&sector&skill&name&gender&hometown&designation&industry&role",resolve:{check_restrictions:check_restrictions,inject_infinite:inject_infinite,inject_search:inject_search,searchInitialData:searchInitialData},params:{pageTitle:{option:14,fallback:"Official Alumni Directory"},metaTags:[{name:"description",keyObj:{content:"'Connect with all the past students of Institute. View Alumni Directory.'"}},{name:"og:image",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:secure_url",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"search",state:{templateUrl:"./templates/pages/searchV2.html",controller:"SearchControllerV2",url:"/search?searchparams&source&company&city&department&degree&yop&subinst&sector&skill&name&gender&hometown&designation&industry&role",resolve:{check_restrictions:check_restrictions,inject_infinite:inject_infinite,inject_search:inject_search,searchInitialData:searchInitialData},params:{pageTitle:{option:14,fallback:"Official Alumni Directory"},metaTags:[{name:"description",keyObj:{content:"'Connect with all the past students of Institute. View Alumni Directory.'"}},{name:"og:image",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:secure_url",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"settings",state:{templateUrl:"./templates/pages/settings.html",controller:"SettingsController",url:"/settings?source&uid&profile_name",params:{ignoreLiveSwitch:!0,pageTitle:"Settings"},resolve:{as_userLoginChecker:as_userLoginChecker}}},{name:"campusfeed",state:{templateUrl:"./templates/pages/campusfeed_list.html",controller:"CampusfeedController",url:"/campusfeed?source?type&feed_unpublished&cat&show_latest",resolve:{inject_insiderm:inject_insiderm,temp_tresvista:temp_tresvista,tag:function(){return null}},params:{featureName:"campusfeed",pageTitle:"Campusfeed"}}},{name:"campusfeed_edit",state:{templateUrl:"./templates/pages/campusfeed_edit.html",controller:"CampusfeedEditController",url:"/campusfeed/create/{feedId:[0-9]+}?source&source_baggage",resolve:{inject_insiderm:inject_insiderm,inject_ckeditor:inject_ckeditor,campusfeedEditInitialData:campusfeedEditInitialData,as_userLoginChecker:as_userLoginChecker,inject_datepicker:inject_datepicker},params:{featureName:"campusfeed",pageTitle:"Edit Campusfeed",hiddenTag:0,extra_params:null}}},{name:"campusfeed_create",state:{templateUrl:"./templates/pages/campusfeed_edit.html",controller:"CampusfeedEditController",url:"/campusfeed/create?source&hiddenTag",resolve:{inject_insiderm:inject_insiderm,inject_ckeditor:inject_ckeditor,campusfeedEditInitialData:campusfeedEditInitialData,as_userLoginChecker:as_userLoginChecker,inject_datepickera:inject_datepicker},params:{featureName:"campusfeed",pageTitle:"Create a Campusfeed",extra_params:null}}},{name:"campusfeed_view_1",state:{templateUrl:"./templates/pages/campusview_md.html",url:"/campusfeed/{feedid:[0-9]+}?source&heading&shared",controller:"CampustfeedViewController",resolve:{inject_insiderm:inject_insiderm,campustfeedViewInitialData:campustfeedViewInitialData},params:{featureName:"campusfeed",virtualUrl:"/campusfeed/view",old:1,pageTitle:{resolveData:"response.data.feed.singlefeedContent.heading"},metaTags:[{name:"description",keyObj:{content:"response.data.feed.singlefeedContent.description"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"campusfeed_view",state:{templateUrl:"./templates/pages/campusview_md.html",url:"/f/{feedid:.*}?source&heading&shared",controller:"CampustfeedViewController",resolve:{inject_insiderm:inject_insiderm,campustfeedViewInitialData:campustfeedViewInitialData},params:{featureName:"campusfeed",virtualUrl:"/campusfeed/view",pageTitle:{resolveData:"response.data.feed.singlefeedContent.heading"},metaTags:[{name:"description",keyObj:{content:"response.data.feed.singlefeedContent.description"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"checkout_life_membership_detail",state:{templateUrl:"./templates/pages/checkout/lm_detail.html",controller:"lmDetailController",url:"/checkout/life_membership/details?source",resolve:{inject_insiderm:inject_insiderm},params:{pageTitle:"Become a Member"}}},{name:"checkout_life_membership_form",state:{templateUrl:"./templates/pages/checkout/lm_form.html",controller:"lmFormController",url:"/checkout/life_membership?source&email",resolve:{inject_insiderm:inject_insiderm,lmFormInitialData:lmFormInitialData,inject_razorpay:inject_razorpay,inject_libphonenumber:inject_libphonenumber},params:{pageTitle:"Membership Form"}}},{name:"login",state:{templateUrl:"./templates/pages/login.html",controller:"loginSignupController",url:"/account?cid&redirect_link&activity_id&redirect&link&source",params:{ignoreLiveSwitch:!0,pageTitle:"SignIn / SignUp"},resolve:{login2switch:login2switch}}},{name:"login_1",state:{url:"/login",params:{ignoreLiveSwitch:!0},resolve:{redirectToLogin:redirectToLogin}}},{name:"login_2",state:{url:"/institutes/account",params:{ignoreLiveSwitch:!0},resolve:{redirectToLogin:redirectToLogin}}},{name:"terms",state:{templateUrl:"./templates/pages/main_site/terms.html",url:"/terms?source&section",controller:["$anchorScroll","$scope","$stateParams",function(e,t,a){t.$on("$viewContentLoaded",function(){e(a.section||"body")})}],params:{ignoreLiveSwitch:!0,pageTitle:"Terms and Conditions"}}},{name:"pp",state:{templateUrl:"./templates/pages/main_site/pp.html",url:"/privacypolicy?source",params:{ignoreLiveSwitch:!0,pageTitle:"Privacy Policy"}}},{name:"about",state:{templateUrl:"./templates/pages/main_site/portfolio_au_md.html",url:"/about?section&source",controller:"AboutController",resolve:{aboutInitialData:aboutInitialData},params:{ignoreLiveSwitch:!0,pageTitle:{resolveData:"'About | ' + response.data.insti_info.name"}}}},{name:"portfolio",state:{templateUrl:"./templates/pages/main_site/portfolio_md.html",url:"?section&source&invite_id&invite_key&removeHeader",controller:"PortfolioController",resolve:{portfolioInitialData:portfolioInitialData},params:{virtualUrl:"/portfolio",ignoreLiveSwitch:!0,pageTitle:{resolveData:"'Official Alumni community of ' + response.data.insti_info.name"},metaTags:[{name:"description",keyObj:{content:"response.data.insti_info.description"}},{name:"og:image",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:secure_url",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"portfolio_r1",state:{templateUrl:"./templates/pages/main_site/portfolio_md.html",url:"/?section&source&invite_id&invite_key&removeHeader",controller:"PortfolioController",resolve:{portfolioInitialData:portfolioInitialData},params:{virtualUrl:"/portfolio",ignoreLiveSwitch:!0,pageTitle:{resolveData:"'Official Alumni community of ' + response.data.insti_info.name"},metaTags:[{name:"description",keyObj:{content:"response.data.insti_info.description"}},{name:"og:image",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:secure_url",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"portfolio_a1",state:{url:"/institutes/index/{cid:[0-9]+}",params:{ignoreLiveSwitch:!0},resolve:{goToPortfolio:goToPortfolio}}},{name:"portfolio_a2",state:{url:"/institutes/{cid:[0-9]+}",params:{ignoreLiveSwitch:!0},resolve:{goToPortfolio:goToPortfolio}}},{name:"social_connect",state:{templateUrl:"./templates/pages/social_connect_md.html",url:"/social_connect?source&creation",controller:"socialConnectMdController",resolve:{socialInit:socialInit,as_userLoginChecker:as_userLoginChecker},params:{ignoreLiveSwitch:!0,pageTitle:"Social Connect"}}},{name:"switch",state:{templateUrl:"./templates/pages/switch_page.html",url:"/switch?signup&source&redirect",controller:"switchController",resolve:{switchInitData:switchInitData,inject_datepicker:inject_datepicker},params:{ignoreLiveSwitch:!0,pageTitle:"Switch Dashboard"}}},{name:"news_share",state:{templateUrl:"./templates/pages/news_share.html",url:"/post/{id:[0-9]+}",controller:"newsShareCtrl",resolve:{sharedPostData:sharedPostData,inject_in_out_rm:inject_in_out_rm},params:{pageTitle:{resolveData:"response.title"},metaTags:[{name:"description",keyObj:{content:"response.description"}},{name:"og:image",keyObj:{property:"'og:image'",content:"response.image"}},{name:"og:image:secure_url",keyObj:{property:"'og:image'",content:"response.image"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"noticeboard",state:{templateUrl:"./templates/pages/noticeboard.html",url:"/noticeboard?post&source",controller:"noticeboardController",resolve:{tag:function(){return null},check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,inject_infinite:inject_infinite,discussionInitData:NBinitData,inject_in_out_rm:inject_in_out_rm,as_userLoginChecker:as_userLoginChecker},params:{pageTitle:{option:12,fallback:"Noticeboard"},extra_params:null}}},{name:"discussion",state:{templateUrl:"./templates/pages/segregated_posts.html",url:"/campus?source",controller:"noticeboardController",resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,inject_infinite:inject_infinite,tag:function(){return null},discussionInitData:discussionInitData,inject_in_out_rm:inject_in_out_rm,as_userLoginChecker:as_userLoginChecker},params:{pageTitle:"Discussions"}}},{name:"discussion_tag_",state:{templateUrl:"./templates/pages/segregated_posts.html",url:"/campus_/{id:[0-9]+}?source",controller:"noticeboardController",resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,inject_infinite:inject_infinite,tag:function(){return null},discussionInitData:discussionInitData,inject_in_out_rm:inject_in_out_rm,as_userLoginChecker:as_userLoginChecker},params:{pageTitle:{resolveData:"response.data.main_content.currentTag.name"}}}},{name:"discussion_tag1",state:{url:"/campus/index/{id:[0-9]+}?source",resolve:{check_restrictions:check_restrictions,redirectTo:redirectTo},params:{redirectToState:"discussion_tag",params:"{id: $stateParams.id}"}}},{name:"messages",state:{templateUrl:"./templates/pages/messages_md.html",url:"/messages/{msgid:[0-9]+}?source",controller:"MessagesController",resolve:{inject_insiderm:inject_insiderm,as_userLoginChecker:as_userLoginChecker},params:{virtualUrl:"/messages",pageTitle:"Messages"}}},{name:"messages_1",state:{url:"/messages?source",resolve:{redirectToMsg:redirectToMsg}}},{name:"postEventOrder",state:{template:"<div id='order' ng-bind-html='view'></div>",url:"/events/order?code",controller:"postEventOrderCtrl",resolve:{inject_insiderm:inject_insiderm,postEventOrderData:postEventOrderData},params:{featureName:"events",pageTitle:"Event Tickets"}}},{name:"changepassword_respond",state:{templateUrl:"./templates/pages/main_site/changepassword_md.html",url:"/changepassword/respond/:uid/:token?cid&source&redirect",controller:"changePasswordController",resolve:{changepasswordInitData:changepasswordInitData},params:{ignoreLiveSwitch:!0,pageTitle:"Update Password"}}},{name:"changepassword",state:{templateUrl:"./templates/pages/main_site/changepassword_md.html",url:"/changepassword?cid&source&redirect",params:{changepassword:!0,ignoreLiveSwitch:!0,pageTitle:"Request Change Password"},controller:"changePasswordController",resolve:{changepasswordInitData:changepasswordInitData}}},{name:"profile",state:{templateUrl:"./templates/pages/profile_md.html",url:"/profile/{uid:[0-9]+}?source",controller:"profileCtrl",resolve:{inject_profile:inject_profile,profileInitData:profileInitData,as_userLoginChecker:as_userLoginChecker},params:{virtualUrl:"/profile/view",pageTitle:"Profile"}}},{name:"profile_o1",state:{url:"/profile/index/{uid:[0-9]+}?source",resolve:{redirectToProfile:redirectToProfile}}},{name:"profile_2",state:{templateUrl:"./templates/pages/profile_md.html",url:"/profile?source&type&pref",controller:"profileCtrl",resolve:{inject_profile:inject_profile,profileInitData:profileInitData,inject_datepicker:inject_datepicker,as_userLoginChecker:as_userLoginChecker},params:{ignoreLiveSwitch:!0,virtualUrl:"/profile",pageTitle:"Profile"}}},{name:"profile_compulsory",state:{templateUrl:"./templates/pages/compulsory_profile_md.html",url:"/profile/compulsory?uid",controller:"profileCompulsory",resolve:{inject_profile:inject_profile,profileCompulsoryInitData:profileCompulsoryInitData,as_userLoginChecker:as_userLoginChecker,inject_datepicker:inject_datepicker},params:{ignoreLiveSwitch:!0,pageTitle:"Update Profile"}}},{name:"support",state:{templateUrl:"./templates/pages/asts_md.html",url:"/support?category",controller:"supportController",resolve:{inject_insiderm:inject_insiderm},params:{pageTitle:"Alumni Support"}}},{name:"donations",state:{url:"/donations",resolve:{redirectToDonation:redirectToDonation},params:{featureName:"donations"}}},{name:"donation",state:{templateUrl:"./templates/pages/project_md.html",url:"/donation",controller:"donationController",resolve:{inject_insiderm:inject_insiderm},params:{featureName:"donations",pageTitle:"Donation Projects"}}},{name:"donation_view",state:{templateUrl:"./templates/pages/project_details_md.html",url:"/donation/{id:[0-9]+}",controller:"donationViewController",resolve:{inject_insiderm:inject_insiderm,inject_google_chart:inject_google_chart,donationViewInitData:donationViewInitData},params:{virtualUrl:"/donation/view",featureName:"donations",pageTitle:{resolveData:"response.data.project[0].name"},metaTags:[{name:"description",keyObj:{content:"response.data.project[0].desc"}}]}}},{name:"donation_create",state:{templateUrl:"./templates/pages/project_create_md.html",url:"/donation/createproject",controller:"donationController",resolve:{inject_insiderm:inject_insiderm,as_userLoginChecker:as_userLoginChecker},params:{featureName:"donations",pageTitle:"New Project"}}},{name:"donate_now",state:{templateUrl:"./templates/pages/project_donatenow.html",url:"/donation/{id:[0-9]+}/proceed",controller:"donateNowController",resolve:{inject_insiderm:inject_insiderm,donationViewInitData:donationViewInitData,inject_razorpay:inject_razorpay,inject_libphonenumber:inject_libphonenumber},params:{virtualUrl:"/donation/now",featureName:"donations",state:"donate_now",pageTitle:{resolveData:"'Contribute for ' + response.data.project[0].name"}}}},{name:"couchsurfing",state:{templateUrl:"./templates/pages/couchsurfing.html",url:"/maps/couchsurfing",controller:"couchsurfingController",resolve:{inject_insiderm:inject_insiderm},params:{featureName:"couchsurfing",pageTitle:"Couchsurfing",couchsurfing:!0}}},{name:"map",state:{templateUrl:"./templates/pages/couchsurfing.html",url:"/map",controller:"couchsurfingController",resolve:{inject_insiderm:inject_insiderm},params:{pageTitle:"Search By Map"}}},{name:"staticpage",state:{templateUrl:"./templates/pages/staticpage.html",url:"/page/{tmp:.*}",controller:"staticPageController",resolve:{inject_in_out_rm:inject_in_out_rm,staticPageData:staticPageData},params:{ignoreLiveSwitch:!0,pageTitle:{resolveData:"response.data.title"},metaTags:[{name:"description",keyObj:{content:"response.data.description"}},{name:"og:image",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:secure_url",keyObj:{property:"'og:image'",content:"$rootScope.appfiles.coverPhoto"}},{name:"og:image:width",keyObj:{property:"'og:image:width'",content:"'530'"}},{name:"og:image:height",keyObj:{property:"'og:image:height'",content:"'400'"}}]}}},{name:"staticpage_json",state:{template:'<page-builder-wraper base-id="baseid" data="data" params="params"></page-builder-wraper>',url:"/pages/{baseid:.*}",controller:"staticPageJsonCtrl",resolve:{inject_in_out_rm:inject_in_out_rm},params:{ignoreLiveSwitch:!0,data:null,params:null}}},{name:"posttransaction",state:{templateUrl:function(e){var t="default.html";return 1==e.type&&(t="postEventTicketBooking.html"),2==e.type?t="lmPayment.html":3==e.type&&(t="donationPostPayment.html"),"./templates/pages/checkout/"+t},url:"/post-transaction/{type:[0-9]+}?code",controller:"postOrderController",resolve:{inject_in_out_rm:inject_in_out_rm,postOrderData:postOrderData},params:{ignoreLiveSwitch:!0,pageTitle:{resolveData:"response.data.title"}}}},{name:"gallery",state:{url:"/galleries",controller:"GallerymainController",templateUrl:"./templates/pages/gallery_main.html",resolve:{tag:function(){return null},inject_insiderm:inject_insiderm,inject_infinite:inject_infinite,temp_tresvista:temp_tresvista},params:{featureName:"galleries",pageTitle:"Galleries",extra_params:null}}},{name:"gallerysupport",state:{url:"/galleries/{id:[0-9]+}",controller:"GallerysupportController",templateUrl:"./templates/pages/gallery_main_support.html",resolve:{inject_insiderm:inject_insiderm,inject_infinite:inject_infinite,albumInfo:albumInfo},params:{virtualUrl:"/galleries/view",featureName:"galleries",pageTitle:{resolveData:"'Gallery | ' + response.data[0].name"}}}},{name:"yearbook",state:{url:"/yearbook",controller:"yearbookStartController",templateUrl:"./templates/pages/yearbook_start.html",params:{redirect:"./yearbook/registration",featureName:"yearbook",pageTitle:{resolveData:"$rootScope.app_data.data.short_name + ' Yearbook 2017'"},metaTags:[{name:"og:title",keyObj:{property:"'og:title'",content:"$rootScope.app_data.data.short_name+ ' Yearbook 2017' "}},{name:"og:image",keyObj:{property:"'og:image'",content:"'https://almashines.s3.amazonaws.com/yearbook.jpg'"}},{name:"description",keyObj:{content:"'Share farewell messages to your batchmates'"}},{name:"og:description",keyObj:{property:"'og:description'",content:"'Share farewell messages to your batchmates'"}}]},resolve:{inject_insiderm:inject_insiderm,yearbook_start:yearbook_start}}},{name:"yearbook.people",state:{url:"/{tmp:.*}",controller:"memoriesController",templateUrl:"./templates/pages/memories_main.html",params:{pageTitle:{resolveData:"$rootScope.app_data.data.short_name + ' Yearbook 2017'"},featureName:"yearbook",metaTags:[{name:"og:title",keyObj:{property:"'og:title'",content:"$rootScope.app_data.data.short_name+ ' Yearbook 2017' "}},{name:"og:image",keyObj:{property:"'og:image'",content:"'https://almashines.s3.amazonaws.com/yearbook.jpg'"}},{name:"description",keyObj:{content:"'Share farewell messages to your batchmates'"}},{name:"og:description",keyObj:{property:"'og:description'",content:"'Share farewell messages to your batchmates'"}}]},resolve:{inject_insiderm:inject_insiderm,inject_infinite:inject_infinite,yearbook_start:yearbook_start}}},{name:"memoriesP",state:{url:"/memories",controller:"memoriesParentController",templateUrl:"./templates/pages/memories_parent_main.html",params:{featureName:"yearbook"},resolve:{inject_insiderm:inject_insiderm,inject_infinite:inject_infinite}}},{name:"memoriesP.people",state:{url:"/{tmp:.*}",controller:"memoriesController",templateUrl:"./templates/pages/memories_main.html",params:{featureName:"yearbook"},resolve:{inject_insiderm:inject_insiderm,inject_infinite:inject_infinite}}},{name:"mentorship",state:{templateUrl:"./templates/pages/mentorship/mentorship.html",url:"/mentorship",controller:"mentorshipController",resolve:{check_restrictions:check_restrictions,inject_in_out_rm:inject_in_out_rm,setMentorshipPageTitle:setMentorshipPageTitle,getMentorshipMentorId:getMentorshipMentorId,getMentorshipIsMentee:getMentorshipIsMentee},params:{featureName:"mentorship",pageTitle:{resolveData:'"Mentorship at " + $rootScope.app_data.data.name '}}}},{name:"newmentor",state:{templateUrl:"./templates/pages/mentorship/newmentor.html",url:"/mentorship/mentor-profile",controller:"newmentorController",resolve:{inject_in_out_rm:inject_in_out_rm,as_userLoginChecker:as_userLoginChecker,getMentorshipMentorId:getMentorshipMentorId,newmentorInitData:newmentorInitData},params:{featureName:"mentorship",pageTitle:"Profile | Mentor",extra_params:null}}},{name:"mobile_login",state:{url:"/mobile_login",controller:["$rootScope","$scope","$timeout",function(e,t,a){console.log("login..."),a(function(){e.header.loaded=!1},300),t.$on("$destroy",function(){e.header.loaded=!0})}],params:{ignoreLiveSwitch:!0},templateUrl:"./templates/pages/mobile_login.html"}},{name:"notification",state:{url:"/notification",controller:"notificationCtrl",resolve:{firstNotiStream:getNotification},params:{ignoreLiveSwitch:!0},templateUrl:"./templates/pages/notification.html"}},{name:"invitation",state:{url:"/invitation?q",controller:"invitationCtrl",reloadOnSearch:!1,resolve:{inject_insiderm:inject_insiderm,firstFeed:invitationFirstFeed,as_userLoginChecker:as_userLoginChecker},params:{ignoreLiveSwitch:!0,pageTitle:"Missing Alumni Program"},templateUrl:"./templates/pages/invitation.html"}},{name:"missing_members",state:{url:"/missing_members?q",controller:"missingMembersCtrl",reloadOnSearch:!1,resolve:{inject_in_out_rm:inject_in_out_rm,inject_search:inject_search},params:{ignoreLiveSwitch:!0,pageTitle:"Missing Members"},templateUrl:"./templates/pages/missing_members.html"}},{name:"logout",state:{url:"/logout",template:"Logging out...",resolve:{logMeOut:logMeOut},params:{ignoreLiveSwitch:!0}}},{name:"forms",state:{templateUrl:"./templates/pages/formpage.html",url:"/form/{id:.*}",controller:"formPageController",resolve:{inject_insiderm:inject_insiderm},params:{ignoreLiveSwitch:!0,pageTitle:"Forms"}}},{name:"addons",state:{templateUrl:"./templates/pages/formpage.html",url:"/addon/{name:.*}",controller:"formPageController",resolve:{inject_insiderm:inject_insiderm},params:{isAddOnsState:!0,id:null,ignoreLiveSwitch:!0,pageTitle:"Forms"}}},{name:"chapters_",state:{templateUrl:"./templates/pages/chapters.html",url:"/o/chapters",controller:"chaptersController",resolve:{inject_insiderm:inject_insiderm,allChapters:allChapters},params:{featureName:"chapters",pageTitle:"Alumni Chapters"}}},{name:"chapter_detail_",state:{templateUrl:"./templates/pages/chapterDetail.html",url:"/o/chapters/:link",controller:"chapterDetailController",abstract:!0,resolve:{inject_insiderm:inject_insiderm,chapterDetail:chapterDetail},params:{featureName:"chapters",virtualUrl:"/chapters/detail",chapter:null}}},{name:"chapter_detail_.main",state:{templateUrl:"./templates/pages/chapterDetailMain.html",url:"",controller:"chapterDetailMainController",resolve:{inject_insiderm:inject_insiderm,chapterDetail:chapterDetail},params:{featureName:"chapters",pageTitle:{resolveData:"response.data.name"}}}},{name:"chapter_detail_.events",state:{templateUrl:"./templates/pages/events.html",controller:"EventsController",url:"/events?source",params:{featureName:"chapters",pageTitle:{resolveData:'"Events in "+response.name'}},resolve:{tag:tagOfChapter,inject_insiderm:inject_insiderm,eventsInitialData:eventsInitialData}}},{name:"chapter_detail_.jobs",state:{templateUrl:"./templates/pages/jobs.html",controller:"JobsController",url:"/jobs?id&source&tab",reloadOnSearch:!1,params:{featureName:"chapters",pageTitle:{option:15,fallback:"Jobs"},action:13},resolve:{tag:tagOfChapter,check_restrictions:check_restrictions,redirectToSingleJob:redirectToSingleJob,inject_insiderm:inject_insiderm,jobsInitialData:jobsInitialData,as_userLoginChecker:as_userLoginChecker}}},{
name:"chapter_detail_.gallery",state:{url:"/galleries",controller:"GallerymainController",templateUrl:"./templates/pages/gallery_main.html",resolve:{tag:tagOfChapter,inject_insiderm:inject_insiderm,inject_infinite:inject_infinite},params:{featureName:"chapters",pageTitle:"Galleries"}}},{name:"chapter_detail_.campusfeed",state:{templateUrl:"./templates/pages/campusfeed_list.html",controller:"CampusfeedController",url:"/campusfeed?source&feed_unpublished",resolve:{tag:tagOfChapter,inject_insiderm:inject_insiderm},params:{featureName:"chapters",pageTitle:"Campusfeed"}}},{name:"chapter_detail_.discussion",state:{templateUrl:"./templates/pages/segregated_posts.html",url:"/campus?source",controller:"noticeboardController",resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,inject_infinite:inject_infinite,tag:tagOfChapter,discussionInitData:discussionInitData,inject_in_out_rm:inject_in_out_rm,as_userLoginChecker:as_userLoginChecker},params:{featureName:"chapters",pageTitle:"Discussions"}}},{name:"loginPrompt",state:{templateUrl:"./templates/pages/loginPrompt.html",url:"/prompt",params:{ignoreLiveSwitch:!0}}},{name:"user_deleted",state:{templateUrl:"./templates/pages/user_deleted.html",url:"/profile/blocked",params:{ignoreLiveSwitch:!0}}},{name:"bconnect",state:{templateUrl:"./templates/pages/bconnect/main.html",url:"/business_connect",controller:"bconnectMainController",resolve:{check_restrictions:check_restrictions,inject_insiderm:inject_insiderm,as_userLoginChecker:as_userLoginChecker},params:{featureName:"bconnect",pageTitle:"Business Connect"}}},{name:"invite_redirect",state:{template:"redirecting...",url:"/invite/*path",resolve:{redirectInvite:redirectInvite},params:{ignoreLiveSwitch:!0}}},{name:"platform_invitation",state:{templateUrl:"./templates/pages/platform_invitation.html",url:"/platform/invitation",controller:"AsUserInvitationController",params:{ignoreLiveSwitch:!0}}},{name:"mobileAppPromotion",state:{templateUrl:"./templates/pages/mobileAppPromotion.html",url:"/mobile-app",controller:["$rootScope","$scope","$sce","insti_info","asSocialPlatforms","adminMailClone","mailTemplate","adminRights",function(e,t,a,i,r,n,o,s){t.links={ios:"https://itunes.apple.com/us/app/almashines-alumni-app/id1355683607",android:"https://play.google.com/store/apps/details?id=com.almashines.general"},t.adminRights=s.isAllowed,i.fetch_metadata({meta_option:"APP_LINKS",cid:e.app_data.data.cid},function(e){1==e.success&&(t.links.android=e.data.android,t.links.ios=e.data.ios)}),t.appScreen=a.trustAsResourceUrl(e.COMM_APPBASE+"mobile_login"),t.cloneFacebook=function(){var e={},a="Stay Updated About Your Alma-mater With Real-Time Notifications.\nDownload the Mobile App Now! \nGet it on ";a+=t.links.android,a+="\nor on ",a+=t.links.ios,e.message=a;var i={message:e.message};r.openISPSharingDialog(event,i)},t.clone=function(){var a=e.COMM_APPBASE+"mobile-app",i={};i.subject="Request you to download the "+e.app_data.data.name+" Alumni App";var r="Dear [NAME],<br> Greetings from "+e.app_data.data.name+" Alumni Network!";r+="<br><br>"+e.app_data.data.name+" has always thrived at connecting all its alumni, for this mission we launched the "+e.app_data.data.name+" Alumni Portal along with ",r+="the "+e.app_data.data.name+" Mobile App for all our Alumni.",r+="<br><br>We are glad to invite you to download the Mobile App of"+e.app_data.data.name+" Alumni Network.",r+="<br><br>The Alumni Network is an amazing platform for you to stay in touch with your college and classmates and to explore the immense professional opportunities lying within our "+e.app_data.data.name+" Family.",r+="<br><br>The alumni of "+e.app_data.data.name+" are spread across the globe, at various top-notch positions and making us proud. With this Android Mobile App, we intend to bring the whole "+e.app_data.data.name+" Family together, in order to celebrate the prosperity and success of our alumni.",r+='<br><br><center><a href="'+t.links.android+'" style="border: 1px solid #ccc;margin-right:8px;background-color:white;border-radius:0px;color:black;display:inline-block;font-family:sans-serif;font-size:14px;line-height:40px;text-align:center;text-decoration:none;width:auto;padding-left:10px;padding-right:10px;">Download Android App!</a>',r+='<a href="'+t.links.ios+'" style="border: 1px solid #ccc;margin-right:8px;background-color:white;border-radius:0px;color:black;display:inline-block;font-family:sans-serif;font-size:14px;line-height:40px;text-align:center;text-decoration:none;width:auto;padding-left:10px;padding-right:10px;">Download iOS App!</a></center>',r+="<br><br>We are soon going to add a new feature to the app Geo Location which allows you to find nearby alumni and connect with them.",r+="<br><br>We request all of you to download the App and Stay connected with all the "+e.app_data.data.name+" Alumni.",r+="<br><br><br>With Best Regards,",r+="<br>"+e.app_data.data.short_name+" Alumni Network",i.content=r;var s={simpleUrl:a,linkname:encodeURIComponent(e.app_data.data.name)};o.render("email_sharer.html",s,function(e){1==e.success&&(i.content+=e.template,n.clone(i))})}}],params:{ignoreLiveSwitch:!0}}},{name:"my_transactions",state:{templateUrl:"./templates/pages/my_transaction/my_transaction.html",controller:"TransactionController",url:"/my_transactions",resolve:{inject_insiderm:inject_insiderm,as_userLoginChecker:as_userLoginChecker},params:{ignoreLiveSwitch:!0,pageTitle:"My Transactions"}}},{name:"my_networks",state:{templateUrl:"./templates/pages/my_transaction/my_network.html",controller:"MyNetworkController",url:"/my_networks?source",resolve:{inject_insiderm:inject_insiderm,as_userLoginChecker:as_userLoginChecker},params:{featureName:"networking",pageTitle:"My Networks"}}}];redirectInvite.$inject=["$rootScope","$location","$timeout"],getNotification.$inject=["portalHeaderService"],check_restrictions.$inject=["$q","$timeout","$state","$stateParams"],logMeOut.$inject=["$q","$http","$rootScope","$timeout"],redirectToProfile.$inject=["$q","$timeout","$state","$stateParams"],redirectTo.$inject=["$q","$timeout","$state","$stateParams"],redirectToMsg.$inject=["$q","$timeout","$state"],redirectToDonation.$inject=["$q","$timeout","$state"],goToPortfolio.$inject=["$q","$timeout","$rootScope","$state","$stateParams"],redirectToLogin.$inject=["$q","$timeout","$rootScope","$state","$stateParams"],inject_libphonenumber.$inject=["$ocLazyLoad"],inject_insiderm.$inject=["$ocLazyLoad"],inject_in_out_rm.$inject=["$ocLazyLoad"],inject_admin.$inject=["$ocLazyLoad"],inject_profile.$inject=["$ocLazyLoad","$rootScope"],inject_nicEdit.$inject=["$ocLazyLoad"],inject_search.$inject=["$ocLazyLoad"],inject_ckeditor.$inject=["$ocLazyLoad","$q"],inject_infinite.$inject=["$ocLazyLoad"],inject_datepicker.$inject=["$ocLazyLoad"],inject_razorpay.$inject=["$ocLazyLoad"],profileCompulsoryInitData.$inject=["$http","$q","$timeout","$state","$stateParams"],couchsurfingInitData.$inject=["$http","$stateParams"],donationViewInitData.$inject=["$http","$stateParams","$state","$rootScope"],profileInitData.$inject=["$http","$stateParams"],changepasswordInitData.$inject=["$http","$stateParams"],eventTicketInitData.$inject=["$http","$stateParams","$rootScope"],sharedPostData.$inject=["$stateParams","$http","$rootScope","$state"],NBinitData.$inject=["$stateParams","$http"],discussionInitData.$inject=["$stateParams","$http","$rootScope","tag"],switchInitData.$inject=["$http","$stateParams","$q","$rootScope","$timeout","$state"],jobsInitialData.$inject=["$http"],jobSingleInitialData.$inject=["$http","$stateParams","$rootScope"],eventsInitialData.$inject=["$http","$stateParams","$rootScope","tag"],tagDataFromId.$inject=["$http","$stateParams","$q","$state","$rootScope"],checkCustomRouteRedirects.$inject=["$stateParams","$state","$timeout","$q"],eventSingleInitialData.$inject=["$http","$stateParams","$rootScope"],redirectToSingleJob.$inject=["$stateParams","$state","$timeout"],searchInitialData.$inject=["$location","$http","$stateParams","$rootScope"],eventAttendeesInitialData.$inject=["$stateParams","$http","$rootScope"],campusfeedEditInitialData.$inject=["$stateParams","$http"],aboutInitialData.$inject=["$stateParams","$http","$rootScope"],campustfeedViewInitialData.$inject=["$stateParams","$http","$rootScope","$location"],portfolioInitialData.$inject=["$stateParams","$http","$rootScope","$q"],socialInit.$inject=["$http","$location","$rootScope","$timeout","$stateParams"],lmFormInitialData.$inject=["$stateParams","$http","$rootScope"],setMentorshipPageTitle.$inject=["$stateParams","$http","$rootScope"],getMentorshipMentorId.$inject=["$stateParams","$http","$rootScope"],getMentorshipIsMentee.$inject=["$stateParams","$http","$rootScope"],newmentorInitData.$inject=["$stateParams","$http","$rootScope"],albumInfo.$inject=["$stateParams","$http","$rootScope","$state"],postEventOrderData.$inject=["$http"],staticPageData.$inject=["$http","$stateParams","$rootScope"],inject_scdatetime.$inject=["$ocLazyLoad"],inject_google_chart.$inject=["$ocLazyLoad"],invitationFirstFeed.$inject=["$http","$stateParams"],allChapters.$inject=["$q","$http","$rootScope"],chapterDetail.$inject=["$http","$stateParams","$rootScope"],tagOfChapter.$inject=["chapterDetail","$q"],postOrderData.$inject=["$http","$stateParams","$rootScope"],yearbook_start.$inject=["$stateParams","$rootScope"],login2switch.$inject=["$rootScope","$state","$timeout","$q","$stateParams","$location"],asCommunityLiveCheck.$inject=["$stateParams","$q","$timeout","$state","$rootScope"],asFeaturesCheck.$inject=["$stateParams","features","$q","$timeout","$state","$rootScope"],temp_tresvista.$inject=["$rootScope","$state","$timeout","$q","$location","$stateParams"],as_userLoginChecker.$inject=["$rootScope","$state","$timeout","$q","$location","$stateParams"],set_custom_routes(),window.dynamicStates=window.dynamicStates.concat(dynamicStates_),window.commonStateFunc.as_userLoginChecker=as_userLoginChecker,window.commonStateFunc.inject_infinite=inject_infinite,window.commonStateFunc.inject_search=inject_search,window.commonStateFunc.inject_google_chart=inject_google_chart,window.commonStateFunc.inject_ckeditor=inject_ckeditor,window.commonStateFunc.inject_insiderm=inject_insiderm,window.commonStateFunc.inject_profile=inject_profile,window.commonStateFunc.inject_libphonenumber=inject_libphonenumber,window.commonStateFunc.inject_razorpay=inject_razorpay,window.commonStateFunc.eventsInitialData=eventsInitialData,window.commonStateFunc.redirectToSingleJob=redirectToSingleJob,window.commonStateFunc.jobsInitialData=jobsInitialData,window.commonStateFunc.check_restrictions=check_restrictions,window.commonStateFunc.discussionInitData=discussionInitData,window.commonStateFunc.inject_in_out_rm=inject_in_out_rm,window.commonStateFunc.inject_datepicker=inject_datepicker,window.commonStateFunc.asCommunityLiveCheck=asCommunityLiveCheck,window.commonStateFunc.asFeaturesCheck=asFeaturesCheck,window.commonStateFunc.checkCustomRouteRedirects=checkCustomRouteRedirects}();
//# sourceMappingURL=route.min.js.map
!function(){"use strict";function e(e){e.deferIntercept()}function t(e,t,a,i,o,n,s,r,l,c,d,p,u,f,m){function g(){function t(){if(platform&&void 0!==o.search().logout){try{navigator.app.clearHistory()}catch(e){}window.location.href=window.file_base+"index.html"}var t=o.path(),s=t.toLowerCase();t!=s&&o.replace().path(s);var d=!1;try{d=e.app_data.data.baseState}catch(e){console.log(e)}console.log(d);d&&""!==d?a.addInstituteStates(d):a.addNormalStates(),angular.isDefined(d)&&d&&""!==d&&o.path().split("/")[1]!=d&&o.path("/"+d+o.path()),c.listen(),platform||l.sync(),platform&&(isGeneral||-1!=e.app_data.loginStatus?1==e.app_data.loginStatus?i.go("inapp.noticeboard"):isGeneral&&-1==e.app_data.loginStatus&&i.go("instituteSelector"):i.go("inapp.mobile_login"),e.isGeneralApp=isGeneral,r(function(){navigator.app.clearHistory()},500),n(),document.addEventListener("notification",n))}function n(){if(console.log("NotificationCommand fired"),1==e.app_data.loginStatus&&angular.isDefined(window.command)){console.log("seeking state");var t={};t.name=window.command.state,t.params=angular.isDefined(window.command.params)?window.command.params:{},i.go("inapp."+t.name,t.params)}}if(gt_restriction(),e.app_data={},e.api_base=API_BASE_URL,e.app_base=APP_BASE_URL,e.cssmeta={},angular.isDefined(appData.data)){e.app_data=appData.data,e.isloggedin=e.app_data.same_com_log,e.appmeta=e.app_data.config.appmeta,e.cssmeta=e.app_data.config.meta&&isObject(e.app_data.config.meta[54])?e.app_data.config.meta[54]:{},delete e.app_data.config.appmeta,angular.isObject(e.app_data.data.versioning)||(e.app_data.data.versioning={}),e.appfiles={logo:s3base+"assets/images/institutes/logo/170x170/"+e.app_data.cid+".jpg"+(angular.isDefined(e.app_data.data.versioning.logo_versioning)?"?v="+e.app_data.data.versioning.logo_versioning:""),coverPhoto:s3base+"assets/images/cover/"+e.app_data.cid+".jpg"+(angular.isDefined(e.app_data.data.versioning.coverPhoto_versioning)?"?v="+e.app_data.data.versioning.coverPhoto_versioning:"")};var s=e.app_data.data.insti_type;e.isCompany=6===s||"6"===s}else e.isloggedin=!1;e.isLingo=function(t){if(!angular.isDefined(window.appData)||!angular.isDefined(window.appData.data))return!1;var a=e.app_data.config.lingo;return!(!angular.isDefined(a[t])||""==a[t])},e.isMeta=function(t){if(!angular.isDefined(window.appData)||!angular.isDefined(window.appData.data))return!1;var a=e.app_data.config.meta;return!(!angular.isDefined(a[t])||""==a[t])},e.meta=function(t){return!(!angular.isDefined(window.appData)||!angular.isDefined(window.appData.data))&&(!!e.isMeta(t)&&e.app_data.config.meta[t])},e.setMeta=function(e,t){if(!angular.isDefined(window.appData)||!angular.isDefined(window.appData.data))return!1;var a=document.querySelector("meta[name='"+e+"']");null==a&&(a=document.createElement("meta"),a.setAttribute("name",e),document.getElementsByTagName("head")[0].appendChild(a));for(var i in t){var o=t[i].replace(/<(?:.|\n)*?>/gm," ").replace("\n"," ").replace(/ +/g," ").trim();o.length>253&&(o=o.substr(0,250)+"..."),a.setAttribute(i,o)}},e.gallery_var=function(e){if(!e||""==e.trim())return 0;if(u.getFeature&&u.getFeature("homepage_cms.gallery.special_galleries")){for(var t=u.getFeature("homepage_cms.gallery.special_galleries"),a=0;a<Object.keys(t).length;a++){var i=t[Object.keys(t)[a]];if(i.variable==e)return parseInt(i.id)}return 0}},e.api_base=API_BASE_URL,e.app_base=APP_BASE_URL,e.as_upgrade=window.as_upgrade,e.appUpdateNeeded=!1,platformis.ios&&void 0==window.appConfig&&(e.appUpdateNeeded=!0),f.load(),d.setup(t,!0)}e.custom_splashScreen=!1,platform&&(e.file_base=window.file_base),debugui(e,i),i.go("spalshScreen"),r(function(){d.setConfig(window.APP_CID,!1,g)},10),e.header={},e.header.loaded=!1,e.s3_url=s3base,e.COMM_APPBASE=COMM_APPBASE,e.isCordova=!1!==platform,e.mainLoader=!0,e.isMobile=!(!mobile_web_tab||!mobile_web_tab.isMobile),e.debug16=window.debug16,window.chk_restrictions=function(e,t){return chk_restrictions_temp(e,t,i)},e.isActionRestricted=isActionRestricted;var _=e.$on("$stateChangeSuccess",function(){_(),e.mainLoader=!1});console.log("exposing injector here(also in window.op and if your luck is good it will also be in window.oo without using get().)",p),window.op=p;try{window.oo=new Proxy(op,{get:function(e,t){return e.get(t)}})}catch(e){console.log(e)}}function a(e){function t(e){s=e}function a(){return{addInstituteStates:i,addNormalStates:o}}function i(e){return n(s.map(function(t){return-1==t.name.indexOf(".")&&(t.state.url="/"+e+t.state.url),t}))}function o(){if("android"===platform){var e=s.map(function(e){return"portfolio"==e.name?e.state.url="/"+window.file_base_rel.slice(0,-1)+"/index.html"+e.state.url:e.state.url="/"+window.file_base_rel.slice(0,-1)+e.state.url,e});return n(e)}if("ios"===platform){var e=s.map(function(e){return"portfolio"==e.name?e.state.url="/"+window.file_base_rel.slice(0,-1)+"index.html":e.state.url="/"+window.file_base_rel.slice(0,-1)+e.state.url,e});return n(e)}return n(s)}function n(t){return t.forEach(function(t){t.loggedin,e.state("inapp."+t.name,t.state)}),!0}var s=[];return{setStates:t,$get:a}}angular.module("as.core",["ui.router","angularModalService","oc.lazyLoad","list-autocomplete","ngFileUpload"]).run(t).config(e).provider("dynamicStates",a),e.$inject=["$urlRouterProvider"],t.$inject=["$rootScope","$http","dynamicStates","$state","$location","$window","$urlMatcherFactory","$timeout","$urlRouter","uiRouterIntercepter","mobile","$injector","features","aiLoader","acl"],a.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,i,o,n){function s(){platform?o.html5Mode({enabled:!0,requireBase:!1}):(o.html5Mode(!0),o.hashPrefix("!"),i.rule(function(e,t){var a=t.path();if("/"===a[a.length-1])return a.substr(0,a.length-1)}));var s=["$location",function(e){void 0!==Raven&&Raven.captureException(new Error("404 page. Something went wrong"),{extra:{url:e.absUrl(),ref:document.referrer},fingerprint:["{{ default }}",e.absUrl()]})}];e.state("inapp",{templateUrl:"./templates/layouts/inapp.html",controller:"inAppController",resolve:{setHeader:t,headerInitialData:a}}).state("instituteSelector",{templateUrl:"./templates/pages/instituteSelector.html",url:"/startapp",controller:"instituteSelectorController"}).state("instituteSelector1",{templateUrl:"./templates/pages/instituteSelector.html",url:"/skitahd/startapp",controller:"instituteSelectorController"}).state("spalshScreen",{templateUrl:"./templates/components/splashScreen.html"}).state("inapp.restricted_",{templateUrl:"./templates/components/restricted.html",controller:"restrictedPageController",params:{action:null}}).state("inapp.404",{templateUrl:"./templates/components/404.html",controller:s});var r=[];window.dynamicStates.forEach(function(e){if(void 0!==e.state.resolve&&(e.state.resolve.asCommunityLiveCheck="asCommunityLiveCheck",e.state.resolve.checkCustomRouteRedirects="checkCustomRouteRedirects",angular.isUndefined(e.state.resolve.asFeaturesCheck)&&angular.isDefined(e.state.params)&&angular.isDefined(e.state.params.featureName)&&(e.state.resolve.asFeaturesCheck="asFeaturesCheck"),angular.forEach(e.state.resolve,function(t){if("string"==typeof t){if(void 0==window.commonStateFunc[t])throw console.error("Undefined resolve function referenced. State: "+e.name+" Resolve: "+t,e),"Undefined resolve function referenced. State: "+e.name+" Resolve: "+t;e.state.resolve[t]=window.commonStateFunc[t]}})),e.state.url){var t="",a=e.state.url;t=null==a.match(/\?/i)?"?":a.match(/\?$/i)?"":a.match(/\?.*[^&]$/)?"&":a.match(/\?.*&$/)?"":"?",t+="cbt",e.state.url+=t}e.state.params||(e.state.params={}),e.state.params.cbt&&(e.state.params.cbt.constructor!=Object||e.state.params.cbt.value)||(e.state.params.cbt={value:null,squash:!0}),r.push(e)}),r.push({name:"404_1",state:{url:"*path",templateUrl:"./templates/components/404.html",controller:s}}),n.setStates(r)}!function(){s()}()}function t(e,t,a){return a(function(){!function(t){if(e.header.loaded=!0,1===t.loginStatus&&!0===t.same_com_log)return void(e.header.loggedin=!0);e.header.loggedin=!1}(e.app_data)}),!0}function a(e,t){var a=getParameterByName("hsource");return e.post("./institutes/headerTemplate",{hsource:a}).success(i)}function i(e){return e.data}angular.module("as.core").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","dynamicStatesProvider"],t.$inject=["$rootScope","$http","$timeout"],a.$inject=["$http","$timeout"]}(),function(){"use strict";function customformservice($timeout,$http,$q){function submit(e,t,a,i,o){return $q(function(n,s){var r={i:0};if("function"==typeof e){var l=e(t);return console.log("submitOptions",l),l&&l.then?l.then(function(e){"success"===e||!0===e?(a(l),n("success")):(i(),n("error"))}):l?(a(l),n("success")):(i(),n("error")),l}submitFormData(r,e,t,a,i,o,n)})}function submitFormData(e,t,a,i,o,n,s){if(!t[e.i])return o(),void(s&&s("error"));var r=t[e.i],l={};if("function"==typeof r.getData)l=r.getData(a);else if(isObject(r.data)){l=r.data;var c=r.dataKey?r.dataKey:"data";isObject(l[c])||(l[c]={});for(var d in a)l[c][d]=a[d]}else l=a;if(r.beforeSubmit&&"function"==typeof r.beforeSubmit&&(l=r.beforeSubmit(l,n)),!r.url)return e.i++,void(t.length>e.i?submitFormData(e,t,a,i,o,n,s):(i(),s&&s("success")));$http({url:r.url,method:"POST",data:l,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(l){l&&200===l.status?httpResponseHandler(t,l.data,r,e,a,i,o,n,s):(o(),s&&s("error"))},function(e){o(),s&&s("error")})}function httpResponseHandler(e,t,a,i,o,n,s,r,l){if(t&&void 0!==t.error&&""!=t.error&&0==t.success)return s(t.error),void(l&&l("error"));var c=!1;c="function"==typeof a.successFn?a.successFn(t,o,r):!(t&&!isNullUndefined(t.success))||1==t.success,c?(i.i++,e.length>i.i?submitFormData(i,e,o,n,s,r,l):(n(),l&&l("success"))):(s(),l&&l("error"))}function checkDisplayConditions(e,t,a,i,o){if("asForms"===a){var n={};for(var s in t)for(var r=0;r<o.length;r++){var i=o[r];if(i.field_id==s){n[i.field_name]=t[s];break}}return isFieldVisible(e,t,n)}if("string"==typeof e)return checkCondition(e,t);for(var r in e){if(!1===checkCondition(e[r],t))return!1}return!0}function checkCondition(filter,responses){if("[object Object]"==Object.prototype.toString.call(filter)){if(void 0!==responses[filter.name]){var filterValType=Object.prototype.toString.call(filter.value),respType=Object.prototype.toString.call(responses[filter.name]);if("[object Array]"==filterValType&&respType===filterValType){for(var matched=0,i=0;i<filter.value.length;i++){var filterVal=filter.value[i];"[object Object]"==Object.prototype.toString.call(filterVal)&&(filterVal=filterVal.value);for(var filterMatched=!1,j=0;j<responses[filter.name].length;j++){var respVal=responses[filter.name][j];if("[object Object]"==Object.prototype.toString.call(respVal)&&(respVal=respVal.value),compareVals(filterVal,respVal)){filterMatched=!0;break}}if("!="===filter.operator){if(filterMatched)return!1}else{if(!filterMatched)return!1;matched++}}return!0!==filter.exact||matched>0&&matched===responses[filter.name].length}if("[object Object]"===filterValType){var respVal=responses[filter.name],filterVal=filter.value;return"[object Object]"===Object.prototype.toString.call(respVal)&&(respVal=respVal.value),"[object Object]"===Object.prototype.toString.call(filterVal)&&(filterVal=filterVal.value),"!="===filter.operator?!compareVals(filterVal,respVal):compareVals(filterVal,respVal)}var respVal=responses[filter.name];return"[object Object]"==Object.prototype.toString.call(respVal)&&(respVal=respVal.value),"!="===filter.operator?!compareVals(filter.value,respVal):compareVals(filter.value,respVal)}}else if("[object Array]"==Object.prototype.toString.call(filter)){for(var j=0;j<filter.length;j++)if(checkCondtion(filter[j]))return!0}else if(isString(filter)){var fields=angular.copy(responses);try{var out=eval(filter);return out}catch(e){}}return!1}function compareVals(e,t){return!0!==e&&!1!==e&&parseInt(e)!=e||(e=e.toString()),!0!==t&&!1!==t&&parseInt(t)!=t||(t=t.toString()),e===t}function isFieldVisible(isvisible,response,responses,getFilterMatchVariable){var visiblibility=!0;if(isvisible)if(isObject(isvisible)&&Object.keys(isvisible).length>0)visiblibility=doesFilterMatch(isvisible,response,responses,getFilterMatchVariable);else if(isvisible instanceof String){try{visiblibility=eval(isvisible)}catch(e){}!1!==visiblibility&&!0!==visiblibility&&(visiblibility=!0)}return visiblibility}function doesFilterMatch(e,t,a,i){if(!e instanceof Object)return!1;if(e.type&&-1!==["filter","filters"].indexOf(e.type)||(e.type="filter"),"filters"===e.type&&e.conditions&&e.conditions instanceof Array){var o=0;"and"!==e.join_operator&&"or"!==e.join_operator&&(e.join_operator="and");for(var n=0;n<e.conditions.length;n++)if(doesFilterMatch(e.conditions[n],t,a,i)){if(o+=1,"or"===e.join_operator)break}else if("and"===e.join_operator)break;return"or"===e.join_operator&&o>0||"and"===e.join_operator&&o===e.conditions.length}return"filter"===e.type&&singleFilterMatchResult(e,t,a,i)}function singleFilterMatchResult(e,t,a,i){"function"!=typeof i&&(i=getFilterMatchedResponse);var o=i(e,t,a);return void 0!==o&&("equal_to"===e.operator?o==e.value:"not_equal_to"===e.operator?o!=e.value:"contains"===e.operator?o&&o.indexOf(e.value)>-1:"not_contains"===e.operator?o||-1===o.indexOf(e.value):"is_empty"===e.operator?!o:"is_not_empty"===e.operator&&!!o)}function getFilterMatchedResponse(e,t,a){var i=void 0;return e.name?i=a[e.name]:e.field_name?i=a[e.field_name]:e.field_id&&(i=t[e.field_id]),i}function set_cell_class(e,t){return e.cell_class||(e.cell_class={}),"3-column"==t.layout?("arrayinput"===e.type&&(e.cellwidth=3),3===e.cellwidth?e.cell_class.default="mdl-cell mdl-cell--12-col":2===e.cellwidth?e.cell_class.default="mdl-cell mdl-cell--8-col-desktop mdl-cell--12-col-tablet mdl-cell--12-col-phone":e.cell_class.default="mdl-cell mdl-cell--4-col-desktop mdl-cell--4-col-tablet mdl-cell--12-col-phone"):"2-column"==t.layout&&("arrayinput"===e.type&&(e.cellwidth=2),2===e.cellwidth?e.cell_class.default="mdl-cell mdl-cell--12-col":e.cell_class.default="mdl-cell mdl-cell--6-col-desktop mdl-cell--4-col-tablet mdl-cell--12-col-phone"),e}function fieldValidation(e,t,a,i){if(e.error="",!t&&0!==t&&"0"!==t||t.constructor===String&&""==t.trim())return!0;if(a){var o;if(a.type&&(o=a.type),"field"!==o&&"function"==typeof fieldValidationMethods[o+"Validation"]){var n=fieldValidationMethods[o+"Validation"](e,t,a);if(!0!==n)return!0===i&&(e.error=n.error),!1}}return!0}function emailValidation(e,t,a){return!!is_email(t)||{error:"Email is not valid"}}function numberValidation(e,t,a){var i=!0;return parseFloat(t)!=t?i=!1:isNullUndefined(a.range_start)||sanitizeValue(t)>=sanitizeValue(a.range_start)?isNullUndefined(a.range_end)||sanitizeValue(t)<=sanitizeValue(a.range_end)||(i=!1):i=!1,!!i||(isNullUndefined(a.range_start)||isNullUndefined(a.range_end)?isNullUndefined(a.range_start)?isNullUndefined(a.range_end)?{error:"Value is not a valid number."}:{error:"Value should be a valid number less than "+a.range_end}:{error:"Value should be a valid number greater than "+a.range_start}:{error:"Value should be a valid number between "+a.range_start+" and "+a.range_end})}function is_email(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function isValueEmpty(e){if(void 0===e||""===e||null===e)return!0;if("[object Array]"===Object.prototype.toString.call(e)){if(0===e.length)return!0;for(var t=0;t<e.length;t++)if(!isValueEmpty(e[t]))return!1;return!0}if("[object Object]"===Object.prototype.toString.call(e)){var a=0;for(var t in e)a++;if(0===a)return!0}return!1}function setAutocompleteConfig(e){if(!isObject(e))return!1;isObject(e.options)||(e.options={});var t=e.autocomplete_source;"client_degrees"===t?setClientDegreesAutocompleteConfig(e):"client_departments"===t?setClientDepAutocompleteConfig(e):"countries"===t?setCountryAutocompleteConfig(e):isObject(t)&&"form-responses"===t.type&&setFormResponsesAutocompleteConfig(e)}function setClientDegreesAutocompleteConfig(e){e.options.dataSource={url:"./institutes/fetchClientDegrees",fetchAllData:{limit:300}}}function setClientDepAutocompleteConfig(e){e.options.dataSource={url:"./institutes/fetchClientDepartments",fetchAllData:{limit:300}}}function setCountryAutocompleteConfig(e){e.options.dataSource={url:"./cities/countries",fetchAllData:{limit:300}}}function setFormResponsesAutocompleteConfig(e){var t=e.autocomplete_source;isObject(e.extraoptions)||(e.extraoptions={}),e.extraoptions.name_key=t.field_name,e.options.dataSource={url:"./general/forms/forms/public_responses_1",paramdata:function(e){var a={form_id:t.form_id,search_attribute_type:"name"};return e&&(a.search_attribute={},a.search_attribute[t.field_name]=e),t.order_by&&(a.order_by={param:"field_name_"+t.field_name,order:t.order_by?t.order_by:"asc"}),a},fetchAllData:{limit:300}}}var service={checkDisplayConditions:checkDisplayConditions,submit:submit,set_cell_class:set_cell_class,isFieldVisible:isFieldVisible,isValueEmpty:isValueEmpty,fieldValidation:fieldValidation,setAutocompleteConfig:setAutocompleteConfig},fieldValidationMethods={emailValidation:emailValidation,numberValidation:numberValidation};return service}angular.module("as.core").factory("customformservice",customformservice),customformservice.$inject=["$timeout","$http","$q"]}(),function(){"use strict";function e(e,t,a,i,o){function n(e){if(!e||e.constructor!==Object)return void console.error("args has invalid value");var t;t=e.event?e.event.target:document.body;var a={controller:["$scope","close",function(t,a){t.formOptions=e.formOptions,t.close=function(t){return"function"==typeof e.cancel_callback&&e.cancel_callback(),t||(t=document.createEvent("Event")),a(t)},t.save=function(e){return t.close(e)};for(var i,o=0;o<t.formOptions.length;o++){var n=t.formOptions[o];t.formOptions.length;n.cancel_action||(n.cancel_action={}),n.cancel_action.text||(n.cancel_action.text="Cancel"),n.cancel_action.callback=t.close,i="function"==typeof n.callback?n.callback:function(e){},n.callback=i,isEmpty(n.remove_title)&&(n.remove_title=!0)}i="function"==typeof e.callback?e.callback:function(e){},t.callback=function(e){i(e),t.close()}}],target:t};e.template?a.template=e.template:e.templateUrl?a.templateUrl=e.templateUrl:a.template='<div class="modal" role="dialog" aria-hidden="true" style="min-height:100px;">\t\t\t\t\t\t<div class="modal__dialog maximize-width">\t\t\t\t\t\t\t<div class="modal-invisible-class" ng-click="close($event)"></div>\t\t\t\t\t\t\t<div class="modal__content adjust-modal-small modal__below_header mdl-shadow--2dp" style="padding: 0px">\t\t\t\t\t\t\t\t<div class="margin-bottom-12 mdl-color--white" ng-if="formOptions">\t\t\t\t\t\t\t\t\t<multistepform steps="formOptions" callback="callback" style="display:block;" class=""></multistepform>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>',i.showModal(a).then(function(e){var t=document.querySelectorAll(".modal");if(t.length>1){for(var a=0;a<t.length;a++)angular.element(t[a]).removeClass("modal--active");angular.element(e.element[0]).addClass("modal--active"),e.closed.then(function(e){var t=document.querySelectorAll(".modal");t.length>0&&angular.element(t[t.length-1]).addClass("modal--active")})}})}function s(e){if(!e||e.constructor!==Object)return void console.error("args has invalid value");var t;t=e.event?e.event.target:document.body;var a={controller:["$scope","close",function(t,a){function i(t){return"function"==typeof e.cancel_callback&&e.cancel_callback(),t=document.createEvent("Event"),a(t)}if(t.args=e,isObject(e.pref)||(e.pref={}),"function"==typeof e.pref.afterSubmitCallBack)var n=e.pref.afterSubmitCallBack;else if("function"==typeof e.callBack)var n=e.callBack;else var n=function(){};e.pref.afterSubmitCallBack=function(e){o(function(){n(e),i()},3e3)},e.pref.cancelFn=i,t.adminAccess=e.adminAccess?e.adminAccess:0,t.save=function(e){return t.close(e)},t.close=i}],target:t};e.template?a.template=e.template:e.templateUrl?a.templateUrl=e.templateUrl:a.template='<div class="modal" role="dialog" aria-hidden="true" style="min-height:100px;">\t\t\t\t\t\t<div class="modal__dialog maximize-width">\t\t\t\t\t\t\t<div class="modal-invisible-class" ng-click="close($event)"></div>\t\t\t\t\t\t\t<div class="modal__content adjust-modal-small modal__below_header mdl-shadow--2dp" style="padding: 0px">\t\t\t\t\t\t\t\t<div class="margin-bottom-12 mdl-color--white" ng-if="args.form_id>0">\t\t\t\t\t\t\t\t\t<as-forms formid="args.form_id" pref="args.pref" prefill-data="args.prefillData" admin-access="adminAccess" style="display:block;" class=""></as-forms>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>',i.showModal(a).then(function(e){var t=document.querySelectorAll(".modal");if(t.length>1){for(var a=0;a<t.length;a++)angular.element(t[a]).removeClass("modal--active");angular.element(e.element[0]).addClass("modal--active"),e.closed.then(function(e){var t=document.querySelectorAll(".modal");t.length>0&&angular.element(t[t.length-1]).addClass("modal--active")})}})}return{open:n,asform:s}}function t(e,t,a,i){function o(e,t,a,o,n){function s(e,a){if(!e||!e[0])throw new Error("getSelectors has empty value for 'input', Current Value: "+stringify(e));if(isString(e[0])||isObject(e[0]))var i=!1;else{if(!(isArray(e[0])&&e[0].length>=2&&isString(e[0][0])&&isArray(e[0][1])))throw new Error("getSelectors does not have valid value for 'input', Current Value: "+stringify(e));var i=!0}var o={};p++;var n=a.field_name?a.field_name:"sff_"+p;if(o.fields=[],o.title=t.title?t.title:"Please choose from the following",o.type=i?"jsonhandler":"customform",i){o.layout="left-right",o.categories=[];for(var s=0;s<e.length;s++)o.categories.push({name:e[s][0],fields:[n+"_"+s],customformoptions:{}}),o.categories[s].customformoptions.title=isObject(e[s][2])&&e[s][2].title?e[s][2].title:void 0,o.fields.push(r(n+"_"+s,e[s][1],a,e[s][2]))}else o.layout="1-column",o.fields.push(r(n,e,a));if(isObject(a.formoptions))for(var d in a.formoptions)o[d]=a.formoptions[d];return i&&a.sidebar_width&&(o.styles=isObject(o.styles)?o.styles:{},o.styles.div__div2__td1=(o.styles.div__div2__td1?o.styles.div__div2__td1:"")+"width:"+a.sidebar_width+";"),"function"==typeof a.callback&&(o.callback=function(e,t){a.callback(c(angular.copy(e)),t)}),"function"==typeof a.msf_callback&&(o.msf_callback=function(e,t){a.msf_callback(l(angular.copy(e)),t)}),o}function r(e,t,a,i){isObject(i)||(i={});var o={type:"checkboxes",name:e,remove_title:!0,data:[],classes:{div:"margin-top-20"}};i.maxAllowed>0?o.maxCheckedAllowed=i.maxAllowed:a.maxAllowed>0&&(o.maxCheckedAllowed=a.maxAllowed),o.layout=a.checkboxes_layout?a.checkboxes_layout:"2-column";for(var n=0;n<t.length;n++){var s=t[n];isString(s)?o.data.push({text:s,sff_object:!0}):isObject(s)&&o.data.push(s)}return o}function l(e){for(var t=0;t<e.length;t++){if(0==t)var a="selector";else var a=n[t-1].type;"selector"===a&&(e[t]=c(e[t]))}return isArray(n)&&0!==n.length||(e=e[0]),e}function c(e){for(var t=e[Object.keys(e)[0]],a=0;a<t.length;a++)t[a].sff_object&&(t[a]=t[a].text);return t}var d={formOptions:[]},p=0;if(d.callback=function(e){a(l(e))},d.cancel_callback=o,d.formOptions.push(s(e,t)),isArray(n))for(var u=0;u<n.length;u++)"selector"===n[u].type?d.formOptions.push(s(n[u].selectors,n[u].args)):"customform"!==n[u].type&&"jsonhandler"!==n[u].type||(n[u].formOptions.type=n[u].type,d.formOptions.push(n[u].formOptions));i.open(d)}return{open:o}}function a(){return{restrict:"E",template:'<div>            \t\t\t<div ng-if="steps[current_step-1].type && steps[current_step-1].type===\'jsonhandler\'"><jsonhandler options="steps[current_step-1]" style="display:block;" class=""></jsonhandler></div>\t\t\t\t\t\t<div ng-if="!steps[current_step-1].type || steps[current_step-1].type===\'customform\'"><customform options="steps[current_step-1]" style="display:block;" class="padding-lr-12"></customform></div>\t\t\t\t\t</div>',scope:{steps:"=",callback:"=?"},controller:i}}function i(e,t,a,i,o){function n(t,a){return function(i){var n=e.steps[t],s=n.getResponses();return o.submit(a,s,function(){n.value=s;var a=e.current_step>=e.steps.length;e.responses[t]=s,!a&&e.current_step<e.steps.length&&(e.current_step+=1),n.msf_callback(e.responses,e.steps),a&&"function"==typeof e.callback&&e.callback(e.responses)},function(e){})}}function s(t){return function(){var a=e.steps[t],i=a.getResponses();a.value=i}}isArray(e.steps)&&(e.responses=[],function(){e.current_step=1;for(var t=0;t<e.steps.length;t++)if(e.steps[t]=isObject(e.steps[t])?e.steps[t]:{},e.steps[t].type=e.steps[t].type?e.steps[t].type:"customform",e.steps[t].submit_text||(t<e.steps.length-1?e.steps[t].submit_text="Next":e.steps[t].submit_text="Submit"),e.steps[t].msf_callback&&"function"==typeof e.steps[t].msf_callback||(e.steps[t].msf_callback=function(e){}),!e.steps[t].onsubmit||e.steps[t].onsubmit.constructor!==Array&&"function"!=typeof e.steps[t].onsubmit?e.steps[t].onsubmit=n(t,function(e){return!isEmpty(e)}):e.steps[t].onsubmit=n(t,e.steps[t].onsubmit),e.steps[t].onChange=s(t),t>0){e.steps[t].cancel_action2||(e.steps[t].cancel_action2={}),e.steps[t].cancel_action2.text||(e.steps[t].cancel_action2.text="Previous");var a;a="function"==typeof e.steps[t].cancel_action2.callback?e.steps[t].cancel_action2.callback:function(){},e.steps[t].cancel_action2.callback=function(){a(),e.current_step-=1}}}())}angular.module("as.core").directive("multistepform",a).factory("dialogform",e).factory("selector",t),e.$inject=["$http","$rootScope","$ocLazyLoad","ModalService","$timeout"],t.$inject=["$http","$rootScope","$ocLazyLoad","dialogform"],i.$inject=["$scope","$element","$timeout","$http","customformservice"]}(),function(){"use strict";function e(e,a,i,o,n){function s(e){var t=a.app_data.config.meta[51];return!isObject(t)||(isNullUndefined(t.allowed)?t.allowed=!0:t.allowed=sanitizeValue(t.allowed),"fb"===e||"google"===e||"linkedin"===e||"email"===e||"whatsApp"===e||"twitter"===e?!isObject(t.sharing)||isNullUndefined(t.sharing[e])||isNullUndefined(t.sharing[e].allowed)?t.allowed:sanitizeValue(t.sharing[e].allowed):t.allowed)}var r={sharing:s};return t=a,t.acl=r,console.log("$rootScope.acl",t.acl),r}angular.module("as.core").factory("acl",e);var t;e.$inject=["$http","$rootScope","$state","$timeout","$ocLazyLoad"]}(),function(){"use strict";function e(e,t,a){function i(){t.app_data.isAdmin&&t.featureEnabled("admin_chat_bot")&&!t.isMobile&&(console.log("Loading AI..."),e.isLoaded("almashinesIntelligence")?o():e.load({name:"almashinesIntelligence",files:[window.file_base+"./dist/almashinesIntelligence.min.js?v="+window.jsVersion]}).then(function(){o()}))}function o(){var e=null;try{e=a.get("botINIT")}catch(e){return}e._()}return{load:i}}angular.module("as.core").factory("aiLoader",e),e.$inject=["$ocLazyLoad","$rootScope","$injector"]}(),function(){"use strict";function e(e,t){function a(a){console.log("running for ",a);for(var i=0;i<e.get().length;i++){var o=e.get()[i];if(angular.isDefined(o.url)){var n=t.compile(o.url),s=n.exec(a,a.split("?")[1]);if(null!==s){e.go(o.name,s);break}}}}return{go:a}}angular.module("as.core").factory("asState",e),e.$inject=["$state","$urlMatcherFactory"]}(),function(){"use strict";function e(e,t,a,i,o){function n(n,s){if(platform){if(isGeneral&&angular.isDefined(t.app_data.cid)&&0!=t.app_data.cid&&o.load([{type:"css",path:t.api_base+"institutes/stylesheet/"+t.app_data.cid}]).then(function(){for(var e=document.styleSheets,a=0,i=e.length;a<i;a++)null!=e[a].href&&(-1!=e[a].href.search("/inside_md/stylesheet.css")&&(e[a].disabled=!0),-1!=e[a].href.search("/institutes/stylesheet/")&&(e[a].disabled=!0),-1!=e[a].href.search("/institutes/stylesheet/"+t.app_data.cid)&&(e[a].disabled=!1))}),!angular.isDefined(t.app_data.cid)){if(t.app_data.loginStatus=-1,"function"==typeof n)return n();return}e.get("./mobile/isLoggedin?cid="+t.app_data.cid+"&isgeneral="+1*window.isGeneral+"&getappurl="+1*t.appUpdateNeeded).success(function(o){if(console.log(o),!0===o.loggedin?(t.app_data.uid=o.data.uid,t.app_data.uui=o.data.uui,t.app_data.name=o.data.name,t.app_data.isAdmin=o.data.isAdmin,t.app_data.loginStatus=1,t.app_data.same_com_log=o.data.sam_com_loggedin,t.app_data.loggedin_cid=o.data.sam_com_loggedin?t.app_data.cid:0,t.app_data.roles=o.data.roles,t.header.loggedin=o.data.uui>0,t.isloggedin=o.data.uui>0,console.log("palash",o.data),restrictionMSG=o.data.c_u_restrictions.messages,restrictions=o.data.c_u_restrictions.restrictions,!o.data.sam_com_loggedin&&t.app_data.cid>0&&s&&i(function(){a.go("inapp.switch",{signup:t.app_data.cid})},1e3),document.addEventListener("deviceready",function(){window.plugins.OneSignal.getIds(function(t){console.log("getIds: "+JSON.stringify(t)),e.post("./mobile/registerOnesignal",{id:t.userId,isGeneral:window.isGeneral}).success(function(e){console.log(e)})})})):t.app_data.loginStatus=-1,o.links&&(t.appLinks=o.links),"function"==typeof n)return n()})}else if("function"==typeof n)return n()}function s(a,i,o){if(!platform)return o();if(!i&&window.isGeneral&&"undefined"!=typeof Storage&&null!==localStorage.getItem("fetchdOn")){var n=(new Date).getTime(),s=parseInt(localStorage.getItem("fetchdOn"));if(null!==localStorage.getItem("appData")&&(window.appData=JSON.parse(localStorage.getItem("appData")),window.isGeneral&&(window.COMM_APPBASE=window.APP_BASE_URL+window.appData.data.data.user_name+"/",window.appData.data&&window.appData.data.data&&window.appData.data.data.other_domain_info&&window.appData.data.data.other_domain_info.base_url&&(window.COMM_APPBASE=window.appData.data.data.other_domain_info.base_url),t.COMM_APPBASE=window.COMM_APPBASE),appendFileBaseToHeader(window.file_base)),n-s<36e5)return void o()}if(0==a&&angular.isDefined(window.appData.cid)&&(a=window.appData.cid),0==a)return void o();e.get("./institutes/mobile_config?cid="+a).success(function(e){1==e.success?(window.appData=e,window.isGeneral&&(window.COMM_APPBASE=window.APP_BASE_URL+window.appData.data.data.user_name+"/",e.data&&e.data.other_domain_info&&e.data.other_domain_info.base_url&&(window.COMM_APPBASE=e.data.other_domain_info.base_url),t.COMM_APPBASE=window.COMM_APPBASE),!window.isGeneral&&e.data.https&&(!window.APP_BASE_URL.match(/^https:/)&&window.APP_BASE_URL.match(/^http:/)&&(window.APP_BASE_URL=window.APP_BASE_URL.replace(/^http:/,"https:"),t.app_base=window.APP_BASE_URL),!window.API_BASE_URL.match(/^https:/)&&window.API_BASE_URL.match(/^http:/)&&(window.API_BASE_URL=window.API_BASE_URL.replace(/^http:/,"https:"),t.api_base=window.API_BASE_URL),!window.COMM_APPBASE.match(/^https:/)&&window.COMM_APPBASE.match(/^http:/)&&(window.COMM_APPBASE=window.COMM_APPBASE.replace(/^http:/,"https:"),t.COMM_APPBASE=window.COMM_APPBASE)),"undefined"!=typeof Storage&&(localStorage.setItem("appData",JSON.stringify(e)),localStorage.setItem("fetchdOn",(new Date).getTime())),appendFileBaseToHeader(window.file_base),o()):snackbar_general("Please reload app.",3e3)})}return{setup:n,setConfig:s}}angular.module("as.core").factory("mobile",e),e.$inject=["$http","$rootScope","$state","$timeout","$ocLazyLoad"]}(),function(){"use strict";function e(e,t,a,i,o){function n(){if(!window.PhoneNumber)return o.load({name:"libphonenumber",files:[window.file_base+"./libs/utilities/libphonenumber.js"+window.jsVersion]})}function s(){return[{name:"Afghanistan",dial_code:"93",code:"AF"},{name:"Aland Islands",dial_code:"358",code:"AX"},{name:"Albania",dial_code:"355",code:"AL"},{name:"Algeria",dial_code:"213",code:"DZ"},{name:"AmericanSamoa",dial_code:"1684",code:"AS"},{name:"Andorra",dial_code:"376",code:"AD"},{name:"Angola",dial_code:"244",code:"AO"},{name:"Anguilla",dial_code:"1264",code:"AI"},{name:"Antarctica",dial_code:"672",code:"AQ"},{name:"Antigua and Barbuda",dial_code:"1268",code:"AG"},{name:"Argentina",dial_code:"54",code:"AR"},{name:"Armenia",dial_code:"374",code:"AM"},{name:"Aruba",
dial_code:"297",code:"AW"},{name:"Australia",dial_code:"61",code:"AU"},{name:"Austria",dial_code:"43",code:"AT"},{name:"Azerbaijan",dial_code:"994",code:"AZ"},{name:"Bahamas",dial_code:"1242",code:"BS"},{name:"Bahrain",dial_code:"973",code:"BH"},{name:"Bangladesh",dial_code:"880",code:"BD"},{name:"Barbados",dial_code:"1246",code:"BB"},{name:"Belarus",dial_code:"375",code:"BY"},{name:"Belgium",dial_code:"32",code:"BE"},{name:"Belize",dial_code:"501",code:"BZ"},{name:"Benin",dial_code:"229",code:"BJ"},{name:"Bermuda",dial_code:"1441",code:"BM"},{name:"Bhutan",dial_code:"975",code:"BT"},{name:"Bolivia, Plurinational State of",dial_code:"591",code:"BO"},{name:"Bosnia and Herzegovina",dial_code:"387",code:"BA"},{name:"Botswana",dial_code:"267",code:"BW"},{name:"Brazil",dial_code:"55",code:"BR"},{name:"British Indian Ocean Territory",dial_code:"246",code:"IO"},{name:"Brunei Darussalam",dial_code:"673",code:"BN"},{name:"Bulgaria",dial_code:"359",code:"BG"},{name:"Burkina Faso",dial_code:"226",code:"BF"},{name:"Burundi",dial_code:"257",code:"BI"},{name:"Cambodia",dial_code:"855",code:"KH"},{name:"Cameroon",dial_code:"237",code:"CM"},{name:"Canada",dial_code:"1",code:"CA"},{name:"Cape Verde",dial_code:"238",code:"CV"},{name:"Cayman Islands",dial_code:" 345",code:"KY"},{name:"Central African Republic",dial_code:"236",code:"CF"},{name:"Chad",dial_code:"235",code:"TD"},{name:"Chile",dial_code:"56",code:"CL"},{name:"China",dial_code:"86",code:"CN"},{name:"Christmas Island",dial_code:"61",code:"CX"},{name:"Cocos (Keeling) Islands",dial_code:"61",code:"CC"},{name:"Colombia",dial_code:"57",code:"CO"},{name:"Comoros",dial_code:"269",code:"KM"},{name:"Congo",dial_code:"242",code:"CG"},{name:"Congo, The Democratic Republic of the Congo",dial_code:"243",code:"CD"},{name:"Cook Islands",dial_code:"682",code:"CK"},{name:"Costa Rica",dial_code:"506",code:"CR"},{name:"Cote d'Ivoire",dial_code:"225",code:"CI"},{name:"Croatia",dial_code:"385",code:"HR"},{name:"Cuba",dial_code:"53",code:"CU"},{name:"Cyprus",dial_code:"357",code:"CY"},{name:"Czech Republic",dial_code:"420",code:"CZ"},{name:"Denmark",dial_code:"45",code:"DK"},{name:"Djibouti",dial_code:"253",code:"DJ"},{name:"Dominica",dial_code:"1767",code:"DM"},{name:"Dominican Republic",dial_code:"1849",code:"DO"},{name:"Ecuador",dial_code:"593",code:"EC"},{name:"Egypt",dial_code:"20",code:"EG"},{name:"El Salvador",dial_code:"503",code:"SV"},{name:"Equatorial Guinea",dial_code:"240",code:"GQ"},{name:"Eritrea",dial_code:"291",code:"ER"},{name:"Estonia",dial_code:"372",code:"EE"},{name:"Ethiopia",dial_code:"251",code:"ET"},{name:"Falkland Islands (Malvinas)",dial_code:"500",code:"FK"},{name:"Faroe Islands",dial_code:"298",code:"FO"},{name:"Fiji",dial_code:"679",code:"FJ"},{name:"Finland",dial_code:"358",code:"FI"},{name:"France",dial_code:"33",code:"FR"},{name:"French Guiana",dial_code:"594",code:"GF"},{name:"French Polynesia",dial_code:"689",code:"PF"},{name:"Gabon",dial_code:"241",code:"GA"},{name:"Gambia",dial_code:"220",code:"GM"},{name:"Georgia",dial_code:"995",code:"GE"},{name:"Germany",dial_code:"49",code:"DE"},{name:"Ghana",dial_code:"233",code:"GH"},{name:"Gibraltar",dial_code:"350",code:"GI"},{name:"Greece",dial_code:"30",code:"GR"},{name:"Greenland",dial_code:"299",code:"GL"},{name:"Grenada",dial_code:"1473",code:"GD"},{name:"Guadeloupe",dial_code:"590",code:"GP"},{name:"Guam",dial_code:"1671",code:"GU"},{name:"Guatemala",dial_code:"502",code:"GT"},{name:"Guernsey",dial_code:"44",code:"GG"},{name:"Guinea",dial_code:"224",code:"GN"},{name:"Guinea-Bissau",dial_code:"245",code:"GW"},{name:"Guyana",dial_code:"595",code:"GY"},{name:"Haiti",dial_code:"509",code:"HT"},{name:"Holy See (Vatican City State)",dial_code:"379",code:"VA"},{name:"Honduras",dial_code:"504",code:"HN"},{name:"Hong Kong",dial_code:"852",code:"HK"},{name:"Hungary",dial_code:"36",code:"HU"},{name:"Iceland",dial_code:"354",code:"IS"},{name:"India",dial_code:"91",code:"IN"},{name:"Indonesia",dial_code:"62",code:"ID"},{name:"Iran, Islamic Republic of Persian Gulf",dial_code:"98",code:"IR"},{name:"Iraq",dial_code:"964",code:"IQ"},{name:"Ireland",dial_code:"353",code:"IE"},{name:"Isle of Man",dial_code:"44",code:"IM"},{name:"Israel",dial_code:"972",code:"IL"},{name:"Italy",dial_code:"39",code:"IT"},{name:"Jamaica",dial_code:"1876",code:"JM"},{name:"Japan",dial_code:"81",code:"JP"},{name:"Jersey",dial_code:"44",code:"JE"},{name:"Jordan",dial_code:"962",code:"JO"},{name:"Kazakhstan",dial_code:"77",code:"KZ"},{name:"Kenya",dial_code:"254",code:"KE"},{name:"Kiribati",dial_code:"686",code:"KI"},{name:"Korea, Democratic People's Republic of Korea",dial_code:"850",code:"KP"},{name:"Korea, Republic of South Korea",dial_code:"82",code:"KR"},{name:"Kuwait",dial_code:"965",code:"KW"},{name:"Kyrgyzstan",dial_code:"996",code:"KG"},{name:"Laos",dial_code:"856",code:"LA"},{name:"Latvia",dial_code:"371",code:"LV"},{name:"Lebanon",dial_code:"961",code:"LB"},{name:"Lesotho",dial_code:"266",code:"LS"},{name:"Liberia",dial_code:"231",code:"LR"},{name:"Libyan Arab Jamahiriya",dial_code:"218",code:"LY"},{name:"Liechtenstein",dial_code:"423",code:"LI"},{name:"Lithuania",dial_code:"370",code:"LT"},{name:"Luxembourg",dial_code:"352",code:"LU"},{name:"Macao",dial_code:"853",code:"MO"},{name:"Macedonia",dial_code:"389",code:"MK"},{name:"Madagascar",dial_code:"261",code:"MG"},{name:"Malawi",dial_code:"265",code:"MW"},{name:"Malaysia",dial_code:"60",code:"MY"},{name:"Maldives",dial_code:"960",code:"MV"},{name:"Mali",dial_code:"223",code:"ML"},{name:"Malta",dial_code:"356",code:"MT"},{name:"Marshall Islands",dial_code:"692",code:"MH"},{name:"Martinique",dial_code:"596",code:"MQ"},{name:"Mauritania",dial_code:"222",code:"MR"},{name:"Mauritius",dial_code:"230",code:"MU"},{name:"Mayotte",dial_code:"262",code:"YT"},{name:"Mexico",dial_code:"52",code:"MX"},{name:"Micronesia, Federated States of Micronesia",dial_code:"691",code:"FM"},{name:"Moldova",dial_code:"373",code:"MD"},{name:"Monaco",dial_code:"377",code:"MC"},{name:"Mongolia",dial_code:"976",code:"MN"},{name:"Montenegro",dial_code:"382",code:"ME"},{name:"Montserrat",dial_code:"1664",code:"MS"},{name:"Morocco",dial_code:"212",code:"MA"},{name:"Mozambique",dial_code:"258",code:"MZ"},{name:"Myanmar",dial_code:"95",code:"MM"},{name:"Namibia",dial_code:"264",code:"NA"},{name:"Nauru",dial_code:"674",code:"NR"},{name:"Nepal",dial_code:"977",code:"NP"},{name:"Netherlands",dial_code:"31",code:"NL"},{name:"Netherlands Antilles",dial_code:"599",code:"AN"},{name:"New Caledonia",dial_code:"687",code:"NC"},{name:"New Zealand",dial_code:"64",code:"NZ"},{name:"Nicaragua",dial_code:"505",code:"NI"},{name:"Niger",dial_code:"227",code:"NE"},{name:"Nigeria",dial_code:"234",code:"NG"},{name:"Niue",dial_code:"683",code:"NU"},{name:"Norfolk Island",dial_code:"672",code:"NF"},{name:"Northern Mariana Islands",dial_code:"1670",code:"MP"},{name:"Norway",dial_code:"47",code:"NO"},{name:"Oman",dial_code:"968",code:"OM"},{name:"Pakistan",dial_code:"92",code:"PK"},{name:"Palau",dial_code:"680",code:"PW"},{name:"Palestinian Territory, Occupied",dial_code:"970",code:"PS"},{name:"Panama",dial_code:"507",code:"PA"},{name:"Papua New Guinea",dial_code:"675",code:"PG"},{name:"Paraguay",dial_code:"595",code:"PY"},{name:"Peru",dial_code:"51",code:"PE"},{name:"Philippines",dial_code:"63",code:"PH"},{name:"Pitcairn",dial_code:"872",code:"PN"},{name:"Poland",dial_code:"48",code:"PL"},{name:"Portugal",dial_code:"351",code:"PT"},{name:"Puerto Rico",dial_code:"1939",code:"PR"},{name:"Qatar",dial_code:"974",code:"QA"},{name:"Romania",dial_code:"40",code:"RO"},{name:"Russia",dial_code:"7",code:"RU"},{name:"Rwanda",dial_code:"250",code:"RW"},{name:"Reunion",dial_code:"262",code:"RE"},{name:"Saint Barthelemy",dial_code:"590",code:"BL"},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"290",code:"SH"},{name:"Saint Kitts and Nevis",dial_code:"1869",code:"KN"},{name:"Saint Lucia",dial_code:"1758",code:"LC"},{name:"Saint Martin",dial_code:"590",code:"MF"},{name:"Saint Pierre and Miquelon",dial_code:"508",code:"PM"},{name:"Saint Vincent and the Grenadines",dial_code:"1784",code:"VC"},{name:"Samoa",dial_code:"685",code:"WS"},{name:"San Marino",dial_code:"378",code:"SM"},{name:"Sao Tome and Principe",dial_code:"239",code:"ST"},{name:"Saudi Arabia",dial_code:"966",code:"SA"},{name:"Senegal",dial_code:"221",code:"SN"},{name:"Serbia",dial_code:"381",code:"RS"},{name:"Seychelles",dial_code:"248",code:"SC"},{name:"Sierra Leone",dial_code:"232",code:"SL"},{name:"Singapore",dial_code:"65",code:"SG"},{name:"Slovakia",dial_code:"421",code:"SK"},{name:"Slovenia",dial_code:"386",code:"SI"},{name:"Solomon Islands",dial_code:"677",code:"SB"},{name:"Somalia",dial_code:"252",code:"SO"},{name:"South Africa",dial_code:"27",code:"ZA"},{name:"South Sudan",dial_code:"211",code:"SS"},{name:"South Georgia and the South Sandwich Islands",dial_code:"500",code:"GS"},{name:"Spain",dial_code:"34",code:"ES"},{name:"Sri Lanka",dial_code:"94",code:"LK"},{name:"Sudan",dial_code:"249",code:"SD"},{name:"Suriname",dial_code:"597",code:"SR"},{name:"Svalbard and Jan Mayen",dial_code:"47",code:"SJ"},{name:"Swaziland",dial_code:"268",code:"SZ"},{name:"Sweden",dial_code:"46",code:"SE"},{name:"Switzerland",dial_code:"41",code:"CH"},{name:"Syrian Arab Republic",dial_code:"963",code:"SY"},{name:"Taiwan",dial_code:"886",code:"TW"},{name:"Tajikistan",dial_code:"992",code:"TJ"},{name:"Tanzania, United Republic of Tanzania",dial_code:"255",code:"TZ"},{name:"Thailand",dial_code:"66",code:"TH"},{name:"Timor-Leste",dial_code:"670",code:"TL"},{name:"Togo",dial_code:"228",code:"TG"},{name:"Tokelau",dial_code:"690",code:"TK"},{name:"Tonga",dial_code:"676",code:"TO"},{name:"Trinidad and Tobago",dial_code:"1868",code:"TT"},{name:"Tunisia",dial_code:"216",code:"TN"},{name:"Turkey",dial_code:"90",code:"TR"},{name:"Turkmenistan",dial_code:"993",code:"TM"},{name:"Turks and Caicos Islands",dial_code:"1649",code:"TC"},{name:"Tuvalu",dial_code:"688",code:"TV"},{name:"Uganda",dial_code:"256",code:"UG"},{name:"Ukraine",dial_code:"380",code:"UA"},{name:"United Arab Emirates",dial_code:"971",code:"AE"},{name:"United Kingdom",dial_code:"44",code:"GB"},{name:"United States",dial_code:"1",code:"US"},{name:"Uruguay",dial_code:"598",code:"UY"},{name:"Uzbekistan",dial_code:"998",code:"UZ"},{name:"Vanuatu",dial_code:"678",code:"VU"},{name:"Venezuela, Bolivarian Republic of Venezuela",dial_code:"58",code:"VE"},{name:"Vietnam",dial_code:"84",code:"VN"},{name:"Virgin Islands, British",dial_code:"1284",code:"VG"},{name:"Virgin Islands, U.S.",dial_code:"1340",code:"VI"},{name:"Wallis and Futuna",dial_code:"681",code:"WF"},{name:"Yemen",dial_code:"967",code:"YE"},{name:"Zambia",dial_code:"260",code:"ZM"},{name:"Zimbabwe",dial_code:"263",code:"ZW"}]}function r(e){if(["0",0,"91",91].indexOf(e)>-1)return[{name:"India",dial_code:"91",code:"IN"}];if(!(e>0))return!1;for(var t=s(),a=[],i=0;i<t.length;i++)e==t[i].dial_code&&a.push(t[i]);return a.length>0&&a}function l(e){if(!e)return!1;for(var t=s(),a=0;a<t.length;a++)if(e==t[a].code)return t[a];return!1}function c(e,t){if(!window.PhoneNumber)return!1;var a;if(a=r(e))for(var i=0;i<a.length;i++){var o=a[i],n=new window.PhoneNumber(t.toString(),o.code.toString());if(n.isValid())return!0}return!1}return{loadLib:n,getDialCodes:s,searchByDialCode:r,searchByCountry:l,isValidNumber:c}}angular.module("as.core").factory("phonenumber",e),e.$inject=["$http","$rootScope","$state","$timeout","$ocLazyLoad"]}(),function(){"use strict";function e(e,t,a,i,o,n,s){function r(){e.$on("$locationChangeSuccess",function(n,s,r){if(r.toLocaleLowerCase()===s.toLocaleLowerCase())return void n.preventDefault();if(1===e.nr)return n.preventDefault(),void delete e.nr;console.log("location intercept URLs: ",s,r);var c=t.search().section;if(angular.isDefined(c)&&""!=c&&i.current.url.split("?")[0]===t.path()&&(!angular.isDefined(o.section)||o.section!=c))return n.preventDefault(),void l(c);if(platformis.ios,angular.isDefined(e.app_data.data)&&null!==e.app_data.data){var d=""!==e.app_data.data.baseState&&e.app_data.data.baseState;if(d){var p=t.path();0!==p.indexOf("./")&&0!==p.indexOf("/")&&(p="/"+p),d&&p.split("/")[1]==d||(n.preventDefault(),console.log("ADDING BASESTATE: /"+d+p+location.search),t.url("/"+d+p+location.search).replace(),a.sync())}}}),e.$on("$stateChangeSuccess",function(t,a,i){console.log("toState.params.removeHeader",a,i),!0===i.removeHeader||"true"===i.removeHeader||a.params&&(a.params.removeHeader||"true"==a.params.removeHeader)?e.header.loaded=!1:e.header.loaded=!0}),a.listen()}function l(e){var t=document.getElementById(e);if(angular.isDefined(t)){var a=t.getBoundingClientRect().top+window.pageYOffset;scrollTo(a-72,1e3,function(){angular.element(t).scope().active=e}),o.section=e}}return{listen:r}}angular.module("as.core").factory("uiRouterIntercepter",e),e.$inject=["$rootScope","$location","$urlRouter","$state","$stateParams","asState","analytics"]}(),function(){"use strict";function userdata($state,$rootScope){function dataInstance(args){function setDataMapping(e){self.DataMapping=e}function getinfo(type){var info=self.args.info,result;try{result=eval(self.DataMapping[type])}catch(e){}return result}function isDegreeVisible(){if(isRole(4,!1)||!hasDegreeList())return!1;if("signup"===self.args.screen){var e=getinfo("signupMeta");if(e&&1==e[3])return!1}return!!visibilityBy_USER_DATA_CONFIG("degree")}function isDepartmentVisible(){if(isRole(4,!1)||!hasDepartmentList())return!1;if("signup"===self.args.screen){var e=getinfo("signupMeta");if(e&&1==e[4])return!1}return!!visibilityBy_USER_DATA_CONFIG("department")}function isYoJVisible(){if(isRole(4,!1))return!1;if("signup"===self.args.screen){var e=getinfo("signupMeta");if(e&&1==e[9])return!1}return!!visibilityBy_USER_DATA_CONFIG("yoj")}function isYoPVisible(){if(isRole([3,4],!1))return!1;if("signup"===self.args.screen){var e=getinfo("signupMeta");if(e&&1==e[10])return!1}return(6!=$rootScope.app_data.data.insti_type||!isRole(1))&&!!visibilityBy_USER_DATA_CONFIG("yop")}function visibilityBy_USER_DATA_CONFIG(e){if(USER_DATA_CONFIG.fields&&USER_DATA_CONFIG.fields[e]){var t=USER_DATA_CONFIG.fields[e];if(!0===sanitizeValue(t.defaultVisibility)&&t.hideIf){if(t.hideIf.role.indexOf(sanitizeValue(getinfo("role")))>-1)return!1}else{if(!t.showIf)return!1;if(-1===t.showIf.role.indexOf(sanitizeValue(getinfo("role"))))return!1}}return!0}function isRole(e,t){void 0==t&&(t=!0);var a=getinfo("role");return void 0==a?t:["string","number"].indexOf(typeof e)>-1?a==e:"[object Array]"==Object.prototype.toString.call(e)&&e.indexOf(sanitizeValue(a))>-1}function hasDegreeList(){var e=getinfo("degreeList");return!!(isArray(e)&&e.length>0)}function hasDepartmentList(){var e=getinfo("departmentList");return!!(isArray(e)&&e.length>0)}if(!isObject(args)||!isObject(args.info))return void console.error("dataInstance: 'args' is not object, or it doesn't have 'info' object");var self={};return self.args=args,self.setDataMapping=setDataMapping,self.isDegreeVisible=isDegreeVisible,self.isDepartmentVisible=isDepartmentVisible,self.isYoJVisible=isYoJVisible,self.isYoPVisible=isYoPVisible,self}var service={dataInstance:dataInstance},USER_DATA_CONFIG=$rootScope.app_data.config.meta[64];return service}angular.module("as.core").factory("userdata",userdata),userdata.$inject=["$state","$rootScope"]}(),function(){"use strict";function e(e){return function(t,a){if(isNullUndefined(t)||!t)return"";console.log("formatTime",t,a);var i=t.split(":"),o=new Date(0,0,0,i[0],i[1]?i[1]:0,i[2]?i[2]:0),n=e("date")(o,a||"h:mm");return n||""}}angular.module("as.core").filter("formatTime",e),e.$inject=["$filter"]}(),function(){"use strict";function customfield(){return{restrict:"E",templateUrl:"./templates/directives/customform/field.html",scope:{field:"=",response:"=",options:"=?"},controller:customfieldController}}function customfieldController($injector,$http,$scope,$element,$rootScope,$sce,$timeout,customformservice,$filter,$ocLazyLoad){function reset(e){$scope.response="",$scope.field=angular.copy($scope.field_template),set_field($scope.field,!0),!0===e&&$scope.$apply()}function refresh(e){$scope.response="",$scope.field=angular.copy($scope.field_template),set_field($scope.field),!0===e&&$scope.$apply()}function set_field(field,doReset){var type=field.type;if(!check_field_name(field))return!1;$scope.i=$scope.field.name,field.id||(field.id="acf1_field_"+field.name+"_"+Math.floor(Math.random()*Math.floor(1e3))),field.initializing=!0,field.title||(field.title=field.label),void 0==field.placeholder&&(field.placeholder=field.title),field.required=sanitizeValue(field.required),field&&void 0===field.remove_title&&(isNullUndefined($scope.options.remove_title)?field.remove_title=!1:field.remove_title=$scope.options.remove_title),field=set_field_classes(field),field=set_field_styles(field),field=set_text_defaults_in_fields(field),(field=set_multidata_in_fields(field))&&(!doReset&&isEmpty($scope.response)&&(isNullUndefined(field.value)?$scope.response="":$scope.response=angular.copy(field.value)),isNullUndefined($scope.response)?$scope.respObj[$scope.i]="":$scope.respObj[$scope.i]=$scope.response);try{var fieldFn=type.replace("-","_")+"_field";eval(fieldFn+"(field)")}catch(e){field.inlinesave&&(field.__callInlineSave=callInlineSave)}return field&&("string"==typeof field.label&&(field.label=$sce.trustAsHtml(field.label)),"file-input-element"==type&&(field=validate_file_input(field))),as_upgrade(50),field.refresh=refresh,field.reset=reset,$timeout(function(){field.initializing=!1},1e3),field}function loadLibs(e){e&&"rating"===e.type?(isObject(e.libsLoaded)||(e.libsLoaded={__count:0}),$ocLazyLoad.load({name:"angular-rating-icons-js",files:[window.file_base+"./libs/utilities/angular-rating-icons/angular-rating-icons.min.js"]}).then(function(){$timeout(function(){e.libsLoaded.ngRatingJS||(e.libsLoaded.ngRatingJS=!0,e.libsLoaded.__count+=1),as_upgrade(200)},200)}),$ocLazyLoad.load({name:"angular-rating-icons-css",files:[window.file_base+"./libs/utilities/angular-rating-icons/angular-rating-icons.min.css"]}).then(function(){$timeout(function(){e.libsLoaded.ngRatingCSS||(e.libsLoaded.ngRatingCSS=!0,e.libsLoaded.__count+=1),as_upgrade(200)},200)})):e&&"date"===e.type&&($ocLazyLoad.load("css!"+window.file_base+"./css/angular-datepicker.css"),$ocLazyLoad.load({name:"angular-datepicker",files:[window.file_base+"./libs/angular-datepicker.js"]}).then(function(){$timeout(function(){$scope.options.dateLibLoaded=!0,as_upgrade(200)},200)}))}function check_field_name(e){if(void 0==e||void 0==e.name||!e.name)throw"field 'name' is either invalid or not defined";if(!/^([a-zA-Z0-9_ ]+)$/.test(e.name.trim()))throw"Invalid field 'name' (Only alphanumerical chars and '_' are allowed)";return!0}function validate_file_input(e){return"file-input-element"===e.type&&($scope.respObj[$scope.i]&&isArray($scope.respObj[$scope.i])?e.files=$scope.respObj[$scope.i]:e.files=[],!e.metadata&&e.options&&(e.metadata=e.options),e.metadata||(e.metadata={type:"file"}),e.uploadsInProgress={},e)}function set_field_classes(e){return void 0==e.classes&&(void 0!=$scope.options.default_classes[e.type]?e.classes=$scope.options.default_classes[e.type]:e.classes={}),e}function set_field_styles(e){return void 0==e.styles&&(void 0!=$scope.options.default_styles[e.type]?e.styles=$scope.options.default_styles[e.type]:e.styles={}),e}function set_text_defaults_in_fields(e){return e&&-1!==["text","textarea","password"].indexOf(e.type)?(e.remove_title&&(void 0==e.classes.div&&(e.classes.div=""),e.classes.div=e.classes.div+" mdl-textfield--floating-label"),e):e}function set_multidata_in_fields(e){if(!e||-1===["radio","checkboxes"].indexOf(e.type))return e;if("[object Array]"===Object.prototype.toString.call(e.data)&&e.data.length>0){if("[object Object]"===Object.prototype.toString.call(e.data[0]))e.responsetype="object";else{if(!(["number","string","boolean"].indexOf(typeof e.data[0])>-1))return!1;e.responsetype="string"}for(var t=[],a=0;a<e.data.length;a++){var i=e.data[a];"object"===e.responsetype?t.push(angular.copy(i)):t.push({text:i,value:i})}return e.data=t,e}return!1}function set_checkfields_defaults(e){return e?("2-column"===e.layout?(e.classes.div__label?-1===e.classes.div__label.split(" ").indexOf("half-textfield")&&(e.classes.div__label+="half-textfield"):e.classes.div__label="half-textfield",e.styles.div__label?e.styles.div__label+="vertical-align:text-top;height:unset;":e.styles.div__label="vertical-align:text-top;height:unset;"):"auto"===e.layout?e.styles.div__label?e.styles.div__label+="vertical-align:text-top;height:unset;margin-right:10px;":e.styles.div__label="vertical-align:text-top;height:unset;margin-right:10px;":void 0==e.styles.div__label?e.styles.div__label="display:block;margin:10px 0px;":e.styles.div__label="display:block;margin:10px 0px;"+e.styles.div__label,e):e}function radio_field(e){return e?(e=set_checkfields_defaults(e),e.inlinesave&&(e.__callInlineSave=callInlineSave),e):e}function checkboxes_field(e){return e?(e=set_checkfields_defaults(e),isArray($scope.respObj[$scope.i])||($scope.respObj[$scope.i]=[]),e=checkboxes_setup(e),e.inlinesave&&(e.__callInlineSave=callInlineSave),e):e}function checkboxes_setup(e){for(var t=0;t<e.data.length;t++){e.data[t].cf_checked=!1;for(var a,i=e.data[t].value.toString(),o=0;o<$scope.respObj[$scope.i].length;o++)if(a=isObject($scope.respObj[$scope.i][o])?$scope.respObj[$scope.i][o].value.toString():$scope.respObj[$scope.i][o].toString(),i===a){e.data[t].cf_checked=!0;break}}return e.checkboxes_click=function(t){if(e.clickLocked)return!1;if(!0===e.data[t].cf_checked){e.data[t].cf_checked=!1;for(var a=e.data[t].value,i=0;i<$scope.respObj[$scope.i].length;i++){if("object"===e.responsetype)var o=$scope.respObj[$scope.i][i].value;else var o=$scope.respObj[$scope.i][i];if(a===o){$scope.respObj[$scope.i].splice(i,1);break}}}else{var n=e.data.reduce(function(e,t){return!0===t.cf_checked&&e++,e},0);if(e.maxCheckedAllowed>0&&n>=e.maxCheckedAllowed){if(1!=e.maxCheckedAllowed){try{snackbar_general("You can select maximum "+e.maxCheckedAllowed+" option(s).",2500)}catch(e){}return void($element[0].querySelector("#"+e.id+"_i"+t).checked=!1)}e.clickLocked=!0;for(var s=$element[0].querySelectorAll("input"),i=0;i<e.data.length;i++)(e.data[i].cf_checked||s[i].checked)&&(s[i].checked=!1,s[i].parentElement.MaterialCheckbox.uncheck(),e.data[i].cf_checked=!1);e.clickLocked=!1,$scope.respObj[$scope.i]=[]}e.data[t].cf_checked=!0,"object"===e.responsetype?$scope.respObj[$scope.i].push(e.data[t]):$scope.respObj[$scope.i].push(e.data[t].value)}},e.inlinesave&&(e.__callInlineSave=callInlineSave),e}function checkbox_field(e){return e?(void 0===e.remove_title&&(e.remove_title=!0),e.inlinesave&&(e.__callInlineSave=callInlineSave),e):e}function dropdown_field(e){if(!e)return e;if(e.responsetype||-1!==["string","object"].indexOf(e.responsetype)||(e.responsetype="string"),e=set_dropdown_dataConditions(e),!isNullUndefined(e.default_selected)){e.default_selected=isObject(e.default_selected)?e.default_selected.value:e.default_selected;for(var t=0;t<e.data.length;t++)if(e.data[t].value==e.default_selected){"string"==e.responsetype?$scope.respObj[$scope.i]=e.data[t].value.toString():$scope.respObj[$scope.i]=e.data[t];break}}return isNullUndefined($scope.respObj[$scope.i])||(isObject($scope.respObj[$scope.i])&&void 0!==$scope.respObj[$scope.i].value&&e.data?$scope.respObj[$scope.i]=e.data.reduce(function(e,t){return t.value==$scope.respObj[$scope.i].value&&(e=t),e},null):$scope.respObj[$scope.i]=$scope.respObj[$scope.i].toString()),e.inlinesave&&(e.__callInlineSave=callInlineSave),e}function set_dropdown_dataConditions(e){if(!e)return e;if(e.optionsData=[],e.dataConditions&&isArray(e.dataConditions))e.data=e.data&&isArray(e.data)?e.data:[],e.dataConditions.forEach(function(t){t[1].forEach(function(a){for(var i=!1,o=0;o<e.data.length;o++)if(e.data[o]=isObject(e.data[o])?e.data[o]:{text:e.data[o],value:e.data[o]},i=isObject(a)?a.value===e.data[o].value:a===e.data[o].value){e.data[o].displayCondition=t[0];break}i||(isObject(a)?a.displayCondition=t[0]:a={text:a,value:a,displayCondition:t[0]},e.data.push(a))})}),setOptionsData(e),$scope.$watch("options.responsedata",function(){setOptionsData(e)},!0);else{if(!e.data||!isArray(e.data))return!1;e.data.forEach(function(t,a){e.data[a]=isObject(t)?t:{text:t,value:t}}),e.optionsData=e.data}return e}function setOptionsData(e){var t=!1;e.optionsData=[];for(var a=0;a<e.data.length;a++)e.data[a]=isObject(e.data[a])?e.data[a]:{text:e.data[a],value:e.data[a]},e.data[a].displayCondition&&!customformservice.checkDisplayConditions(e.data[a].displayCondition,$scope.options.responsedata)||(e.optionsData.push(e.data[a]),("object"==typeof $scope.response&&$scope.response.value==e.data[a].value||$scope.response==e.data[a].value)&&(t=!0));t||($scope.respObj[$scope.i]=void 0)}function phone_field(e){if(!e)return e;void 0===e.remove_title&&(e.remove_title=!0),e.responsetype||($scope.response&&"string"==typeof $scope.response?e.responsetype="string":e.responsetype="object");var t="",a="";if($scope.response)if(isObject($scope.response)&&void 0!==$scope.response.user_phone_code&&void 0!==$scope.response.user_phone)t=$scope.response.user_phone_code,a=$scope.response.user_phone;else if($scope.response.constructor===String){var i=$scope.response.split("-");i[0]&&(t=i[0].replace(/^\+/g,"")),i[1]&&(a=i[1])}$scope.respObj[$scope.i]={user_phone_code:t,user_phone:a};try{var o=$injector.get("phonenumber");o.loadLib(),e.error=!1,e.onPhoneBlur=function(){e.error=!1;try{var t=$scope.respObj[$scope.i];if(isEmpty(t.user_phone))return;if(!o.isValidNumber(t.user_phone_code,t.user_phone))return void(e.error="Phone No. is invalid");callInlineSave(e)}catch(e){}}}catch(e){}return e}function date_field(e){if(!e)return e;void 0===e.remove_title&&(e.remove_title=!0),e.options||(e.options={format:"yyyy-mm-dd",formatSubmit:"yyyy-mm-dd"});try{$scope.respObj[$scope.i]&&($scope.respObj[$scope.i]=new Date($scope.respObj[$scope.i]))}catch(e){console.log(e)}return e.inlinesave&&(e.__callInlineSave=callInlineSave),e}function time_field(e){if(!e)return e;void 0===e.remove_title&&(e.remove_title=!0);try{$scope.respObj[$scope.i]?(e.AddTime=!0,$scope.respObj[$scope.i].toLowerCase().indexOf("am")>0||$scope.respObj[$scope.i].toLowerCase().indexOf("pm")>0?$scope.respObj.__12hour=!0:$scope.respObj[$scope.i]=$filter("formatTime")($scope.respObj[$scope.i],"h:mm a")):e.AddTime=!1}catch(e){console.log(e)}return isObject(e.options)||(e.options={}),e.options.format="h:i a",e.changeState=function(t){"setNow"===t?(e.AddTime=!0,$scope.respObj.__lastValue?$scope.respObj[$scope.i]=$scope.respObj.__lastValue:$scope.respObj[$scope.i]="00:00 AM"):"askToSet"===t&&($scope.respObj.__lastValue=$scope.respObj[$scope.i],e.AddTime=!1,$scope.respObj[$scope.i]="")},e.inlinesave&&(e.__callInlineSave=callInlineSave),e}function paAutocomplete_field(e){return e?(!e.data&&e.options&&(e.data=e.options),e.responsetype||($scope.response&&"string"==typeof $scope.response?e.responsetype="string":e.responsetype="object"),"[object Object]"===Object.prototype.toString.call(e.data)&&(e.data.query>0&&(void 0===e.data.parentdivClass&&(e.data.parentdivClass="maximize-width mdl-textfield--floating-label"),void 0===e.data.parentdivClass&&(e.data.parentdivClass="maximize-width mdl-textfield--floating-label"),isNullUndefined(e.data.inputPlaceholder)&&(e.data.inputPlaceholder=e.placeholder?e.placeholder:""),void 0===e.data.inputActualPlaceholder&&(e.data.inputActualPlaceholder=e.actualPlaceholder?e.actualPlaceholder:e.data.inputPlaceholder),void 0!==$scope.respObj[$scope.i]&&$scope.respObj[$scope.i].id>0?(e.data.searchText=$scope.respObj[$scope.i].name,e.data.selectedFinally=$scope.respObj[$scope.i].id):(void 0===e.data.searchText&&(e.data.searchText=""),void 0===e.data.selectedFinally&&(e.data.selectedFinally=-1)),e.data.triggerFunction=pAutocomplete_triggerFn(e),e.data.onBlurFn=pAutocomplete_onBlurFn(e),e.inlinesave&&(e.__callInlineSave=callInlineSave),e))):e}function pAutocomplete_triggerFn(e){if("function"==typeof e.data.triggerFunction)var t=e.data.triggerFunction;else var t=function(e){};return function(a){if(!a)return void($scope.respObj[$scope.i]=void 0);"string"===e.responsetype?$scope.respObj[$scope.i]=a.name:$scope.respObj[$scope.i]=a,t(a)}}function pAutocomplete_onBlurFn(e){if("function"==typeof e.data.onBlurFn)var t=e.data.onBlurFn;else var t=function(){};return function(){e.data.searchText?"string"===e.responsetype?$scope.respObj[$scope.i]=e.data.searchText:$scope.respObj[$scope.i]={id:e.data.selectedFinally,name:e.data.searchText}:$scope.respObj[$scope.i]=void 0,t($scope.respObj[$scope.i])}}function autocomplete_field(e){return e?(customformservice.setAutocompleteConfig(e),!e.data&&e.options&&(e.data=e.options),"[object Object]"===Object.prototype.toString.call(e.data)&&(!!e.data.dataSource&&(void 0===e.data.parentdivClass&&(e.data.parentdivClass="maximize-width mdl-textfield--floating-label"),void 0===e.data.parentdivClass&&(e.data.parentdivClass="maximize-width mdl-textfield--floating-label"),void 0===e.data.inputPlaceholder&&(e.data.inputPlaceholder=e.placeholder?e.placeholder:e.label),void 0===e.data.inputActualPlaceholder&&(e.data.inputActualPlaceholder=e.actualPlaceholder?e.actualPlaceholder:e.data.inputPlaceholder),void 0!==$scope.respObj[$scope.i]&&$scope.respObj[$scope.i].id>0?(e.data.searchText=$scope.respObj[$scope.i].name,e.data.selectedFinally=$scope.respObj[$scope.i].id):(void 0===e.data.searchText&&(e.data.searchText=""),void 0===e.data.selectedFinally&&(e.data.selectedFinally=-1)),e.multiple?isNullUndefined(e.data.allowNew)&&(e.data.allowNew=!1):(e.data.triggerFunction=autocomplete_triggerFn(e),e.data.onBlurFn=autocomplete_onBlurFn(e)),e.inlinesave&&(e.__callInlineSave=callInlineSave),e))):e}function autocomplete_triggerFn(e){if("function"==typeof e.data.triggerFunction)var t=e.data.triggerFunction;else var t=function(e){};return function(e){if(!e)return void($scope.respObj[$scope.i]=void 0);t(e)}}function autocomplete_onBlurFn(e){if("function"==typeof e.data.onBlurFn)var t=e.data.onBlurFn;else var t=function(){};return function(){t($scope.respObj[$scope.i])}}function chips_triggerFn(e){if("function"==typeof e.data.triggerFunction)var t=e.data.triggerFunction;else var t=function(){};return function(e){if(!e||!isArray(e))return void($scope.respObj[$scope.i]=void 0);t(e)}}function arrayinput_field(e){function t(t,a){if(!0!==e.initializing){var i=void 0;if(i=e.forms[t].is_new_item?e.onItemAdd:e.onItemUpdate)return customformservice.submit(i,$scope.respObj[$scope.i][t],function(){a()},function(e){e||(e="Error Occurred, Please try again !"),a({error:e})},getOptions()),!0;a()}else a();return!1}function a(t,a){if(!0!==e.initializing){if(console.log("callbackOnRemoveItem",angular.copy(e.forms[t]),e.onItemDelete),!e.forms[t].is_new_item&&e.onItemDelete)return customformservice.submit(e.onItemDelete,$scope.respObj[$scope.i][t],function(e){console.log("callbackResult9",e),a(e)},function(e){e||(e="Error Occurred, Please try again !"),a({error:e})},getOptions()),!0;a()}else a();return!1}function i(e,t){void 0!==e[t]&&delete e[t]}function o(e,t){return function(){if(e[t].displayCondition){var a=customformservice.checkDisplayConditions(e[t].displayCondition,n(e),e[t].displayConditionType,e[t],e);return a&&as_upgrade(200),a}return!0}}function n(e){for(var t={},a=0;a<e.length;a++)e[a].tmpRespObj&&(t[e[a].name]=e[a].tmpRespObj);return t}function s(){var t=e.forms.length;e.addItem(),"object"===e.items.type&&e.saveItem(t)}if(!e)return e;if("[object Object]"!==Object.prototype.toString.call(e.items))return!1;if($scope.respObj[$scope.i]&&!isArray($scope.respObj[$scope.i])&&($scope.respObj[$scope.i]=[]),e.add_more_txt||(e.add_more_txt="Add "+e.label),e.swap&&"[object Object]"===Object.prototype.toString.call($scope.respObj[$scope.i])){var r=angular.copy($scope.respObj[$scope.i]);$scope.respObj[$scope.i]=[];for(var l in r)try{var c={};if(c[e.swap.keyField]=l,
e.swap.valueField)c[e.swap.valueField]=r[l];else for(var d in r[l])c[d]=r[l][d];$scope.respObj[$scope.i].push(c)}catch(e){}}if("[object Array]"!==Object.prototype.toString.call($scope.respObj[$scope.i])&&($scope.respObj[$scope.i]=[]),"object"===e.items.type){if("[object Array]"!==Object.prototype.toString.call(e.items.fields))return!1}else{if("string"!==e.items.type)return!1;if("[object Object]"!==Object.prototype.toString.call(e.items.field))return!1}if(isObject(e.uitreeConfig)){isObject(e.uitreeConfig.treeOptions)||(e.treeOptions={});var p="function"==typeof e.treeOptions.dropped?e.treeOptions.dropped:function(){};e.treeOptions.dropped=function(t){console.log("dropped",t);var a=!1;if(isObject(e.uitreeConfig.httpRequest)&&e.uitreeConfig.httpRequest.URL){var i=t.source.nodesScope.$modelValue[t.dest.index],o=t.source.index>t.dest.index?t.dest.index+1:t.dest.index-1,n=t.source.nodesScope.$modelValue[o];try{i=i.fields[0].respObj,n=n.fields[0].respObj}catch(t){i=!1,n=!1}if(isObject(i)&&isObject(n)&&t.dest.index!=t.source.index){var s={},r=!0;if(isObject(e.uitreeConfig.httpRequest.data)&&(s=e.uitreeConfig.httpRequest.data),isArray(e.uitreeConfig.httpRequest.sourceDataMapping))for(var l=0;l<e.uitreeConfig.httpRequest.sourceDataMapping.length;l++){var c=e.uitreeConfig.httpRequest.sourceDataMapping[l];if(isNullUndefined(i[c.responseKey])){r=!1;break}s[c.httpRequestKey]=i[c.responseKey]}if(isArray(e.uitreeConfig.httpRequest.destDataMapping))for(var l=0;l<e.uitreeConfig.httpRequest.destDataMapping.length;l++){var c=e.uitreeConfig.httpRequest.destDataMapping[l];if(isNullUndefined(n[c.responseKey])){r=!1;break}s[c.httpRequestKey]=n[c.responseKey]}r&&(a=!0,e.positonChanging=!0,callInlineSaveAnimationOn(e),$http({url:e.uitreeConfig.httpRequest.URL,method:"POST",data:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a){e.positonChanging=!1,callInlineSaveAnimationOff(e),p(t)}))}}a||p(t)}}return e.add_mode_index=!1,e.forms=[],e.onAddMoreClick=function(){if(e.addItemClickHandler&&"function"==typeof e.addItemClickHandler){e.adding_new=!0;var t=e.addItemClickHandler(e,$scope.respObj[$scope.i],getOptions());t&&t.then?t.then(function(t){isEmpty(t)||($scope.respObj[$scope.i].push(t),s()),e.adding_new=!1}):isNullUndefined(t)?e.adding_new=!1:(isEmpty(t)||($scope.respObj[$scope.i].push(t),s()),e.adding_new=!1)}else e.addItem()},e.addItem=function(){var t=angular.copy(e.items);if(t.index=e.forms.length,"string"===t.type)t.respObj=$scope.respObj[$scope.i],t.field.remove_title=!0,t.field=customformservice.set_cell_class(t.field,{layout:"2-column"});else if("object"===t.type){$scope.respObj[$scope.i][t.index]||($scope.respObj[$scope.i][t.index]={});for(var a=$scope.respObj[$scope.i][t.index],i=0;i<t.fields.length;i++){if(t.fields[i].hasVisibleFn=!1,t.fields[i].json_position)for(var n=t.fields[i].json_position.split("."),s=a,r=0;r<n.length;r++)0==r&&"root"===n[r]||(r==n.length-1?(t.fields[i].arrayinput_index=n[r],t.fields[i].respObj=s,t.fields[i].remove_title=!0,t.fields[i].displayCondition&&(t.fields[i].hasVisibleFn=!0,t.fields[i].isvisible=o(t.fields,i))):(s[n[r]]||(s[n[r]]={}),s=s[n[r]]));else t.fields[i].arrayinput_index=t.fields[i].name,t.fields[i].respObj=a,t.fields[i].remove_title=!0,t.fields[i].displayCondition&&(t.fields[i].hasVisibleFn=!0,t.fields[i].isvisible=o(t.fields,i));t.fields[i].tmpRespObj=angular.copy(t.fields[i].respObj[t.fields[i].arrayinput_index]),t.fields[i]=customformservice.set_cell_class(t.fields[i],{layout:"2-column"})}}t.edit_mode=!0,t.is_new_item=!0,e.forms.push(t),e.add_mode_index=t.index,as_upgrade(200)},e.removeItem=function(t,i){if("object"===e.items.type&&!i){if(!1===confirm("Confirm to delete ?"))return!1}if(!e.forms[t].is_new_item&&e.minItems>0&&e.total_items<=e.minItems)return e.forms[t].err="Minimum "+e.minItems+" item"+(1==e.minItems?"":"s")+" "+(1==e.minItems?"is":"are")+" required",!1;e.forms[t].err=!1,e.forms[t].deleting=!0,a(t,function(a){console.log("callbackResult10",a),e.forms[t].deleting=!1,a&&a.error?e.forms[t].err=a.error:(e.add_mode_index==t&&(e.add_mode_index=!1),e.forms[t].is_new_item||(e.total_items=e.total_items?e.total_items-1:0),a&&1===a.deleteByParam?$scope.respObj[$scope.i][t].__deleted=1:(e.forms.splice(t,1),$scope.respObj[$scope.i].splice(t,1)))})},e.saveItem=function(a){if(e.forms[a].is_new_item&&e.maxItems>0&&e.total_items>=e.maxItems)return e.forms[a].err="Maximum "+e.maxItems+" item"+(1==e.maxItems?"":"s")+" can be added",!1;var o="",n=angular.copy(e.forms[a].respObj);e.forms[a].err=!1,e.items.read_mode_format&&(o=e.items.read_mode_format);for(var s in e.forms[a].fields){var r=e.forms[a],l=r.fields[s],c=l.name,d=l.tmpRespObj;if(l.required=sanitizeValue(l.required),!l.hasVisibleFn||l.isvisible()){if(l.required&&isEmpty(d))return i(l,c),void $timeout(function(){r.err='"'+l.label+'" is required'},100);if(void 0!==d)if(l.respObj[c]=angular.copy(d),e.items.read_mode_format){var p=new RegExp("(\\[|\\{)"+c+"(\\]|\\})","g");o=isArray(d)?o.replace(p,e.forms[a].fields[s].label+" ("+d.length+")"):isObject(d)?o.replace(p,e.forms[a].fields[s].label+" ("+Object.keys(d).length+")"):o.replace(p,d)}else isArray(d)?o+=", "+e.forms[a].fields[s].label+" ("+d.length+")":isObject(d)?o+=", "+e.forms[a].fields[s].label+" ("+Object.keys(d).length+")":o+=", "+d;else i(l,c)}else i(l,c)}e.forms[a].saving=!0,t(a,function(t){e.forms[a].saving=!1,t&&t.error?(e.forms[a].respObj=n,e.forms[a].err=t.error):(e.items.read_mode_format===o&&(o=""),e.forms[a].read_mode_html=$sce.trustAsHtml(o.replace(/^[, ]+/,"")),e.forms[a].is_new_item&&(e.total_items=e.total_items?e.total_items+1:1),e.add_mode_index=!1,e.forms[a].edit_mode=!1,e.forms[a].is_new_item=!1)})},e.onEditItemClick=function(t){if(e.editItemClickHandler&&"function"==typeof e.editItemClickHandler){var a=e.editItemClickHandler(e,$scope.respObj[$scope.i],getOptions());a&&a.then?a.then(function(a){$scope.respObj[$scope.i][t]=a,e.saveItem(t)}):isNullUndefined(a)||($scope.respObj[$scope.i][t]=r,e.saveItem(t))}else e.editStart(t)},e.editStart=function(t){for(var a in e.forms[t].fields){var i=e.forms[t].fields[a].name;e.forms[t].fields[a].tmpRespObj=angular.copy(e.forms[t].fields[a].respObj[i])}e.forms[t].edit_mode=!0,as_upgrade(200)},e.editEnd=function(t){e.forms[t].err=!1,e.forms[t].is_new_item?e.removeItem(t,e.forms[t].is_new_item):e.forms[t].edit_mode=!1},function(){for(var e=0;e<$scope.respObj[$scope.i].length;e++)s()}(),e}function rating_field(e){return $scope.response>0&&(e.ratingValue=2*$scope.response),e.iconsize>0||(e.iconsize=30),e.readonly&&$element[0].setAttribute("readonly",1),e.onChange=function(){$scope.respObj[$scope.i]=e.ratingValue/2},e.inlinesave&&(e.__callInlineSave=callInlineSave),e}function callInlineSave(e){function t(){var i=(new Date).getTime(),o=$scope.core.keys.timeouts[e.type];if($scope.core.keys.runcount>10)return $scope.core.keys.runcount=0,void(e.__inlineSaveWaiting=0);var n=$scope.core.keys.__lastkeyup>0?i-$scope.core.keys.__lastkeyup:0,s=$scope.core.keys.__lastkeydown>0?i-$scope.core.keys.__lastkeydown:0;Object.keys($scope.core.keys.events).length>0||n<o||s<o?($scope.core.keys.runcount=$scope.core.keys.runcount>0?$scope.core.keys.runcount+1:1,e.__inlineSaveWaiting=1,$timeout(function(){t()},o-Math.min(n,s))):a()}function a(){$scope.core.keys.runcount=0,e.__inlineSaveWaiting=0,$timeout.cancel(e.__inlineSaveTimeout),e.__inlineSaveTimeout=$timeout(function(){e.__inlineSaving=e.__inlineSaving?e.__inlineSaving+1:1,e.__inlineSaved=0;var t={};t[e.name]=$scope.response,customformservice.submit(e.inlinesave,t,function(){i(e)},function(t){t||(t="Error Occurred, Please try again !"),i(e)},getOptions())},20)}if(e.inlinesave&&1!==e.__inlineSaveWaiting){$timeout.cancel(e.__inlineSaveTimeout);var i=callInlineSaveAnimationOff;!function(){$scope.core.keys.timeouts[e.type]>0?t():a()}()}}function callInlineSaveAnimationOn(e){e.callInlineSaveAnimationOn=!0,e.__inlineSaving=e.__inlineSaving?e.__inlineSaving+1:1,e.__inlineSaved=0}function callInlineSaveAnimationOff(e){e.__inlineSaving=e.__inlineSaving-1,0==e.__inlineSaving&&(e.__inlineSaved=1,e.__inlineSaveTimeout=$timeout(function(){e.__inlineSaving=0,e.__inlineSaved=0,e.callInlineSaveAnimationOn=!1},3e3))}function setKeyPressEventFunctions(){$element[0].onkeyup=function(e){delete $scope.core.keys.events[e.keyCode],$scope.core.keys.__lastkeyup=(new Date).getTime()},$element[0].onkeydown=function(e){$scope.core.keys.events[e.keyCode]=!0,$scope.core.keys.__lastkeydown=(new Date).getTime(),$scope.core.keys.runcount=0}}function getOptions(){var e;return(e=$element[0].asparent("multistepform"))?angular.element(e.firstChild).scope().steps:(e=$element[0].asparent("jsonhandler"))?angular.element(e.firstChild).scope().options:$scope.options}$scope.core={},$scope.core.options={default_classes:{},default_styles:{text:{div:"width:99%;",div__label:"font-size:12px;"},textarea:{div:"width:99%;",div__textarea:"resize:none;height:70px;"}}},$scope.core.keys={__lastkeydown:0,__lastkeyup:0,events:{},timeouts:{text:400,textarea:400}},$scope.options&&isObject($scope.options)||($scope.options={}),$scope.options.default_classes&&isObject($scope.options.default_classes)||($scope.options.default_classes=$scope.core.options.default_classes),$scope.options.default_styles&&isObject($scope.options.default_styles)||($scope.options.default_styles=$scope.core.options.default_styles),$scope.respObj={},!isNullUndefined($scope.response)&&isNullUndefined($scope.field.value)?$scope.field.value=$scope.response:!isNullUndefined($scope.field.value)&&isNullUndefined($scope.response)&&($scope.response=$scope.field.value),$scope.respObj.___initial=angular.copy($scope.response),$scope.field_template=angular.copy($scope.field),set_field($scope.field)&&(loadLibs($scope.field),setKeyPressEventFunctions(),$scope.field.setup="complete",$scope.$watch("respObj",function(){var e=angular.copy($scope.respObj[$scope.i]);if(isEmpty(e)||($scope.field.error=!1),$scope.field.swap&&"arrayinput"===$scope.field.type){$scope.response={};for(var t=0;t<e.length;t++)try{var a=e[t][$scope.field.swap.keyField];delete e[t][$scope.field.swap.keyField],$scope.field.swap.valueField?$scope.response[a]=e[t][$scope.field.swap.valueField]:$scope.response[a]=e[t]}catch(e){}}else"phone"===$scope.field.type&&"string"===$scope.field.responsetype?$scope.response=e.user_phone_code+"-"+e.user_phone:"date"===$scope.field.type?$scope.response=$filter("date")(e,"yyyy-MM-dd"):"time"===$scope.field.type?$scope.field.AddTime?$scope.response=$filter("date")(e,$scope.respObj.__12hour?"h:mm a":"H:mm"):$scope.response="":$scope.response=e;"function"==typeof $scope.options.onValueChange&&$scope.options.onValueChange($scope.field,$scope.response),"function"==typeof $scope.field.onChange&&$timeout(function(){$scope.field.onChange($scope.field,$scope.response,getOptions())},100),!0!==$scope.respObj.___changed&&isEqual($scope.respObj.___initial,$scope.response,!0)||("function"==typeof $scope.field.__callInlineSave&&$scope.field.__callInlineSave($scope.field),$scope.respObj.___changed=!0)},!0))}function autocomplete(){return{restrict:"E",template:'<div class="mdl-textfield mdl-js-textfield {{parentdivClassMain}} main-family" ng-hide="hideSearchBar && !searchOpen" ng-class="{\'is-invalid\': (isRequired && formname[fieldName].$invalid)}">\t<input class="mdl-textfield__input main-family {{inputClass}}" type="text" id="auto" ng-attr-placeholder="{{inputActualPlaceholder || undefined}}" ng-disabled="paDisabled" ng-model="searchText" ng-keyup="checkKeyUp($event)" ng-keydown="checkKeyDown($event)" ng-change="checkValueChange(); checkFraud()" ng-model-options=\'{ debounce: 200 }\'autocomplete="off" ng-blur=\'blurFn();\' ng-required="isRequired" name="{{fieldName}}" ng-disabled="{{paDisabled}}" ng-focus="focusFn()">\t<label class="mdl-textfield__label" for="auto">{{inputPlaceholder}}<span ng-if="required"> *</span></label>\t<span class="mdl-textfield__error">{{errorEmpty}}</span>\t<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate progress-bar-adjust" ng-show="isFetching"></div>\t<div class="suggestionContainer search-alignment mdl-shadow--4dp" ng-show="(suggestions.length>0 || (allowNew && searchText))" style="z-index:1000;margin-bottom:10px;max-height:{{suggestion_max_height*6}}px;overflow-y:auto;">\t\t<ul class="demo-list-icon mdl-list search-dropdown-adjust" ng-mouseenter="blurLock=true"  ng-mouseleave="blurLock=false">\t\t\t<li class="mdl-list__item search-bar-size font-12" style="min-height:30px;" ng-if="isFocus && !allowNew && (!suggestions || suggestions.length==0) && searchText"><div class="message-content left-alignment"><span>No result found</span></div></li>\t\t\t<li class="mdl-list__item search-bar-size font-12" style="cursor:pointer;min-height:{{suggestion_max_height}}px;" ng-repeat="suggestion in suggestions" ng-click="$parent.selectIt($index)" ng-mouseover="$parent.selectedIndex=$index" ng-class="{\'mdl-color--grey-100\' : $index === $parent.selectedIndex}">\t\t\t\t<div class="message-content left-alignment">\t\t\t\t\t<span ng-if="suggestion.html" ng-bind-html="suggestion.html"></span>\t\t\t\t\t<span ng-if="!suggestion.html" ng-bind="suggestion[name_key]"></span>\t\t\t\t</div>\t\t\t</li>\t\t\t<li ng-show="isFocus && allowNew && searchText && !searchMatched" class="mdl-list__item search-bar-size font-12" style="cursor:pointer;border-top:1px solid #f1f1f1;min-height:{{suggestion_max_height}}px;" ng-click="selectIt(\'new_item_add\')" ng-mouseover="selectedIndex=\'new_item_add\'" ng-class="{\'mdl-color--primary-light mdl-color-text--white\' : selectedIndex===\'new_item_add\'}">\t\t\t\t<div class="message-content left-alignment">\t\t\t\t\t<b>Add "{{searchText}}"</b>\t\t\t\t</div>\t\t\t</li>\t\t</ul>\t</div></div>',scope:{isChips:"@",asdataSource:"=",searchText:"=",selectedFinally:"=",inputPlaceholder:"@",inputActualPlaceholder:"@",inputClass:"@",paDisabled:"=",keyCreateChip:"&",removeLastChip:"&",triggerFunction:"&",onBlurFn:"&",restart:"=",isRequired:"=",fieldName:"@",errorEmpty:"=",formname:"=",parentdivClass:"@",filter:"@",resetIndex:"=?",allowNew:"=?",responsetype:"=?",response:"=?",required:"=?",extraoptions:"=?"},controller:"autocompleteController"}}function autocompleteController(e,t,a,i,o,n){function s(){function t(){if("string"===e.responsetype&&(e.responsetype="name"),!isNullUndefined(e.response))if("id"===e.responsetype){var t={onlycallback:!0,beforeloaded:!0};t[$]=e.response,h(function(t){t.length>0&&(t=t[0],e.selectedFinallyObj=t,e.searchText=t[w])},t)}else"name"===e.responsetype?(e.selectedFinallyObj={},e.selectedFinallyObj[$]=-1,e.selectedFinallyObj[w]=e.response,e.searchText=e.response):(e.selectedFinallyObj=e.response,e.searchText=e.response[w]);e.extraoptions.loaded=!0}if(e.asdataSource.fetchAllData&&e.asdataSource.url){var a=e.asdataSource.fetchAllData.limit>0?e.asdataSource.fetchAllData.limit:50,i=e.asdataSource.fetchAllData.limit_post_key?e.asdataSource.fetchAllData.limit_post_key:"limit",o=e.asdataSource.fetchAllData.url?e.asdataSource.fetchAllData.url:e.asdataSource.url;h(function(i){isArray(i)&&i.length<a&&(e.asdataSource.data=i,delete e.asdataSource.url),t()},{limit:a,limit_post_key:i,url:o,onlycallback:!0,beforeloaded:!0})}else t()}function r(){y=null,e.suggestions=[],e.selectedIndex=-1,e.selectedFinally=-1}function l(t){8===t.keyCode&&null===e.searchText&&e.removeLastChip()}function c(t){e.extraoptions.loaded&&angular.isDefined(e.suggestions)&&(27===t.keyCode?(e.selectedIndex=-1,e.suggestions=null):40===t.keyCode?(t.preventDefault(),"new_item_add"===e.selectedIndex?(d(0,1),e.selectedIndex=0):e.selectedIndex+1!==e.suggestions.length?(e.selectedIndex>=1&&d(e.suggestion_max_height),e.selectedIndex++):e.allowNew&&e.searchText?(d(e.suggestion_max_height),e.selectedIndex="new_item_add"):(d(0,1),e.selectedIndex=0)):38===t.keyCode?(t.preventDefault(),"new_item_add"===e.selectedIndex?(d(-1*e.suggestion_max_height),e.selectedIndex=e.suggestions.length-1):e.selectedIndex-1!=-1?(e.selectedIndex<=e.suggestions.length-2&&d(-1*e.suggestion_max_height),e.selectedIndex--):e.allowNew&&e.searchText?(d(e.suggestion_max_height*(e.suggestions.length+1),1),e.selectedIndex="new_item_add"):(d(e.suggestion_max_height*e.suggestions.length,1),e.selectedIndex=e.suggestions.length-1)):13===t.keyCode||9===t.keyCode?(-1!=e.selectedIndex?(t.preventDefault(),e.selectIt(e.selectedIndex)):0!==e.suggestions.length?(t.preventDefault(),e.selectIt(0)):""!==e.searchText.trim()&&e.isChips&&(t.preventDefault(),e.keyCreateChip({searchText:e.searchText})),e.isChips&&(e.searchText="",p())):39===t.keyCode?e.suggestions.length>0&&(e.searchText=e.suggestions[0][w]):188===t.keyCode||186===t.keyCode?e.isChips&&(t.preventDefault(),e.keyCreateChip({searchText:e.searchText}),e.searchText="",p()):8===t.keyCode?""===e.searchText&&(e.searchText=null,t.preventDefault()):e.searchMatched=!1)}function d(e,a){a?1==a&&t[0].querySelector(".suggestionContainer").scrollTo(0,e):t[0].querySelector(".suggestionContainer").scrollBy(0,e)}function p(){t[0].querySelector(".mdl-textfield__input").blur()}function u(){e.isFocus=!0,e.extraoptions.loaded&&!e.asdataSource.url&&e.asdataSource.data&&_(e.asdataSource.data)}function f(){!1===e.blurLock?(e.selectedFinallyObj&&e.selectedFinallyObj[w]===e.searchText||(e.searchText="",e.selectedFinallyObj={},e.selectedFinallyObj=void 0,b()),e.selectedIndex=-1,e.suggestions=null,e.isFocus=!1):n(function(){e.isFocus=!1},200),as_upgrade(20)}function m(){e.selectedFinally=-1}function g(){if(e.extraoptions.loaded)if(angular.isDefined(e.searchText)&&e.searchText){if(e.searchText.replace(/[^a-zA-Z0-9]/g,"").length>=1){if(!0===e.isFetching)return;e.isFetching=!0,h(function(e){_(e)})}}else e.reset.data(),u()}function _(t){if(y=t,e.suggestions=y,e.suggestions.length>0){for(var a=0;a<e.suggestions.length;a++)e.suggestions[a].html&&(e.suggestions[a].html=o.trustAsHtml(e.suggestions[a].html)),e.suggestions[a][w]&&e.searchText&&e.suggestions[a][w].toLowerCase()===e.searchText.toLowerCase()&&(e.searchMatched=!0);e.selectedIndex=0}}function h(t,o){if(e.extraoptions.loaded||o.beforeloaded)if(e.asdataSource.url){var n=o.url?o.url:e.asdataSource.url,s={url:n,method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}};if("function"==typeof e.asdataSource.paramdata?s.data=e.asdataSource.paramdata(e.searchText):o&&o[$]?s.data[$]=o[$]:e.extraoptions.search_key?s.data[e.extraoptions.search_key]=e.searchText.replace(/[^a-zA-Z0-9\@\.\_\- ]/g,""):s.data.searchtext=e.searchText.replace(/[^a-zA-Z0-9\@\.\_\- ]/g,""),o&&o.limit>0&&(!s.data||!s.data[r])){var r=o.limit_post_key?o.limit_post_key:"limit";s.data[r]=o.limit}a(s).success(function(a){o&&o.onlycallback||(e.isFetching=!1,e.suggestions=null,e.selectedIndex=-1),1==a.success&&t(a.data)})}else if(e.asdataSource.data){e.isFetching=!1;var l,c={};o&&o[$]?(c[$]=o[$],l=i("filter")(e.asdataSource.data,c,!0)):(c[w]=e.searchText,l=i("filter")(e.asdataSource.data,c)),t(l),e.selectedIndex=-1}else e.isFetching=!1,e.suggestions=null,e.selectedIndex=-1}function v(t){"new_item_add"===t?(e.selectedFinally=-1,e.selectedFinallyObj[$]=-1,e.selectedFinallyObj[w]=e.searchText,e.selectedIndex=t):(e.selectedFinally=e.suggestions[t][$],e.selectedFinallyObj=e.suggestions[t],e.selectedIndex=t,e.searchText=e.suggestions[t][w]),e.suggestions=null,e.blurLock=!1,b()}function b(){e.selectedFinallyObj?"id"===e.responsetype?e.response=e.selectedFinallyObj[$]:"name"===e.responsetype?e.response=e.selectedFinallyObj[w]:e.response=e.selectedFinallyObj:e.response=void 0,"function"==typeof e.triggerFunction&&e.triggerFunction({data:e.selectedFinallyObj}),e.isChips&&(e.searchText="",p()),as_upgrade(20)}e.reset=e.restart||{};var y;e.blurLock=!1,y=null,e.suggestions=[],e.isFocus=!1,e.reset.data=r,e.checkKeyUp=l,e.checkKeyDown=c,e.blurFn=f,e.checkFraud=m,e.checkValueChange=g,e.selectIt=v,e.focusFn=u,e.suggestion_max_height=36,e.searchMatched=!1;var $="id",w="name";isObject(e.extraoptions)||(e.extraoptions={}),function(){if(void 0==e.resetIndex&&(e.resetIndex=!0),e.resetIndex&&e.reset.data(),isNullUndefined(e.inputPlaceholder)&&(e.inputPlaceholder="Entity"),e.extraoptions.id_key&&($=e.extraoptions.id_key),e.extraoptions.name_key&&(w=e.extraoptions.name_key),e.id_key=$,e.name_key=w,e.parentdivClass&&e.parentdivClass.indexOf("mdl-textfield--floating-label")>-1&&e.extraoptions.remove_title&&(e.parentdivClass=e.parentdivClass.replace("mdl-textfield--floating-label","")),e.parentdivClassMain=angular.copy(e.parentdivClass),isArray(e.asdataSource.data))for(var t=0;t<e.asdataSource.data.length;t++)if(isScalar(e.asdataSource.data[t])){var a={};a[$]=t,a[w]=e.asdataSource.data[t].toString(),e.asdataSource.data[t]=a}s()}()}function Chips(){return{restrict:"E",scope:{asdataSource:"=",objectName:"@",triggerFunction:"&",allowNew:"=",maxChipsAllowed:"@",inputPlaceholder:"@",filter:"@",responsetype:"=?",response:"=?",required:"=?",extraoptions:"=?"},template:'<div style="position:relative;z-index:1;"><span ng-repeat="chip in chipsSelected" style="padding:2px 8px;" class="mdl-color--grey-300 name-chips">\t<span ng-class="{ \'chip-name-adjust\': profileImage }">{{chip[name_key]}}</span>\t<span ng-click="remove_chip($index)" style="padding:2px;position:relative;top:0px;font-size:12px;" class="cursor-pointer icon-clear mdl-color--grey-600 name-chip-cross"></span></span></div><autocomplete is-chips="true" asdata-source="asdataSource" filter="{{filter}}" search-text="searchedReceiver" trigger-function="add_chip(data)"    allow-new="allowNew" key-create-chip="create_new_chip(searchText)" remove-last-chip="remove_last_chip()"    selected-finally="idSelected" input-placeholder="{{inputPlaceholder}}" extraoptions="extraoptions" required="required" style="" ng-style="autocomplete_style"></autocomplete>',controller:"ChipsController"}}function ChipsController(e,t){function a(){for(var t=[],a=0;a<e.chipsSelected.length;a++)"id"===e.responsetype?t.push(e.chipsSelected[a][n]):"name"===e.responsetype?t.push(e.chipsSelected[a][s]):t.push(e.chipsSelected[a]);e.response=t,"function"==typeof e.triggerFunction&&e.triggerFunction({data:e.chipsSelected})}function i(){if(e.response)if("id"===e.responsetype)o(function(t){t.length>0&&(e.chipsSelected=t)},{ids:e.response});else if("name"===e.responsetype)for(var t=0;t<e.response.length;t++){var a={};a[n]=-1,a[s]=e.response[t],e.chipsSelected.push(a)}else e.chipsSelected=e.response}function o(a,i){if(e.asdataSource.url){var o={url:e.asdataSource.url,method:"POST",data:{},headers:{"Content-Type":"application/x-www-form-urlencoded"}};"function"==typeof e.asdataSource.paramdata?o.data=e.asdataSource.paramdata(i.searchtext):i&&i.ids?o.data.ids=i.ids:i&&i.searchtext&&(o.data.searchtext=i.searchtext.replace(/[^a-zA-Z0-9\@\.\_\- ]/g,"")),t(o).success(function(e){1==e.success&&a(e.data)})}else if(e.asdataSource.data){var r=[];if(i&&i.ids)r=$filter("filter")(e.asdataSource.data,function(e){return-1!==i.ids.indexOf(e[n])},!0);else if(i&&i.searchtext){var l={};l[s]=i.searchtext,r=$filter("filter")(e.asdataSource.data,l)}r&&r.length>0&&a(r)}}var n="id",s="name";isObject(e.extraoptions)||(e.extraoptions={}),function(){if(e.extraoptions.id_key&&(n=e.extraoptions.id_key),e.extraoptions.name_key&&(s=e.extraoptions.name_key),e.id_key=n,e.name_key=s,isArray(e.asdataSource.data))for(var t=0;t<e.asdataSource.data.length;t++)if(isScalar(e.asdataSource.data[t])){var o={};o[n]=t,o[s]=e.asdataSource.data[t].toString(),e.asdataSource.data[t]=o}angular.isUndefined(e.inputPlaceholder)&&(e.inputPlaceholder="Add "+e.objectName.toLowerCase()+"s"),e.searchedReceiver="",e.chipsSelected&&isArray(e.chipsSelected)||(e.chipsSelected=[]),e.autocomplete_style={},e.add_chip=function(t){if(console.log("DT",t),t){var i=!0;angular.isUndefined(e.chipsSelected)&&(e.chipsSelected=[]);for(var o=0;o<e.chipsSelected.length;o++)if(e.chipsSelected[o][s].toLowerCase()==t[s].toLowerCase()){try{snackbar_general(e.objectName+" already added",2500)}catch(e){}i=!1}if(e.maxChipsAllowed>0&&e.chipsSelected.length>=e.maxChipsAllowed){try{snackbar_general("Only "+e.maxChipsAllowed+" "+e.objectName+"(s) can be added",2500)}catch(e){}i=!1}i&&(t[s]=t[s],e.chipsSelected.push(t),e.searchedReceiver="",e.idSelected=-1,e.autocomplete_style={"margin-top":"-25px",display:"block"}),a()}},e.create_new_chip=function(t){if(e.allowNew){var a={};a[s]=t,a[n]=-1,e.add_chip(a)}},e.remove_chip=function(t){e.chipsSelected.splice(t,1),a(),0===e.chipsSelected.length&&(e.autocomplete_style={},as_upgrade(50))},e.remove_last_chip=function(){if(e.chipsSelected.length>0){var t=e.chipsSelected.length-1;e.remove_chip(t)}},i()}()}angular.module("as.core").directive("customfield",customfield).directive("autocomplete",autocomplete).controller("autocompleteController",autocompleteController).directive("chips",Chips).controller("ChipsController",ChipsController),customfieldController.$inject=["$injector","$http","$scope","$element","$rootScope","$sce","$timeout","customformservice","$filter","$ocLazyLoad"],autocompleteController.$inject=["$scope","$element","$http","$filter","$sce","$timeout"],ChipsController.$inject=["$scope","$http"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/customform/layout.html",scope:{options:"=",responses:"=?"},controller:t}}function t(e,t,a,i,o,n,s,r){function l(){return void 0!=e.options.layout&&-1!=e.core.layouts.indexOf(e.options.layout)||(e.options.layout=e.core.options.layout),c(),d(),void 0!=e.options.flow&&-1!=e.core.flows.indexOf(e.options.flow)&&e.options.layout==e.core.options.layout||(e.options.flow=e.core.options.flow),void 0===e.options.remove_title&&(e.options.remove_title=!1),isArray(e.options.steps)||(e.options.steps=[]),void 0===e.options.current_step&&(e.options.current_step=1),!!p()&&(e.options.refresh=function(t){for(var a in e.options.fields)e.options.fields[a].refresh();g(),e.options.onChange(),!0===t&&e.$apply()},e.options.reset=function(t){for(var a in e.options.fields)e.options.fields[a].reset();g(),e.options.onChange(),!0===t&&e.$apply()},!0)}function c(){isObject(e.options.styles)||(e.options.styles={});for(var t in e.core.options.styles)isNullUndefined(e.options.styles[t])&&(e.options.styles[t]=e.core.options.styles[t])}function d(){isObject(e.options.classes)||(e.options.classes={});for(var t in e.core.options.classes)isNullUndefined(e.options.classes[t])&&(e.options.classes[t]=e.core.options.classes[t])}function p(){var t=angular.copy(e.options.fields);if("[object Array]"!==Object.prototype.toString.call(t))return!1;if(0==t.length)return!1;e.options.fields=[];for(var a=0;a<t.length;a++){var i=t[a];if(i.index=a+1,!1===(i=u(i)))return!1;void 0!==i&&e.options.fields.push(i)}return!0}function u(t){var a=t.type;return-1!=e.core.fields.indexOf(a)&&(t.index=t.index+1,(void 0===t.id||e.fieldIDs.indexOf(t.id)>-1)&&(t.id="acf_"+e.core.options.index+"_field_"+t.index),!!f(t)&&(t.name=t.name.trim(),t.rkey=t.name,e.fieldNames.push(t.name.trim()),t&&void 0===t.remove_title&&(t.remove_title=e.options.remove_title),t=r.set_cell_class(t,e.options),e.options&&e.options.value&&!isNullUndefined(e.options.value[t.name])&&(e.responses[t.name]=angular.copy(e.options.value[t.name])),"hidden"===a||t.displayCondition||e.options.steps.length>1?(t.visibleFn=!0,t.isVisible=m(t)):t.visibleFn=!1,t.description=o.trustAsHtml(t.description),t))}function f(t){return!(e.fieldNames.indexOf(t.name.trim())>-1)||(console.error("Duplicate field 'name'",t),!1)}function m(t){return function(a,i){if(!a){if(void 0===i&&(i=e.options.current_step),e.options.steps.length>0&&-1===e.options.steps[i-1].indexOf(t.name))return!1;if("hidden"===t.type)return!1}if(t.displayCondition){var o=r.checkDisplayConditions(t.displayCondition,e.responses);return o&&as_upgrade(200),o}return!0}}function g(){for(var t={},a=0;a<e.options.fields.length;a++){var i=e.options.fields[a];if("[object Object]"===Object.prototype.toString.call(i)&&(!i.visibleFn||i.isVisible(!0))){var o=e.responses[i.rkey];isEmpty(o)||(t[i.rkey]=o)}}return e.options.responsedata=t,t}function _(){var a;return(a=t[0].asparent("multistepform"))?angular.element(a.firstChild).scope().steps:(a=t[0].asparent("jsonhandler"))?angular.element(a.firstChild).scope().options:e.options}function h(t,a){e.responses[t.rkey]=a,g(),"function"==typeof e.options.onChange&&e.options.onChange(t,a)}function v(t){for(var a=0;a<e.options.fields.length;a++){var o=e.options.fields[a];if(o.error=!1,!o.visibleFn||o.isVisible(t)){var n=e.responses[o.rkey];if("file-input-element"==o.type&&!isNaN(o.uploadsInProgress)&&0!=o.uploadsInProgress)return e.formSubmitting=!1,i(function(){o.error="The file upload is in progress.",e.info.err="Please wait till file upload is finished",snackbar_general("Please wait till file upload is finished",2500)},100),!1;if(o.required&&isEmpty(n))return e.formSubmitting=!1,i(function(){o.error="The above information is required.",e.info.err="Please fill the required details"},100),!1}}return!0}function b(t){for(var a=0,i=0;i<e.options.fields.length;i++){var o=e.options.fields[i];"[object Object]"===Object.prototype.toString.call(o)&&(o.visibleFn&&!o.isVisible(!1,t)||(a+=1))}return a}function y(){j();for(var t=e.options.current_step-1;t>1&&!(b(t)>0);)t-=1;t>=1&&(e.options.current_step=t),e.options.isNextButtonVisible=!0}function $(){if(j(),v()){var t=e.options.current_step+1;if(t>e.options.steps.length)return void w();for(;t<=e.options.steps.length;){if(b(t)>0){e.options.current_step=t;break}if(t==e.options.steps.length){w();break}t+=1}}}function w(){j(),e.formSubmitting=!0,v(!0)&&e.options.onsubmit&&r.submit(e.options.onsubmit,g(),S,C,_())}function S(){e.formSubmitting=!1,e.options.successmsg?e.info.successmsg=e.options.successmsg:e.info.successmsg="Information is successfully updated","function"==typeof e.options.callback&&e.options.callback(e.options.responsedata)}function C(t){t||(t="There is something wrong, Please fill all required fields."),e.formSubmitting=!1,i(function(){e.info.err=t},100)}function j(){e.info.err=!1,e.info.successmsg=!1}if(void 0==window.acf&&(window.acf={}),void 0==window.acf.index?window.acf.index=1:window.acf.index=window.acf.index+1,!isObject(e.options))return!1;!function(){function t(e){e||(e=0),e>=20||setTimeout(function(){as_upgrade(1),t(e+1)},500)}e.core={},e.core.options={index:window.acf.index,title:"",layout:"1-column",flow:"top-bottom",classes:{div:"padding-tb-24 padding-lr-15"},styles:{}},e.core.layouts=["1-column","2-column","3-column"],e.core.flows=["left-right","top-bottom"],e.core.fields=["text","textarea","password","checkbox","checkboxes","radio","dropdown","hidden","date","time","phone","autocomplete","paAutocomplete","file-input-element","arrayinput","rating"],isObject(e.responses)||(e.responses={}),e.fieldIDs=[],e.fieldNames=[],l()&&(e.options.getResponses=g),e.info={err:!1,successmsg:!1},e.formSubmitting=!1,e.onFormSubmit=w,e.onPreviousClick=y,e.onNextClick=$,e.options.onValueChange=h,e.options.validateForm=v,e.options.show_success_msg=S,e.options.show_error_msg=C,t()}()}angular.module("as.core").directive("customform",e),t.$inject=["$scope","$element","$rootScope","$timeout","$sce","$http","$ocLazyLoad","customformservice"]}(),function(){"use strict";function jsonhandler(){return{restrict:"EA",templateUrl:"./templates/directives/customform/jsonhandler.html",scope:{options:"=?"},controller:jsonhandlerController}}function jsonhandlerController($scope,$element,$timeout,$http,customformservice){function activate(){if(checkFields()){window.innerWidth<767&&($scope.input.layout="top-bottom"),isNullUndefined($scope.input.active_category)&&($scope.input.active_category=0),$timeout(function(){try{angular.element($element[0].querySelectorAll(".mdl-tabs__tab")[$scope.input.active_category]).addClass("is-active"),angular.element($element[0].querySelectorAll(".mdl-tabs__panel")[$scope.input.active_category]).addClass("is-active")}catch(e){console.log(e)}},200),$scope.styles=isObject($scope.input.styles)?$scope.input.styles:{},
$scope.styles.div||!1===$scope.input.border||($scope.styles.div="border:1px solid #ccc;");for(var e=0;e<$scope.input.categories.length;e++){for(var t=$scope.input.categories[e],a={layout:"2-column",remove_title:!0,fields:[]},i=0;i<t.fields.length;i++){var o=$scope.input.fields[t.fields[i]];o.name||(o.name=t.fields[i]),o.json_position||(o.json_position="root."+o.name);try{var n=o.json_position;if(0===n.indexOf("root.")&&(n=n.substr(5)),!isEmpty(o.default)&&-1===n.indexOf("eval(")){n=n.split(".");for(var s=$scope.input.default_response,r=0;r<n.length;r++)r<n.length-1?(s[n[r]]||(s[n[r]]={}),s=s[n[r]]):s[n[r]]=o.default}var l=input_value(o.name);isEmpty(l)?isEmpty(o.default)||(o.value=o.default):o.value="object"==typeof l?l:l.toString()}catch(e){console.log(e)}a.fields.push(o)}if($scope.input.layout&&(a.layout=$scope.input.layout),!a.cancel_action&&$scope.input.cancel_action&&(a.cancel_action=$scope.input.cancel_action),!a.submit_text&&$scope.input.submit_text&&(a.submit_text=$scope.input.submit_text),!a.title&&$scope.input.title&&(a.title=$scope.input.title),t.customformoptions)for(var c in t.customformoptions)a[c]=t.customformoptions[c];!a.onsubmit||a.onsubmit.constructor!==Array&&"function"!=typeof a.onsubmit?!$scope.input.onsubmit||$scope.input.onsubmit.constructor!==Array&&"function"!=typeof $scope.input.onsubmit?a.onsubmit=onsubmitFn(a,t,function(e){return!isEmpty(e)}):a.onsubmit=onsubmitFn(a,t,$scope.input.onsubmit):a.onsubmit=onsubmitFn(a,t,a.onsubmit,!0),a.onChange=function(){updateResponses(),"function"==typeof $scope.input.onChange&&$scope.input.onChange($scope.input.responses)},t.formconfig=a,$scope.input.categories[e]=t}isEmptyDefaultResponse=isEmpty($scope.input.default_response),as_upgrade(200)}}function onsubmitFn(e,t,a,i){return function(o){if(checkValidations()){if(i)var n=e.getResponses();else var n=getResponses();return customformservice.submit(a,n,function(){e.show_success_msg(),"function"==typeof $scope.input.callback&&$scope.input.callback($scope.input.responses,t)},function(t){e.show_error_msg(t)})}return!0}}function refresh(){for(var e=0;e<$scope.input.categories.length;e++){$scope.input.categories[e].formconfig.refresh()}$timeout(function(){$scope.$apply(),$timeout(function(){updateResponses()},100)},100)}function reset(){for(var e=0;e<$scope.input.categories.length;e++){$scope.input.categories[e].formconfig.reset()}$timeout(function(){$scope.$apply(),$timeout(function(){updateResponses()},100)},100)}function onCategoryChange(e){$scope.input.refreshOnCategoryChange?refresh():$scope.input.resetOnCategoryChange&&reset(),"function"==typeof $scope.input.onCategoryChange&&$scope.input.onCategoryChange(e,$scope.input),$scope.input.active_category=e}function checkFields(){if(!$scope.input.fields)return!1;if("[object Object]"===Object.prototype.toString.call($scope.input.fields))return!0;if("[object Array]"!==Object.prototype.toString.call($scope.input.fields))return!1;var e=angular.copy($scope.input.fields);$scope.input.fields={};for(var t in e)e[t].name&&($scope.input.fields[e[t].name]=e[t]);return!0}function getResponses(){return updateResponses()}function updateResponses(){$scope.input.responses=angular.copy($scope.input.initial_value);for(var e=0;e<$scope.input.categories.length;e++)for(var t=$scope.input.categories[e],a=0;a<t.fields.length;a++){var i=t.fields[a];$scope.input.fields[i];if(t.formconfig&&t.formconfig.responsedata&&!isNullUndefined(t.formconfig.responsedata[i]))var o=$scope.input.sanitizeField?sanitizeField(t.formconfig.responsedata[i]):t.formconfig.responsedata[i];else var o=void 0;input_value(i,o,1)}return isEmptyDefaultResponse||!0!==isEqual($scope.input.default_response,$scope.input.responses)||($scope.input.responses=angular.copy($scope.input.initial_value)),isEmpty($scope.input.responses,!0)&&($scope.input.responses=""),$scope.input.responses}function sanitizeField(e){return"true"===e||"false"!==e&&(!0===/^\d+$/.test(e)?parseInt(e):e)}function input_value(field_name,value,set){var field=$scope.input.fields[field_name];if(!set)for(var i=0;i<$scope.input.categories.length;i++){var cat=$scope.input.categories[i];if(cat.fields.indexOf(field_name)>-1){if(cat.formconfig&&cat.formconfig.responsedata&&cat.formconfig.responsedata[field_name])return cat.formconfig.responsedata[field_name];break}}for(var json_positions=field.json_position.split("."),iterator=$scope.input.responses,k=0;k<json_positions.length;k++)if(0!==k||"root"!==json_positions[k]){if(!isEmpty(iterator)&&0===json_positions[k].indexOf("eval(")){var evalstr=json_positions[k].substring(5,json_positions[k].length-1);try{if(json_positions[k]=eval("input_value('"+evalstr+"')"),!json_positions[k]&&0!==json_positions[k]&&"0"!==json_positions[k])return}catch(e){return}}if(k==json_positions.length-1){if(!set)return iterator[json_positions[k]];isEmpty(value)?isNullUndefined(iterator[json_positions[k]])||delete iterator[json_positions[k]]:iterator[json_positions[k]]=value}else isNullUndefined(iterator)||((isNullUndefined(iterator[json_positions[k]])||"[object Object]"!==Object.prototype.toString.call(iterator[json_positions[k]]))&&(iterator[json_positions[k]]={}),iterator=iterator[json_positions[k]])}}function checkValidations(){for(var e=0;e<$scope.input.categories.length;e++){if(!$scope.input.categories[e].formconfig.validateForm(!0))return document.getElementById("ct"+e).click(),!1}return!0}$scope.input={},$scope.options?$scope.input=$scope.options:window.options&&($scope.input=window.options),$scope.input.getResponses=getResponses,$scope.input.value?$scope.input.initial_value=$scope.input.value:$scope.input.initial_value={},$scope.input.responses=angular.copy($scope.input.initial_value),$scope.getResponses=getResponses,$scope.input.default_response={};var isEmptyDefaultResponse=!0;$scope.onCategoryChange=onCategoryChange,activate()}angular.module("as.core").directive("jsonhandler",jsonhandler),jsonhandlerController.$inject=["$scope","$element","$timeout","$http","customformservice"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/advisory.html?",scope:{id:"=?",msg:"=?",communityAdvisory:"=?"},controller:t}}function t(e,t,a){function i(){try{var t=a.app_data.config.meta[30];void 0==t&&(t={})}catch(e){var t={}}"string"==typeof t[e.communityAdvisory]&&(e.msg=t[e.communityAdvisory],e.showAdvisory=!0)}e.advisory=findAncestorByClass(t[0],"advisory"),void 0==a.showAdvisory&&a.showAdvisory,function(){e.showAdvisory=!1,"string"==typeof e.id&&""!=e.id.trim()&&!1===a.showAdvisory[e.id]||("string"==typeof e.communityAdvisory&&""!=e.communityAdvisory.trim()?i():"string"==typeof e.msg&&""!=e.msg.trim()?e.showAdvisory=!0:(e.communityAdvisory="default",i()),!1===e.showAdvisory&&null!=e.advisory&&(e.advisory.style.display="none"))}(),e.cancel=function(){e.showAdvisory=!1,null!=e.advisory&&(e.advisory.style.display="none"),"string"==typeof e.id&&""!=e.id.trim()&&(a.showAdvisory[e.id]=!1)}}angular.module("as.core").directive("advisory",e),t.$inject=["$scope","$element","$rootScope"]}(),function(){"use strict";function e(e,t,a,i,o){return{restrict:"A",scope:{callback:"&?"},compile:function(e,a){var n=e[0].innerHTML;return e.html(""),function(e,a,s){function r(e){return window.file_base+e+window.jsVersion}function l(){i.enter(o(n)(a.scope()),a,null),"function"==typeof e.callback&&e.callback()}var c=a.attr("as-lazy-load");if("uitreelibs"===c)c={name:"ui.tree",files:["./libs/uitree/dist/angular-ui-tree.min.js","./libs/uitree/dist/angular-ui-tree.min.css"]};else{var d=c.replace(/\'/g,'"');try{d=JSON.parse(d),c=d}catch(e){}}if(isString(c))t.isLoaded(c)?l():t.load(r(c)).then(function(e){l()});else if(isObject(c)&&c.files&&isArray(c.files))if(t.isLoaded(c.name)||t.isLoaded(c.files))l();else{for(var p=[],u=0;u<c.files.length;u++)isString(c.files[u])&&p.push(r(c.files[u]));p.length>0?(c.files=p,t.load(c).then(function(e){l()})):l()}else if(isArray(c)){for(var p=[],u=0;u<c.length;u++)isString(c[u])&&p.push(r(c[u]));p.length>0&&!t.isLoaded(p)?t.load(p).then(function(e){l()}):l()}else l()}}}}angular.module("as.core").directive("asLazyLoad",e),e.$inject=["$rootScope","$ocLazyLoad","$parse","$animate","$compile"]}(),function(){"use strict";function e(){return{restrict:"AE",templateUrl:"./templates/directives/dialcodes.html?",scope:{selected:"=",disabled:"=?"},controller:t}}function t(e,t,a,i){function o(){return!(void 0===e.selected||null===e.selected||0==e.selected||"0"==e.selected)}e.dialCodeInitialValueSet=!1,e.dialcodes=a.getDialCodes(),e.dialcodes.sort(function(e,t){var a=e.code.toUpperCase(),i=t.code.toUpperCase();return a<i?-1:a>i?1:0}),function(){if(!0===e.dialCodeInitialValueSet)return!1;o()?(e.dialCodeInitialValueSet=!0,e.selected=e.selected.toString(),e.dialcodes.unshift({name:"",dial_code:e.selected,code:""})):(e.dialCodeInitialValueSet=!0,e.dialcodes.unshift({name:"US / Canada",dial_code:"1",code:"US / Canada"}),e.dialcodes.unshift({name:"India",dial_code:"91",code:"India"}))}()}angular.module("as.core").directive("dialCodes",e),t.$inject=["$scope","$http","phonenumber","$timeout"]}(),function(){"use strict";function e(e,a,i,o){function n(t,i,o){function n(o){function n(a){try{i.replaceWith(e(a)(t)),as_upgrade(10)}catch(e){}}function s(e){}o=o||"md";var r="./templates/modals/material/signup_"+o+".html";a.get(r).success(n).error(s)}t.$watch(o.tname,function(e){n(e)})}return{restrict:"E",scope:{links:"=",currentCid:"@",parentCid:"@",userSource:"@",thirdStepSource:"@",signuptitle:"@",tname:"@",tconfig:"=?"},controller:t,link:n}}function t(e,t,a,i,o,n,s,r,l,c){function d(e,t){function a(e){t(e)}var i={email:e};l.postDataCall("./signuser/emailValidate",i,a)}function p(){var t;t=window.platform?o.app_data.same_com_log?o.app_data.cid:-1:get_cookie("c_i");var a=(o.app_data.data.baseState.trim()+"/").replace(/^\//,""),n=s.redirect,r=n;r=void 0!==r?r:"",!platform&&r.indexOf("%")>-1&&(r=decodeURIComponent(r)),""!=r&&void 0!=r&&"undefined"!=r||(r="noticeboard",45==t&&(r="prompt")),platform||""==r||-1!=r.indexOf("http://")||-1!=r.indexOf("https://")||(r=r.replace(/^\./,"").replace(/^\//,""),0==o.app_data.data.other_domain&&""!=o.app_data.data.parentBaseState&&0!==r.indexOf(o.app_data.data.parentBaseState)&&(r=o.app_base+a+o.app_data.data.parentBaseState+"/"+r));var l=get_cookie("mul").split("%2C");get_cookie("signup_cid");!(e.parentCid>0)&&e.currentCid>0&&(e.parentCid=e.currentCid);var d=r;if(-1==d.indexOf("http://")&&-1==d.indexOf("https://")){if(r=r.replace(/^\./,"").replace(/^\//,""),0==o.app_data.data.other_domain&&""!=o.app_data.data.parentBaseState&&0===r.indexOf(o.app_data.data.parentBaseState)){var p=r.split("/");p.splice(0,1),r=p.join("/")}d=o.app_base+a+r}var u=e.info.connection_with?e.info.connection_with:"Unknown";e.parentCid>0?e.parentCid==t?(c.event("Account,Login,"+u+",10"),""!==r&&null!==r?platform?i.url(file_base_rel+r).replace():window.location.href=d:platform?i.url(file_base_rel+"profile/compulsory").replace():window.location.href=d):(c.event("Account,SignUp,"+u+",20"),""!==r&&null!==r?platform?i.url(file_base_rel+"switch?signup="+e.currentCid+"&redirect="+n+"&source="+e.thirdStepSource).replace():window.location.href=o.app_base+a+"switch?signup="+e.currentCid+"&redirect="+n+"&source="+e.thirdStepSource:platform?i.url(file_base_rel+"switch?signup="+e.currentCid+"&source="+e.thirdStepSource).replace():window.location.href=o.app_base+a+"switch?signup="+e.currentCid+"&source="+e.thirdStepSource):1==l.length&&l[0]>0?(c.event("Account,Login,"+u+",10"),""!==r&&null!==r?window.location.assign(d):window.location.href=o.app_base+a+"profile/compulsory"):(c.event("Account,Login,"+u+",10"),window.location.href=""!==r&&null!==r?o.app_base+a+"switch?redirect="+n+"&source="+e.thirdStepSource:o.app_base+a+"switch?source="+e.thirdStepSource)}e.tconfig=angular.isDefined(e.tconfig)?e.tconfig:{},e.info={connection_with:null},e.formData={},as_upgrade(10),delete_cookie("signup_cid"),delete_cookie("signup_child_cid"),!(e.parentCid>0)&&e.currentCid>0&&(e.parentCid=e.currentCid),e.parentCid>0&&(setCookie("signup_cid",e.parentCid),setCookie("signup_child_cid",e.currentCid)),angular.isDefined(e.links)||t({url:"./institutes/getSocialSignupUrls/1",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.links=t}),e.hideDetailsForm=function(){e.showSignUpSection=!1,e.showLoginSection=!1,e.customMessageScreen=!1},e.showLoginForm=function(){e.showSignUpSection=!1,e.showLoginSection=!0,as_upgrade(10)},e.checkAuthenticity=function(t){e.pressedSubmit=!0,t.$invalid||(e.verifyingEmail=!0,d(e.formData.email,function(t){if(e.verifyingEmail=!1,angular.isDefined(t.uid)&&t.anyCid)if("expired_link"==e.userSource)e.send_login_link();else{if(t.pwd)e.showLoginSection=!0;else{var a="Instructions to set password are sent to your email. (Don't forget to check spam)";t.socialData.any?(t.socialData.fb?a="You have previously used facebook to login to your account. <br><br>Please click 'BACK' button and then click on 'CONNECT WITH FACEBOOK' to login":t.socialData.google?a="You have previously used google+ to login to your account. <br><br>Please click 'BACK' button and then click on 'CONNECT WITH GOOGLE+' to login":t.socialData.linkedin&&(a="You have previously used linkedin to login to your account.<br> <Br>Please click 'BACK' button and then click on 'CONNECT WITH LINKEDIN' to login"),e.customMessage=a,e.customMessageScreen=!0):(a="Your profile is created by our institute with email "+e.formData.email+", but you have not set a password to access your account. We have just sent you an email to set a new password. You can either set a new password or click BACK button and conect with facebook/google/linkedin to access.",e.showForgotToast(a))}as_upgrade(10)}else e.showSignUpSection=!0,as_upgrade(10)}))},e.social_signup=function(a){function i(e){s.executeScript({code:"window.token"},n)}function n(e){console.log(e),null!=e[0]&&(s.removeEventListener("loadstop",i),s.close(),e=e[0],t.get("./login/auto?encParam="+e).success(function(e){window.callParentLoggedIn()}))}e.info.connection_with="fb"==a?"Facebook":"gPlus"==a?"GooglePlus":"ld"==a?"LinkedIn":"Unknown";var s=640,r=screen.width/2-s/2,l=screen.height/2-245;platform?(s=cordova.InAppBrowser.open(o.app_data.main_base_url+"social_signup/odenr_xwalk?source="+a+"&cid="+o.app_data.cid,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top="+l+", left="+r+", width="+s+", height=490"),s.addEventListener("loadstop",i)):s=window.open(e.links[a],"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top="+l+", left="+r+", width="+s+", height=490")};e.form_submitted=!1,e.validationFirstStep=function(a,i){e.isFetching=!0,e.form_submitted=!0,e.non_match_pass=!1,e.formBasic=i,d(e.formData.email,function(a){if(angular.isDefined(a.uid)&&a.anyCid?e.emailFlag=!0:e.emailFlag=!1,e.formBasic.$invalid||e.emailFlag)return e.button1Clicked=!0,void(e.isFetching=!1);if(e.formData.password!=e.formData.repassword)return e.non_match_pass=!0,void(e.isFetching=!1);e.isFetching=!0;var i=(o.app_data.data.baseState.trim()+"/").replace(/^\//,"");t({url:"./signuser/afterFirstStep",method:"POST",data:{email:e.formData.email,password:e.formData.password,firstname:e.formData.fname,lastname:e.formData.lname,saveSource:e.userSource},headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"}}).success(function(t){if(1==t.success){e.info.connection_with="Password",c.event("Account,SignUp,Password,15");var a=s.redirect;a=encodeURIComponent(a),console.log(a),""!==a&&null!==a&&"undefined"!==a&&void 0!==a?platform?r.setConfig(o.app_data.cid,!0,function(){r.setup(function(){n.go("inapp.switch",{signup:e.currentCid,redirect:a,source:e.thirdStepSource})})}):window.location.href="./"+i+"switch?signup="+e.currentCid+"&redirect="+a+"&source="+e.thirdStepSource:platform?r.setConfig(o.app_data.cid,!0,function(){r.setup(function(){n.go("inapp.switch",{signup:e.currentCid,source:e.thirdStepSource})})}):window.location.href="./"+i+"switch?signup="+e.currentCid+"&source="+e.thirdStepSource}else-10==t.success?(e.isFetching=!1,e.emailFlag=!0):-9==t.success?(e.isFetching=!1,alert("You are already loggedin")):e.isFetching=!1})})},e.showForgotToast=function(a,i){if(""===e.formData.email||null===e.formData.email)snackbar_general("Please enter your valid email",2500);else{e.forgot_fetching=!0;var o=s.redirect,n=encodeURIComponent(o),r={email:e.formData.email,cid:e.parentCid,setPassword:i};"undefined"!=n&&void 0!=n&&""!=n&&(r.redirect=n),t({url:"./changepassword/request",method:"POST",data:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){if(e.forgot_fetching=!1,"undefined"!=t.success)if(1==t.success)snackbar_general("Instructions to set password are sent to your email. (Don't forget to check spam)",2500),angular.isDefined(a)&&""!=a&&(e.customMessage=a,e.customMessageScreen=!0);else if("undefined"!=t.message){t.message;snackbar_general(t.message,2500)}})}},e.send_login_link=function(){""===e.formData.email||null===e.formData.email?snackbar_general("Please enter your valid email",2500):(e.sending_link=!0,t({url:"./login/autoLoginMail",method:"POST",data:{email:e.formData.email,cid:o.app_data.cid,redirectPath:encodeURIComponent(s.redirect)},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.login_method=2,e.sending_link=!1,0===t.success?snackbar_general("Your email id is not registered with us. Try signing up.",2500):1==t.success&&(c.event("Account,Requested,Auto Login Link,1"),snackbar_general("We have sent you an email with login link. Please check your mailbox. Don't forget to check spam folder.",2500))}))},e.disablelogin=!1,e.loginNow=function(){e.disablelogin||(e.disablelogin=!0,t({url:"./login/loginUser",method:"POST",data:{email:e.formData.email,password:e.formData.login_password,force_signup_cid:e.parentCid},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){if(1==t.success)e.disablelogin=!0,e.info.connection_with="Password",callParentLoggedIn();else{if(e.disablelogin=!1,"deleted"==t.error)return void n.go("inapp.user_deleted");snackbar_general("Please Check Email id/password")}}))},window.callParentError=function(e){if(console.log("callParentError","error:",e),e.deleted)return void n.go("inapp.user_deleted");void 0!==Raven&&Raven.captureException(new Error("window.callParentError failed!"),{extra:{error:e}})},window.callParentLoggedIn=function(){r.setConfig(o.app_data.cid,!0,function(){o.app_data=appData.data,r.setup(p)})}}angular.module("as.core").directive("signupMd",e),e.$inject=["$compile","$http","$templateCache","$parse"],t.$inject=["$scope","$http","$window","$location","$rootScope","$state","$stateParams","mobile","sidetopHttp","analytics"]}(),function(){"use strict";function e(e,t){function a(a,i,o,n){function s(){e.bind(i,{start:function(e,t){console.log(e),d=e.x,u=window.getComputedStyle(i[0]).width.replace("px",""),u=parseInt(u),p=!(u-d>30)},move:function(e,t){console.log("."),p&&d-e.x<c&&l.css("transform","translateX(-"+(d-e.x)+"px)")},end:function(e,t){console.log("end",c/2,d-e.x),c/2>d-e.x?l.css("transform","translateX(0px)"):p&&l.css("transform","translateX(-"+c+"px)"),p=!0,d=0},cancel:function(e){}},r)}console.log("swipyyyyyyyyy");var r=["touch","mouse"],l=angular.element(document.getElementById(a.menu));console.log(a.menu,l,document.getElementById(a.menu));var c=0;if(0===l.length||l.length>1)return void t(function(){l=angular.element(document.getElementById(a.menu)),console.log(a.menu,l,document.getElementById(a.menu)),0===l.length||l.length>1||(c=window.getComputedStyle(l[0]).width.replace("px",""),c=parseInt(c),s())},1e3);c=window.getComputedStyle(l[0]).width.replace("px",""),c=parseInt(c),s();var d=0,p=!0;i=angular.element(document.body);var u=window.getComputedStyle(i[0]).width.replace("px","");u=parseInt(u)}return{restrict:"A",scope:{menu:"@"},link:a}}angular.module("as.core").directive("menuSwipe",e),e.$inject=["$swipe","$timeout"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/profileinfoforms.html",scope:{form:"=",options:"=?"},controller:t}}function t(e,t,a,i,o){function n(t,a){if(!e.form.submitted)return!1;e.form.submitted=!1,e.form.submitClicked[e.form.formindex]=1,e.successCallback=t,e.errorCallback=a,e.submit(!0)}function s(t){1==t.success?"function"==typeof e.form.xhrSuccessCallback?e.form.xhrSuccessCallback(t):"function"==typeof e.successCallback&&e.successCallback(t):"function"==typeof e.form.xhrErrorCallback?e.form.xhrErrorCallback(t):"function"==typeof e.errorCallback&&e.errorCallback(t)}console.log("profileInfoFormsController"),!isNullUndefined(e.options)&&isObject(e.options)||(e.options={}),isObject(e.form)||(e.form={}),e.form.submitaction=n,e.form.details=[],e.form.submitClicked={},e.form.formindex=-1,e.formData={},e.isArray=angular.isArray;var r="signup_info";void 0!==e.form.infoType&&e.form.infoType.constructor===String&&(r=e.form.infoType),e.infotype=r,e.userid=e.form.userid,e.submitcallback=s;var l=function(){};"function"==typeof e.options.onload?l=e.options.onload:"function"==typeof e.form.onload&&(l=e.form.onload),e.options.onload=function(){e.form.loadstatus=2,e.form.final=!0,l()},as_upgrade(100)}angular.module("as.core").directive("profileinfoforms",e),t.$inject=["$scope","$http","$rootScope","$ocLazyLoad","phonenumber"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/rednotice.html?",scope:{msg:"=?"},controller:t}}function t(e,t,a,i){function o(){if(t.showRedNotice&&angular.isDefined(t.app_data.logged_user_roles)&&t.app_data.logged_user_roles.length>0&&(t.app_data.roles.indexOf(1)>-1||t.app_data.roles.indexOf(2)>-1)){var a=t.app_data.logged_user_roles[0].department,i=t.app_data.logged_user_roles[0].department_id,o=t.app_data.logged_user_roles[0].degree,n=t.app_data.logged_user_roles[0].degree_id,s=t.app_data.logged_user_roles[0].start,r=t.app_data.logged_user_roles[0].end,l=[];try{var c=t.app_data.config.meta[29];void 0==c&&(c={})}catch(e){var c={}}if(1!=c.degree&&e.degrees.length>0&&(n>0&&"NA"!=o.trim()||l.push("degree")),1!=c.department&&e.departments.length>0&&(i>0&&"NA"!=a.trim()||l.push("course/department")),1==c.yoj||s>0||l.push("year of joining"),1==c.yop||r>0||l.push("year of graduation"),l.length>0&&t.app_data.same_com_log){e.showMsg=!0;var d=l.join(", "),p="an alumnus";t.app_data.roles.indexOf(1)>-1&&(p="a student"),e.msg="Your profile needs to be complete for the admin to verify you as "+p+'. Please <a href="'+t.app_data.data.baseState+'/settings"><b>click here</b></a> to update your '+d+"."}}}function n(t){void 0!=t.data&&t.data.length>0&&(e.departments=t.data),a.postDataCall("./signuser/degreesGet/1",{id:e.cid},s)}function s(t){void 0!=t.data&&t.data.length>0&&(e.degrees=t.data),o()}void 0==t.showRedNotice&&(t.showRedNotice=!0),e.showMsg=!1,e.departments=[],e.degrees=[],e.cid=t.app_data.cid;try{t.app_data.logged_user_roles[0].sub_cid>0&&(e.cid=t.app_data.logged_user_roles[0].sub_cid)}catch(e){}void 0==e.msg||""==e.msg.trim()?a.postDataCall("./signuser/departmentGet/1",{id:e.cid},n):""!=e.msg.trim()&&t.showRedNotice&&(e.showMsg=!0),e.cancel=function(){e.showMsg=!1,t.showRedNotice=!1}}angular.module("as.core").directive("rednotice",e),t.$inject=["$scope","$rootScope","sidetopHttp","$timeout"]}(),function(){"use strict";function e(e){function t(t,a,i,o){t.customClasses=angular.isDefined(i.customClasses)?i.customClasses:"",t.customStyles=angular.isDefined(i.customStyles)?i.customStyles:"",t.isStateLoading=!1,e.$on("$stateChangeStart",function(e,a,i,o,n){t.isStateLoading=!0}),e.$on("$stateChangeSuccess",function(){t.isStateLoading=!1}),e.$on("$stateChangeError",function(){t.isStateLoading=!1}),as_upgrade(100),as_upgrade(600),as_upgrade(1200)}return{restrict:"EA",template:'<div ng-show="isStateLoading" class="loading-indicator {{customClasses}}" style="{{customStyles}}"><div id="p2" class="mdl-progress maximize-width mdl-js-progress mdl-progress__indeterminate"></div></div>',link:t,replace:!0}}angular.module("as.core").directive("stateChange",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,a,i){return{restrict:"E",templateUrl:"./templates/directives/staticpage.html",scope:{id:"="},controller:t}}function t(e,t,a){e.content="",e.loading=!0,t.post("./institutes/page_api/"+e.id).success(function(t){angular.isDefined(t.data)&&angular.isDefined(t.data.content)&&(e.content=a.trustAsHtml(t.data.content)),e.loading=!1}).error(function(){e.loading=!1})}angular.module("as.core").directive("staticPage",e),e.$inject=["$rootScope","$timeout","$stateParams"],t.$inject=["$scope","$http","$sce"]}(),function(){"use strict";function e(e,t,a,i,o){function n(n,s,r,l){function c(i,o){angular.isDefined(o.params)&&t(function(){var t=angular.isDefined(o.params.pageTitle)?o.params.pageTitle:null;if("[object String]"===Object.prototype.toString.call(t))return s.text(t),void d(i,o);if("[object Object]"===Object.prototype.toString.call(t)&&void 0!==t.option){if(void 0!==e.app_data.config.lingo[t.option])return s.text(e.app_data.config.lingo[t.option]),void d(i,o);if(void 0!==t.fallback)return s.text(t.fallback),void d(i,o)}if(angular.isDefined(a.page_title)&&"[object String]"===Object.prototype.toString.call(a.page_title))return s.text(a.page_title),a.page_title=null,void d(i,o);s.text("AlmaShines"),d(i,o)},0,!1)}function d(t,a){console.log("L53","event:",t,"toState:",a);var n=o.path(),s=""!==e.app_data.data.baseState&&e.app_data.data.baseState;s&&-1!=n.indexOf(s+"/")&&(n=n.replace(s+"/",""));var r=n;void 0!=a.params.virtualUrl&&(n=a.params.virtualUrl),"/"!=n[0]&&(n="/"+n),i.ga("set","page",n),i.ga("set","dimension4",r),i.ga("set","location",o.absUrl()),i.ga("set","title",document.title),i.ga("send","pageview")}e.$on("$stateChangeSuccess",c)}return{restrict:"A",link:n}}angular.module("as.core").directive("asUpdateTitle",e),e.$inject=["$rootScope","$timeout","$stateParams","analytics","$location"]}(),function(){"use strict";function e(e,t,a,i,o,n,s){function r(){console.log("change...");var a=e.uid,i=e.tkn;if(console.log("here",e.change_btn_txt),"Submit"!==e.change_btn_txt)return!1;if(""===e.info.pwd||e.info.pwd.length<8){var r=document.querySelector("#success-toast"),l={message:"Your password should be at least 8 characters long"};r.MaterialSnackbar.showSnackbar(l)}else if(""===e.info.conf_pwd){var r=document.querySelector("#success-toast"),l={message:"Kindly confirm your password"};r.MaterialSnackbar.showSnackbar(l)}else if(e.info.pwd!=e.info.conf_pwd){var r=document.querySelector("#success-toast"),l={message:"Entered passwords do not match"};r.MaterialSnackbar.showSnackbar(l)}else e.change_btn_txt="Submitting...",o({url:"./changepassword/change",method:"POST",data:{user_basic_id:a,token:i,pwd:e.info.pwd,autologin:1,cid:window.cid},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a){if(console.log(a),1==a.success){t.app_data.same_com_log||s.event("Account,Login,By Changing Password,10"),e.change_btn_txt="Successfully Changed",e.disable_submit=!0,e.info.pwd="",e.info.conf_pwd="";var i=getParameterByName("redirect");if(i.indexOf("%")>-1&&(i=decodeURIComponent(i)),window.platform)return void n.go("inapp.noticeboard");window.location.href=null!==i&&""!==i&&void 0!=i&&"undefined"!=i?i:"noticeboard"}else void 0!=a.message&&(e.change_btn_txt="Submit",e.successmsg=a.message)})}function l(){var t=document.querySelector("#success-toast");if(""===e.info.email||null===e.info.email){var a={message:"Please enter your valid email"};t.MaterialSnackbar.showSnackbar(a)}else e.forgot_fetching=!0,o({url:"./changepassword/request",method:"POST",data:{email:e.info.email,cid:window.cid},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a){if(console.log(a),e.forgot_fetching=!1,"undefined"!=a.success)if(1==a.success){var i={message:"Instructions to set password are sent to your email. (Don't forget to check spam)"};t.MaterialSnackbar.showSnackbar(i)}else if("undefined"!=a.message){var i={message:a.message};t.MaterialSnackbar.showSnackbar(i)}})}e.info={},e.info.email="",e.info.pwd="",e.info.conf_pwd="",e.change_btn_txt="Submit",e.showEmail=!1,e.disable_submit=!1;try{e.cid=void 0!==i.cid?i.cid:0,e.redirect=void 0!==i.redirect?i.redirect:""}catch(t){e.cid=0,e.redirect=""}e.change=r,e.showForgotToast=l,function(){if(console.log(a),as_upgrade(100),!angular.isDefined(a.data))return void(e.showEmail=!0);if(1==a.data.success)e.uid=a.data.data.uid,e.tkn=a.data.data.tkn,e.is_registered=a.data.data.is_registered;else if(-5==a.data.success){var t={message:a.data.error};n.go("inapp.login",{source:"password link expired"}),e.error=t.message}else{var i={message:"Something went wrong. Please try again."};n.go("inapp.login",{source:"password link expired"}),e.error=i.message}console.log(e.uid,e.tkn)}()}angular.module("as.core").controller("changePasswordController",e),e.$inject=["$scope","$rootScope","changepasswordInitData","$stateParams","$http","$state","analytics"]}(),function(){"use strict";function orderObjectBy(){return function(e,t,a){var i=[];return angular.forEach(e,function(e){i.push(e)}),i.sort(function(e,a){return e[t]>a[t]?1:-1}),a&&i.reverse(),i}}function inAppController($state,$scope,$rootScope,$filter,headerInitialData){function upgradeView(){as_upgrade(1e3),dynamicHeaderConfiguration()}function dynamicHeaderConfiguration(){if(void 0!==$scope.dynamicHeader)return $scope.openedHeader="specific",evalObj($scope.dynamicHeader),$scope.dynamicHeader;$scope.openedHeader="default"}function evalObj(obj){for(var key in obj){var value=obj[key];"object"==typeof value&&evalObj(value),-1!=key.indexOf("eval-")&&(console.log(value),obj[key.replace("eval-","")]=eval(value),delete obj[key])}}angular.isDefined(headerInitialData.data.metadata_outer_header_design)&&($scope.dynamicHeader=headerInitialData.data.metadata_outer_header_design),$rootScope.$on("$stateChangeSuccess",function(e,t){scrollTo(0,100),delete $rootScope.nr}),$rootScope.$on("$stateChangeError",function(){$scope.isStateLoading=!1}),$scope.$on("$viewContentLoaded",upgradeView)}angular.module("as.core").controller("inAppController",inAppController).filter("orderObjectBy",orderObjectBy),inAppController.$inject=["$state","$scope","$rootScope","$filter","headerInitialData"]}(),function(){"use strict";function e(e,t,a,i,o){function n(n){console.log(n),e.loading=!0,angular.isDefined(n.id)&&a.setConfig(n.id,!0,function(){console.log(window.appData),t.app_data=window.appData.data,window.APP_BASE_URL=window.APP_BASE_URL+t.app_data.data.user_name+"/",t.COMM_APPBASE=window.COMM_APPBASE,t.app_base=APP_BASE_URL,o.load("css!"+t.api_base+"institutes/stylesheet/"+n.id).then(function(){for(var e=document.styleSheets,t=0,a=e.length;t<a;t++)null!=e[t].href&&(-1!=e[t].href.search("/inside_md/stylesheet.css")&&(e[t].disabled=!0),-1!=e[t].href.search("/institutes/stylesheet/")&&(e[t].disabled=!0),-1!=e[t].href.search("/institutes/stylesheet/"+n.id)&&(e[t].disabled=!1),console.log(e[t]));i.go("inapp.mobile_login")}).catch(function(e){console.log(e)})})}e.selected=n,function(){as_upgrade(500)}()}angular.module("as.core").controller("instituteSelectorController",e),e.$inject=["$scope","$rootScope","mobile","$state","$ocLazyLoad"]}(),function(){"use strict";function e(e,t,a,i,o,n,s){function r(t){return a.get("./institutes/account_api",{params:t}).success(function(t){if(1==t.success){var a=t.data.dynamic_data;e.dynamic_data=a}})}e.s3base=s3base,function(){e.parent_cid=o.app_data.cid,e.cid=o.app_data.cid,angular.isDefined(o.app_data.data.parent_cid)&&(e.parent_cid=o.app_data.data.parent_cid),console.log(n);var t={};if(t=angular.copy(n),void 0===t.cid)try{t.cid=o.app_data.data.cid}catch(e){t.cid=0}t.cid,console.log(t),r(t);var a=getParameterByName("source");e.userSource=a,null!==a&&""!==a||(a=getParameterByName("link"));var i=getParameterByName("redirect_link");e.third_step_red=null===i||""===i?"account":"account_activity_"+i}()}
angular.module("as.core").controller("loginSignupController",e),e.$inject=["$scope","$location","$http","$timeout","$rootScope","$stateParams","asState"]}(),function(){"use strict";function e(e,t,a,i,o){function n(){if("rejected"==e.restriction.reason&&(e.info.content.message={title:"You profile cannot be verified hence you have been restricted from accessing the portal.",description:"This may happen, if either Admin has found that you are not a genuine member of the community or you already have a duplicate profile on the platform."},e.info.content.faqs.push({question:"What can I do now?",answer:"If you are a genuine member of the community, you might already have a duplicate profile on the platform. You can try logging in from a different email id other than the current email - "+e.info.email+"."}),e.info.content.faqs.push({question:"Whom can I contact to know the details of verification?",answer:"You can contact platform admins at "+e.info.admin_mails+" for getting details about any duplicate profile, reason of non-verification etc."})),"blocked"==e.restriction.reason&&(e.info.content.message={title:"You have been restricted from accessing the portal.",description:"This may happen, if either Admin has found that you are not a genuine member of the community, you already have a duplicate profile on the platform or Admin has observed some phishing or mischievous activity from your account."},e.info.content.faqs.push({question:"What can I do now?",answer:"If you are a genuine member of the community, you might already have a duplicate profile on the platform. You can try logging in from a different email id other than the current email - "+e.info.email+"."}),e.info.content.faqs.push({question:"Whom can I contact to know the details of verification?",answer:"You can contact platform admins at "+e.info.admin_mails+" for getting details about any duplicate profile, reason of blocked profile etc."})),"unauthenticated"==e.restriction.reason&&(e.info.content.message={title:"Your profile has been created and has been sent to platform admin for verification.",description:"It might take upto 72 hours for completing the verification process. You will receive an email on "+e.info.email+" once verified."},e.info.content.faqs.push({question:"Why is verifications required?",answer:"Verification of all the profiles is required so that only the Verified Members of "+t.app_data.data.com_name+" can access the complete platform."}),e.info.content.faqs.push({question:"Whom can I contact for verification purpose?",answer:"Verification is done by platform admin, you can contact the admins at "+e.info.admin_mails+" email list."}),e.info.content.faqs.push({question:"What happens after verification is complete?",answer:"Once your profile is verified, you will receive an email for the same. You will then be able to access the complete platform."})),"role_restricted"==e.restriction.reason){var a="specific people";angular.isObject(e.restriction.reason_params)&&angular.isString(e.restriction.reason_params.allowed_roles)&&(a=e.restriction.reason_params.allowed_roles),e.info.content.message={title:"Certain Features are restricted only to "+a+".",description:"If you are not one of them, you cannot access those Features of the platform."},e.info.content.faqs.push({question:"Whom can I contact to know more details?",answer:"You can contact platform admins at "+e.info.admin_mails+" for getting additional details."})}"membership_restricted"==e.restriction.reason&&(e.info.content.message={title:"Certain Features are restricted only to "+i("asLingo")("22")+" of "+t.app_data.data.short_name+".",description:"If you are not "+i("asLingo")("22")+" of "+t.app_data.data.short_name+", you cannot access the complete platform."},e.info.content.faqs.push({question:"Whom can I contact to know more details?",answer:"You can contact platform admins at "+e.info.admin_mails+" for getting additional details."}))}function s(){-1!==e.restriction.actions.indexOf("complete_profile")&&e.info.content.actions.push({title:"What can I do while I wait?",description:"Start filling in the rest of your profile, it will improve your chances of getting verified.",action:{text:"Edit My Profile",state:"inapp.profile_2",stateParams:{}}}),-1!==e.restriction.actions.indexOf("become_lifemember")&&e.info.content.actions.push({title:"How can I become "+i("asLingo")("22")+"?",description:"You can get all the details of becoming "+i("asLingo")("22")+" by clicking below.",action:{text:"Get "+i("asLingo")("23")+" Details",state:"inapp.checkout_life_membership_detail",stateParams:{}}}),-1!==e.restriction.actions.indexOf("become_lifemember_optional")&&e.info.content.actions.push({title:t.app_data.data.short_name+" - "+i("asLingo")("23"),description:"Complete Platform is accessible only to "+i("asLingo")("22")+" of "+t.app_data.data.com_name+". You can get all the details of becoming "+i("asLingo")("22")+" by clicking below.",action:{text:"Get "+i("asLingo")("23")+" Details",state:"inapp.checkout_life_membership_detail",stateParams:{}}})}function r(e){o.go(e.state,e.stateParams)}e.action=a.action,e.restriction=window.restrictions[e.action],e.info={email:t.app_data.email,admin_mails:t.app_data.data.replyto_email.trim()||"contact@almashines.com",lm_enabled:1==t.app_data.data.life_membership_provision,is_lm:7==t.app_data.logged_user_roles[0].lm_steps},e.info.content={message:{},actions:[],faqs:[]},e.redirect_on_user_action=r,function(){e.restriction||(e.restriction={reason:"role_restricted"}),angular.isArray(e.restriction.actions)||(e.restriction.actions=[]),!e.info.lm_enabled||e.info.is_lm||2!=t.app_data.logged_user_roles[0].role||"rejected"!=e.restriction.reason&&"unauthenticated"!=e.restriction.reason||-1==e.restriction.actions.indexOf("become_lifemember")&&e.restriction.actions.push("become_lifemember_optional"),n(),s()}()}angular.module("as.core").controller("restrictedPageController",e),e.$inject=["$scope","$rootScope","$stateParams","$filter","$state"]}(),function(){"use strict";function e(e,t,a,i,o,n,s){function r(){function a(t){if(void 0!=t.data&&t.data.length>0&&(e.departments=t.data,n.app_data.roles.indexOfNumber(1)>-1||n.app_data.roles.indexOfNumber(2)>-1))for(var a=n.app_data.logged_user_roles[0].department_id,i=0;i<e.departments.length;i++)e.departments[i].id==a&&(e.settingsData.dep=e.departments[i])}function i(t){if(void 0!=t.data&&t.data.length>0&&(e.degrees=t.data,n.app_data.roles.indexOfNumber(1)>-1||n.app_data.roles.indexOfNumber(2)>-1))for(var a=n.app_data.logged_user_roles[0].degree_id,i=0;i<e.degrees.length;i++)e.degrees[i].id==a&&(e.settingsData.deg=e.degrees[i])}function o(t){if(console.log("fetchSettings"),console.log("resp: ",t),1==t.success){e.settingsData=angular.extend(e.settingsData,t.data),e.fetching=!0,e.details_fetched=!0,e.year=[],e.yearS=[],e.yearE=[];for(var a=(new Date).getFullYear(),i=a;i>=t.year;i--)e.yearS.push({key:i,value:i});e.yearE=angular.copy(e.yearS);for(var i=a+1;i<=a+5;i++)e.yearE.unshift({key:i,value:i});e.settingsData.start=Number(e.settingsData.start),e.settingsData.end=Number(e.settingsData.end),6==n.app_data.data.insti_type&&"student"==e.settingsData.role&&(e.hideFields.yop=!0,e.disabledFields.yop=!0),b=angular.copy(e.settingsData),setTimeout(function(){componentHandler.upgradeAllRegistered()},100)}}e.settingsData={dep:{id:0,department:""},deg:{id:0,degree:""},start:0,end:0};try{var s=n.app_data.logged_user_roles[0].sub_cid}catch(e){var s=0}return s>0||(s=n.app_data.cid),t.postDataCall("./signuser/departmentGet/1",{id:s},a),t.postDataCall("./signuser/degreesGet/1",{id:s},i),t.postCall("./profile/fetchUserSettings",o)}function l(){s.post("./changepassword/logged_in_api?redirect=search")}function c(){e.settingsData.sec_email.push([]),setTimeout(function(){componentHandler.upgradeAllRegistered()},100)}function d(e,t){}function p(t){e.settingsData.sec_email.splice(t,1)}function u(){e.settingsData.sec_phone.push({}),setTimeout(function(){componentHandler.upgradeAllRegistered()},100)}function f(e,t){}function m(t){e.settingsData.sec_phone.splice(t,1)}function g(){delete e.emailError}function _(){return!!angular.isUndefined(e.settingsData)||(!(!angular.isUndefined(e.settingsData.pwd)&&""!==e.settingsData.pwd)||void 0)}function h(t,a){var i=e.profile_custom_forms[t];1==a.success?(i.success=1,i.data=a.data||{}):(i.success=angular.isDefined(a.success)?a.success:-1,i.error=angular.isDefined(a.error)?a.error:"Something went wrong!")}function v(s,r){function l(t){if(e.updateBtnHide=!1,1==t.success)if(b=angular.copy(e.settingsData),n.app_data.logged_user_roles[0].degree=e.settingsData.deg.degree,n.app_data.logged_user_roles[0].degree_id=e.settingsData.deg.id,n.app_data.logged_user_roles[0].department_id=e.settingsData.dep.id,n.app_data.logged_user_roles[0].department=e.settingsData.dep.department,angular.isDefined(u.email)){var r="Your email id has been changed to <b>"+u.email+"</b>. A mail has been sent to your inbox. Please click on the link to verify your email.";o.alertBox({heading:" Change of email id",body:r,callback:function(){i.reload()}},s.target)}else i.reload(),snackbar_general("Details has been updated",3e3);else-3==t.success?(e.yopError="",e.emailError="Please fill a valid email",a(g,3e3)):-4==t.success?(e.yopError="",e.emailError=t.message,a(g,3e3)):-5==t.success?(e.yopError="",e.emailError=t.message,a(g,3e3)):-6==t.success?(e.yopError="",e.emailError=t.message,a(g,3e3)):-7==t.success?(e.yopError="",e.emailError=t.message,a(g,3e3)):-10==t.success&&(e.yopError="",e.emailError=t.message,a(g,3e3))}if(r.phone.$error.pattern)return void(e.yopError="Please enter valid phone number.");var c=new Date,d=c.getFullYear();if("alumni"==e.settingsData.role||"student"==e.settingsData.role){if(!(e.disabledFields.yop||e.hideFields.yop||e.settingsData.end>0))return void(e.yopError="Please select your Year of Graduation.");if(!(e.disabledFields.yoj||e.hideFields.yoj||e.settingsData.start>0))return void(e.yojError="Please select your Year of Joining.")}if("admin"!=e.settingsData.role&&"faculty"!=e.settingsData.role&&e.settingsData.end<e.settingsData.start){if(!(e.disabledFields.yop||e.hideFields.yop||e.disabledFields.yoj||e.hideFields.yoj))return void(e.yopError="Year of Passing should be greater than or equal to Year of Joining.")}else if(!e.disabledFields.yop&&!e.hideFields.yop){if("alumni"==e.settingsData.role&&e.settingsData.end>d)return void(e.yopError="Sorry. Alumni can't have Year of Passing greater than "+d);if("student"==e.settingsData.role&&e.settingsData.end<d)return void(e.yopError="Sorry. Student can't have Year of Passing less than "+d)}if(e.profile_custom_forms.institute_fields.enabled&&angular.isFunction(e.profile_custom_forms.institute_fields.submit_caller)){if(!e.profile_custom_forms.institute_fields.submit_caller(!1))return void(e.institute_fieldsError="Please complete all required information.");e.profile_custom_forms.institute_fields.can_submit=!0}var p=angular.element(s.target).find("section");p=p.find("input");var u={};if(angular.forEach(e.settingsData,function(e,t){e!=b[t]&&(u[t]=e)}),console.log(u),angular.isDefined(u.email)){if(e.yopError="",""===u.email.trim())return e.emailError="Email field cannot be left blank",void a(g,3e3);if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(u.email))return e.emailError="Please fill a valid email",void a(g,3e3)}return angular.isDefined(u.phone_code)&&(u.phone=e.settingsData.phone),e.profile_custom_forms.institute_fields.can_submit&&angular.isFunction(e.profile_custom_forms.institute_fields.submit_caller)&&e.profile_custom_forms.institute_fields.submit_caller(!0),null!==u?(e.updateBtnHide=!0,t.postDataCall("./profile/changeSettings_md",u,l)):void 0}var b;e.profile_custom_forms={profile_fields:{},institute_fields:{}},e.add_email=c,e.on_blurring=d,e.close=p,e.add_phone=u,e.on_blurring_phone=f,e.close_phone=m,e.noPwd=_,e.saveSettings=v,e.updateBtnHide=!1,e.details_fetched=!1,e.brSet=!1,e.changePassword=l,function(){a(function(){console.log(window.location.search),e.bcCreationData=decodeURIComponent(window.location.search),e.brSet=!0},500),n.meta(41)?(e.disabledFields=n.meta(41).disabledFields||{},e.hideFields=n.meta(41).hideFields||{}):(e.disabledFields={},e.hideFields={}),e.profile_custom_forms.institute_fields.enabled=!0,e.profile_custom_forms.institute_fields.submit_caller=null,e.profile_custom_forms.institute_fields.submit_callback=function(e){h("institute_fields",e)},e.profile_custom_forms.institute_fields.getExternalVariablesData=function(){var t={};return t.role={cid:n.app_data.cid,degree_id:(e.settingsData&&e.settingsData.deg?e.settingsData.deg.id:void 0)||void 0,department_id:(e.settingsData&&e.settingsData.dep?e.settingsData.dep.id:void 0)||void 0,end:(e.settingsData?e.settingsData.end:void 0)||void 0,start:(e.settingsData?e.settingsData.start:void 0)||void 0,role:(e.settingsData?e.settingsData.role_int:void 0)||void 0,sub_cid:(n.app_data&&n.app_data.logged_user_roles&&n.app_data.logged_user_roles[0]?n.app_data.logged_user_roles[0].sub_cid:void 0)||void 0},t},r()}();try{var y=n.app_data.config.meta[29];void 0==y&&(y={})}catch(e){var y={}}e.notCompulsory=y}angular.module("as.core").controller("SettingsController",e),e.$inject=["$scope","sidetopHttp","$timeout","$state","bootModal","$rootScope","$http"]}(),function(){"use strict";function e(e,t,a,i){e.switchInitData=t,function(){var o=t.data;angular.isDefined(o.data)&&angular.isDefined(o.data.view)&&(e.view=o.data.view),a(function(){i.header.loggedin=!1,i.header.switch=1}),e.$on("$destroy",function(){!0===i.app_data.same_com_log&&(i.header.switch=1,i.header.loggedin=!0)})}()}angular.module("as.core").controller("switchController",e),e.$inject=["$scope","switchInitData","$timeout","$rootScope"]}(),function(){"use strict";function e(e,t,a,i,o,n,s,r,l,c,d){function p(){angular.isDefined(e.signupMeta[1])&&e.signupMeta[1].length>0&&(e.roles=e.signupMeta[1])}function u(t,a){return void 0==a&&(a=!0),void 0==e.formData.role?a:["string","number"].indexOf(typeof t)>-1?e.formData.role.code==t:"[object Array]"==Object.prototype.toString.call(t)&&t.indexOf(sanitizeValue(e.formData.role.code))>-1}function f(t,a){return void 0==a&&(a=!0),void 0==e.formData.role?a:["string","number"].indexOf(typeof t)>-1?e.formData.role.code!=t:"[object Array]"==Object.prototype.toString.call(t)&&-1==t.indexOf(e.formData.role.code)}function m(e){var t={signup:e};return a.get("./login/switch_view_api",{params:t}).success(function(e){N=e.data,g(),k(),as_upgrade(100)})}function g(){e.s3base=s3base,e.cids=N.cids,e.inviteAr=N.invite_id,e.authAr=N.authenticated,e.university_data={isUniversity:!1,isSubInstitute:!1},3==N.info.insti_type&&null!==N.info.child_institutes&&N.info.child_institutes.length>0&&(e.university_data.isUniversity=!0,e.university_data.childs=N.info.child_institutes),5==N.info.insti_type&&(e.university_data.isSubInstitute=!0),e.invitation_id=N.invite_id[N.info.cid],e.authStatus=N.authenticated[N.info.cid],e.cid=N.info.parent_cid>0?N.info.parent_cid:0,e.uid=N.uid,e.child_cid=N.info.current_cid>0?N.info.current_cid:0,e.allset=1,e.clg={name:null!==N.info.display_main_name?N.info.display_main_name:"",alias:null!==N.info.display_sub_name?N.info.display_sub_name:""},N.adminCreation?(e.adminCreation=!0,e.authStatus=13,e.buttonText="Next",e.step2.final=!0):e.adminCreation=!1}function _(t){t.id>0&&m(t.id),e.loading=!0,e.allset=0,e.child_cid=t.id,a({url:"./institutes/insti_parent_child_info",method:"POST",data:{cid:t.id},headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"}}).success(function(a){1==a.success&&(e.allset=1,3==a.data.insti_type&&(e.university_data.isUniversity=!0,e.university_data.childs=a.data.child_institutes),5==a.data.insti_type?(e.university_data.isSubInstitute=!0,e.cid=a.data.parent_cid,e.clg.name=a.data.university_name,e.clg.alias=a.data.name):(e.cid=t.id,e.clg.name=a.data.name,e.clg.alias=a.data.short_name))}),void 0!==e.inviteAr[e.child_cid]?e.invitation_id=e.inviteAr[e.child_cid]:e.invitation_id=0,void 0!==e.authAr[e.child_cid]?e.authStatus=e.authAr[e.child_cid]:e.authStatus=0,e.cids.indexOf(e.cid)>-1&&(e.loading=!1,e.allset=5)}function h(){as_upgrade(10),e.cid=0,e.child_cid=0,e.allset=0,e.clg.name="",e.university_data={isUniversity:!1,isSubInstitute:!1},e.clg.alias="",v(),e.formData={},e.yearError=!1,e.alumniError=!1,e.studentError=!1,e.button3Clicked=!1}function v(){i(function(){var e=document.getElementsByTagName("pa-autocomplete")[0];void 0!==e&&e.getElementsByTagName("input")[0].focus()},2e3)}function b(t){if(!e.step2.submitted)return 1==e.step2.substep?(e.step2.submitted=!0,void(!0===e.step2.final?C(t,1):C(t,$))):void(2===e.step2.loadstatus&&(e.step2.submitted=!0,e.step2.submitaction($,y)))}function y(){e.step2.submitted=!1,e.step2.final&&!e.adminCreation?1==e.step2.substep?e.buttonText="Join Alumni Network":e.buttonText="Complete Registration":e.buttonText="Next"}function $(){e.step2.substep+=1,2==e.step2.substep&&(e.step2.loadstatus=1),e.step2.submitted=!1,e.step2.final&&!e.adminCreation?e.buttonText="Complete Registration":e.buttonText="Next"}function w(t){e.step2.final&&(e.buttonText="Complete Registration")}function S(e){console.log("here"),scrollTo(50,500),"string"==typeof e&&""!=e&&snackbar_general(e,2e3)}function C(t,a){e.formstep3=t,e.button3Clicked=!0,i(function(){if(void 0!==e.formstep3.$error.required&&e.formstep3.$error.required.length>0)return y(),S("Please fill the required info !"),!1;if(!e.formData.role)return y(),void S("Please fill the required info !");if((6!=o.app_data.data.insti_type||2==e.formData.role.code)&&e.formData.startYear>e.formData.end)return e.alumniError=!1,e.studentError=!1,e.yearError=!0,S(e.formData),void y();if(2==e.formData.role.code&&e.formData.end>(new Date).getFullYear())return e.yearError=!1,e.studentError=!1,e.alumniError=!0,S(e.formData),void y();if(6!=o.app_data.data.insti_type&&1==e.formData.role.code&&e.formData.end<(new Date).getFullYear())return e.yearError=!1,e.alumniError=!1,e.studentError=!0,S(e.formData),void y();if(e.profile_custom_forms.institute_fields.enabled&&angular.isFunction(e.profile_custom_forms.institute_fields.submit_caller)){if(!e.profile_custom_forms.institute_fields.submit_caller(!1))return e.institute_fieldsError="Please complete all required information.",S(e.institute_fieldsError),void y();e.profile_custom_forms.institute_fields.can_submit=!0}e.institute_fieldsError&&(e.institute_fieldsError=!1),6==o.app_data.data.insti_type&&1==e.formData.role.code&&(e.formData.end=1902),e.yearError=!1,e.alumniError=!1,e.studentError=!1,1===a?j():"function"==typeof a&&a()},100)}function j(){e.profile_custom_forms.institute_fields.can_submit&&angular.isFunction(e.profile_custom_forms.institute_fields.submit_caller)&&e.profile_custom_forms.institute_fields.submit_caller(!0),e.buttonText="Wait ....",e.ThirdStepStarted=!0,a({url:"./signuser/afterThirdStep",method:"POST",data:{community:e.cid,uid:e.uid,degrees:angular.isDefined(e.formData.degrees)?e.formData.degrees.id:0,departments:angular.isDefined(e.formData.departments)?e.formData.departments.id:0,startYear:e.formData.startYear,end:e.formData.end,dob:e.formData.dob,city:e.formData.city_id,enrollement_no:e.formData.enrollement_no,phone:{code:e.formData.phone_code,number:e.formData.phone_number},registerAs:e.formData.role.code,isEmailVerified:N.email_verified,isAuthenticated:e.authStatus,invitation_id:e.invitation_id,is_university:e.university_data.isUniversity,is_sub_institute:e.university_data.isSubInstitute,sub_insti_cid:e.child_cid,life_member_status:angular.isDefined(e.formData.life_member_status)?e.formData.life_member_status.code:0,adminCreation:e.adminCreation},headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"}}).success(function(t){if(e.adminCreation)try{e.adminCreationCall(t)}catch(e){console.log("Something went horribly horribly wrong. Investigate this as if your life depends on it.")}else O(t)})}function O(a){if(void 0!==a.success&&1===a.success){c.event("Account,Joined Community,Role Creation Completed,25");var i=t.redirect,o="";angular.isDefined(i)&&(i=decodeURIComponent(i));var r=U[34];if(""==i||void 0==i||"undefined"==i||r&&r.signup&&r.forced){i="noticeboard";try{r&&r.signup&&!r.skip&&(i=l.href("inapp.extra_info",{fields:r.signup}),platform&&(i=i.replace(file_base_rel,"").replace("/",""))),console.log("redirect onboard",i),45==e.cid&&(i="prompt")}catch(e){console.log(e)}}o=(0===i.indexOf("http://")||i.indexOf("https://"),i),platform?n.setup(function(){s.url(file_base_rel+o).replace()}):window.location.assign(o)}else y(),e.ThirdStepStarted=!1,alert("Please check details")}function k(){e.child_cid>0&&a({url:"./signuser/getDropdownData",method:"POST",data:{id:e.child_cid},headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"}}).success(function(t){void 0!==t.establish&&(e.signupMeta=t.signupMeta,e.adminCreation||(0===e.signupMeta[31].forms.length?(e.step2.final=!0,e.buttonText="Join Alumni Network"):e.step2.final=!1),p(),e.startingArray=t.establish,e.departmentArray=t.departments,e.degreeList=t.degrees,e.showlm=t.lmp,e.degDefault(),e.depDefault(),e.buildYOJRange(t.establish_year),e.buildYOPRange(t.establish_year),e.step2.dropdownsLoaded=1,e.allset=2,1==e.step2.firstformloaded&&(e.loading=!1))})}function x(){e.step2.firstformloaded=1,e.profile_custom_forms.institute_fields.enabled=!0,e.profile_custom_forms.institute_fields.submit_caller=null,e.profile_custom_forms.institute_fields.submit_callback=function(e){D("institute_fields",e)},e.profile_custom_forms.institute_fields.getExternalVariablesData=function(){var t={};return t.role={cid:o.app_data.cid,degree_id:(e.formData&&e.formData.degrees?e.formData.degrees.id:void 0)||void 0,department_id:(e.formData&&e.formData.departments?e.formData.departments.id:void 0)||void 0,end:(e.formData?e.formData.end:void 0)||void 0,start:(e.formData?e.formData.startYear:void 0)||void 0,role:(e.formData&&e.formData.role?e.formData.role.code:void 0)||void 0,sub_cid:e.child_cid},t},as_upgrade(100),1==e.step2.dropdownsLoaded&&(e.loading=!1)}function D(t,a){var i=e.profile_custom_forms[t];1==a.success?(i.success=1,i.data=a.data||{}):(i.success=angular.isDefined(a.success)?a.success:-1,i.error=angular.isDefined(a.error)?a.error:"Something went wrong!")}function A(e,t){}function I(t){e.mixpanel_changed("college",t),e.child_cid=t.sub_cid}function P(){if(angular.isDefined(e.signupMeta[7]))if(e.signupMeta[7]>0)for(var t in e.degreeList){var a=e.degreeList[t];if(a.id==e.signupMeta[7]){e.formData.degrees=a;break}}else-1==e.signupMeta[7]&&(e.formData.degrees={id:0,degree:""})}function E(){if(angular.isDefined(e.signupMeta[8]))if(e.signupMeta[8]>0)for(var t in e.departmentArray){var a=e.departmentArray[t];if(a.id==e.signupMeta[8]){e.formData.departments=a;break}}else-1==e.signupMeta[8]&&(e.formData.departments={id:0,department:""})}function M(t){if(angular.isDefined(e.signupMeta[11])&&e.signupMeta[11]>0?t=e.signupMeta[11]:void 0==t&&(t=2e3),angular.isDefined(e.signupMeta[13])&&void 0!=e.signupMeta[13].base){var a,i=0;a=e.signupMeta[13].base>0?e.signupMeta[13].base:(new Date).getFullYear(),void 0!=e.signupMeta[13].difference&&(i=e.signupMeta[13].difference);var o=a-i}else var o=(new Date).getFullYear();var n=(new Date).getFullYear();t<1904?t=1904:t>n&&(t=n-1),o<1904?t=1904:o>n&&(o=n),t>o&&(t=o);for(var s=t;s<=o;s++)e.YOJRange.push(s)}function F(t){if(angular.isDefined(e.signupMeta[12])&&e.signupMeta[12]>0?t=e.signupMeta[12]:void 0==t&&(t=2e3),angular.isDefined(e.signupMeta[14])&&void 0!=e.signupMeta[14].base){var a,i,o=0;a=e.signupMeta[14].base>0?e.signupMeta[14].base:(new Date).getFullYear(),void 0!=e.signupMeta[14].difference&&(o=e.signupMeta[14].difference),i="-"===e.signupMeta[14].operator?a-o:a+o}else var i=(new Date).getFullYear()+5;var n=(new Date).getFullYear();t<1904?t=1904:t>n&&(t=n-1),i<1904?t=1904:i>n+5&&(i=n+5),t>i&&(t=i);for(var s=t;s<=i;s++)e.YOPRange.push(s)}function T(t){angular.isDefined(e.signupMeta[15])&&parseInt(e.signupMeta[15].difference)==e.signupMeta[15].difference&&(e.formData.end=t+e.signupMeta[15].difference)}function L(t){angular.isDefined(e.signupMeta[16])&&parseInt(e.signupMeta[16].difference)==e.signupMeta[16].difference&&(e.formData.startYear=t-e.signupMeta[16].difference)}function R(){if(!e.redirectingToSubInst.current){if(void 0===e.formData.college||!(e.formData.college.sub_cid>0))return void(e.redirectingToSubInst.error=!0);e.redirectingToSubInst.current=!0;var a=t.redirect,i="";a&&""!==a&&void 0!==a&&"undefined"!==a&&(i+="&redirect="+a),platform?s.url(file_base_rel+"switch?signup="+e.formData.college.sub_cid+i).replace():window.location.href=o.COMM_APPBASE+"switch?signup="+e.formData.college.sub_cid+i}}e.buttonText="Next";var N;e.loading=!0,e.allset=0,e.lmCodes=[{name:"Life Member",code:1},{name:"Non-life Member",code:2}],e.formData={},e.yearError=!1,e.alumniError=!1,e.studentError=!1,e.submitted=0,e.YOJRange=[],e.YOPRange=[],e.roles=[{code:1,name:"Current Students"},{code:2,name:"Alumni (Past Alumni)"}],e.signupMeta={3:0,4:0,9:0,10:0,30:{fields:{},forms:{}}},e.child_cid=null,e.profile_custom_forms={profile_fields:{},institute_fields:{}};var U=o.app_data.config.meta;e.getclg=_,e.clgchange=h,e.subStepSubmit=b,e.mixpanel_changed=A,e.change_sub_college_selection=I,e.degDefault=P,e.depDefault=E,e.buildYOJRange=M,e.buildYOPRange=F,e.YOJOperation=T,e.YOPOperation=L,e.redirectingToSubInst={current:!1,error:!1},e.redirectToSubInst=R,e.isRole=u,e.notRole=f,e.step2={substep:1,onfirstformload:x,submitaction:void 0,loadstatus:0,onload:w,submitted:!1,final:void 0,xhrSuccessCallback:j,xhrErrorCallback:y},function(){e.$watch("switchInitData",function(){N=e.switchInitData.data.data,g(),k(),as_upgrade(100),v()}),r.load("css!"+window.file_base+"./css/angular-datepicker.css"),e.dataInstance=d.dataInstance({screen:"signup",info:e}),e.dataInstance.setDataMapping({role:"info.formData.role.code",degreeList:"info.degreeList",departmentList:"info.departmentArray",signupMeta:"info.signupMeta"})}()}angular.module("as.core").controller("switchSignupController",e),e.$inject=["$scope","$stateParams","$http","$timeout","$rootScope","mobile","$location","$ocLazyLoad","$state","analytics","userdata"]}(),function(){"use strict";function e(e,t,a){function i(t){if(1==e.notmyalma_submitted)return!1;e.notmyalma_submitted=1,document.getElementById("notmyalma").textContent="Wait ...",a({url:"./login/untrack_cid",method:"POST",data:{cid:t},headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"}}).success(function(t){e.notmyalma_submitted=2})}e.test="Le test worked!!",e.midway=!1,e.info=!1,e.notmyalma_submitted=0,e.redirect=encodeURIComponent(getParameterByName("redirect")),e.notmyalma=i;var o;!function(){e.$watch("switchInitData",function(){console.log("switchViewController"),o=e.switchInitData.data.data,e.info=o.info,e.midway=o.midway})}()}angular.module("as.core").controller("switchViewController",e),e.$inject=["$scope","$stateParams","$http"]}();
//# sourceMappingURL=core.min.js.map
function getCookie(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0===c.indexOf(name))return c.substring(name.length,c.length)}return""}function gt_restriction(){window.appData&&window.appData.data&&window.appData.data.userRestrictions&&(restrictions=window.appData.data.userRestrictions)}function chk_restrictions_temp(action,alert,$state){if(action||(action=1),restrictions[action]&&!1===restrictions[action].allowed){try{var handler=function(event){$state.go("inapp.restricted_",{action:action})};snackbar_general("We are Sorry ! "+restrictions[action].shortErrorMsg.replace(/\+/g," "),3500,"Learn More",handler)}catch($e){!0!==alert&&alert("Sorry, "+restrictions[action].shortErrorMsg.replace(/\+/g," "))}return!0}return!1}function isActionRestricted(action){return action||(action=1),!(!restrictions[action]||!1!==restrictions[action].allowed)}function textAreaAdjust(o){var taHeight=calculateContentHeight(o,18),numberOfLines=Math.ceil(taHeight/18);numberOfLines!==o.rows&&numberOfLines>3&&(o.rows=numberOfLines)}function calculateContentHeight(ta,lineHeight){var originalHeight=ta.style.height,height=ta.offsetHeight,scrollHeight=ta.scrollHeight,overflow=ta.style.overflow;if(ta.style.height=height+lineHeight+"px",!(height>=scrollHeight))return scrollHeight;if(ta.style.overflow="hidden",scrollHeight<ta.scrollHeight){for(;ta.offsetHeight>=ta.scrollHeight;)ta.style.height=(height-=lineHeight)+"px";for(;ta.offsetHeight<ta.scrollHeight;)ta.style.height=height+++"px";return ta.style.height=originalHeight,ta.style.overflow=overflow,height}}gt_restriction();var insti_info_data={},restrictions={},restrictionMSG={},isAdmin=!1;if(-1!=getCookie("r_v").split(",").indexOf("4"))var isAdmin=!0;
//# sourceMappingURL=sidetop.vanilla.js.map
!function(){"use strict";function e(e){e.aHrefSanitizationWhitelist(/^\s*(https?|whatsapp|mailto|file):/)}angular.module("as.sidetop",["ngSanitize","angularModalService","cm_as","ui.router","ngTouch"]).config(e),e.$inject=["$compileProvider"]}(),function(){"use strict";function e(e,t,a,n){function o(e,a,o,s){if(!n.app_data.same_com_log){try{a()}catch(e){}return!1}if(e.constructor==String&&(e=e.replace(/(photo,|,photo$)/g,"")),!r(e,s)){try{a()}catch(e){}return!1}t.isLoaded("as.profile")?i(e,a,o,s):t.load({name:"as.profile",files:[window.file_base+"./dist/profile.min.js?v="+window.jsVersion]}).then(function(){i(e,a,o,s)})}function i(t,n,o,i){function r(e){function t(){console.log("modal.close");try{e.scope.close()}catch(e){window.removeEventListener("hashchange",t),a.hash("modal-close").replace()}}return a.hash("modal-close"),setTimeout(function(){window.addEventListener("hashchange",t)},1e3),e.close.then(function(){window.removeEventListener("hashchange",t)}),e}e.showModal({templateUrl:"./templates/modals/profileFilling.html",controller:["$scope","close",function(e,a){e.fields=t,e.extraParams={pref:"hideProgressBar",title:"Please fill the required data to proceed"},i&&"object"==typeof i&&angular.extend(e.extraParams,i),e.title="Please fill the required data to proceed",e.extraParams.title&&(e.title=e.extraParams.title),e.close=a,e.onComplete=function(){console.log("$scope.onComplete:");try{n()}catch(e){}setTimeout(function(){a()},600)},e.onStep=function(t,a){console.log("$scope.onStep","field:",t,"d:",a),a&&a.reason&&(e.reason=a.reason);try{o(t,a)}catch(e){}}}],target:document.body}).then(r)}function r(e,t){if("undefined"==typeof Storage||t&&t.forcedFlow||e.constructor!==String)return!0;if(null==localStorage.getItem("flowData"))return!0;var a=JSON.parse(localStorage.getItem("flowData")),o=(new Date).getTime();if(!e||""==e.trim()){var e="work,education,pdetails,photo",i=n.app_data.config.meta,r=i[34];r&&r.signup&&(e=r.signup),n.app_data.roles.indexOf(1)>-1&&(e+=",internship_seek"),3!=n.app_data.roles[0]&&"3"!=n.app_data.roles[0]||(e="pdetails,phone,photo")}var e=e.split(",");return e=e.reduce(function(e,t){return(!a[t]||o>a[t])&&e.push(t),o>a[t]&&delete a[t],e},[]),localStorage.setItem("flowData",JSON.stringify(a)),0!==e.length}return{modal:o}}angular.module("as.sidetop").factory("profileFilling",e),e.$inject=["ModalService","$ocLazyLoad","$location","$rootScope"]}(),function(){"use strict";function e(e,t,a,n){function o(t,a,o,i){console.log(a,o,i),void 0!=o&&null!=o&&"object"==typeof o||(o={});var r={personName:t,email:a,roleString:"alumni"};return o.roleString&&"string"==typeof o.roleString&&(r.roleString=o.roleString),o.lost&&!isNaN(o.lost)&&(r.lost_uid=parseInt(o.lost)),n.event("Batchmates,Invite,EmailInput,20"),e.post("./admin/inviteToPlatform",r).success(i)}function i(a,n){l(3),!angular.isUndefined(n)&&angular.isObject(n)||(n={});var o=n.reason?n.reason:"";if(platform)return snackbar_general("Compiling an invite email...",2e3),e.get("./welcome/invite_friends_api?cname="+t.app_data.data.name+"&cid="+t.app_data.data.cid+"&reason="+o).success(function(e){1==e.success&&window.plugins.socialsharing.shareViaEmail(e.data,t.app_data.name+"s Invitation to join "+t.app_data.data.short_name+"Alumni Network",null,null,null,null,function(){console.log("share ok")},function(){console.log("err",errormsg)})});window.open("./welcome/invite_friends?cname="+t.app_data.data.name+"&cid="+t.app_data.data.cid+"&reason="+o,"_blank")}function r(e,a){l(2),!angular.isUndefined(a)&&angular.isObject(a)||(a={});var n=a.name?a.name:null,o=a.reason?a.reason:"";if(platform){var i=(n?"Hi "+n+",":"Hello, ")+" Join the "+t.app_data.data.short_name+" Alumni Network and stay connected to your college and classmates.",r=a.url?a.url:COMM_APPBASE+"invite/2/"+t.app_data.cid+"/"+t.app_data.uid+"/"+o,s="https://www.facebook.com/sharer/sharer.php?u="+r;window.plugins.socialsharing.shareViaFacebook(i,null,r,function(){console.log("share ok")},function(e){console.log("err",e),window.open(s,"_system")})}else shareCard(e)}function s(e,a){!angular.isUndefined(a)&&angular.isObject(a)||(a={});var n=a.name?a.name:null,o=a.reason?a.reason:"",i=(n?"Hi "+n+",":"Hello, ")+" Join the "+t.app_data.data.short_name+" Alumni Network and stay connected to your college and classmates.",r=a.url?a.url:COMM_APPBASE+"invite/1/"+t.app_data.cid+"/"+t.app_data.uid+"/"+o;if(l(1),!platform){var s=encodeURIComponent(r)+"&linkname="+encodeURIComponent(i),c="https://www.addtoany.com/add_to/whatsapp?linkurl="+s;return void window.open(c,"_blank")}window.plugins.socialsharing.shareViaWhatsApp(i,[t.appfiles.logo],r,function(){console.log("share ok")},function(e){console.log("err",e)})}function l(t){switch(t){case 1:n.event("Batchmates,Invite,Whatsapp,10");break;case 2:n.event("Batchmates,Invite,Facebook,10")}return e.get("./invitation/track/"+t)}return{byEmail:i,byWhatsapp:s,byFacebook:r,byEmailInput:o}}angular.module("as.sidetop").factory("invitation",e),e.$inject=["$http","$rootScope","bootModal","analytics"]}(),function(){"use strict";function e(e){function t(t){void 0==t.mailing_list&&(t.mailing_list=[]),void 0==t.myRecepients&&(t.myRecepients="1"),n=t,e.go("inapp.admin",{category:"MailingTool",tab:"new_mail"})}function a(){if(void 0!==n&&null!==n){var e=angular.copy(n);return n=null,e}return!1}var n;return{clone:t,cloneAvailable:a}}angular.module("as.sidetop").factory("adminMailClone",e),e.$inject=["$state"]}(),function(){"use strict";function e(e){function t(t,n){return void 0!==e.app_data.admin_r&&void 0!==e.app_data.admin_r[t]&&(!(void 0===e.app_data.admin_r[0]||!e.app_data.admin_r[0].allowed)||void 0!==e.app_data.admin_r[t]&&(null==n||isNaN(n)?!!e.app_data.admin_r[t].allowed:e.app_data.admin_r[t].allowed&&a(n)))}function a(t){if(!isNaN(t)&&void 0!==e.app_data.admin_r_subinsti&&e.app_data.admin_r_subinsti.length>0){if(0==o.length){for(var a=e.app_data.admin_r_subinsti.length-1;a>=0;a--)e.app_data.admin_r_subinsti[a].allowed&&o.push(parseInt(e.app_data.admin_r_subinsti[a].sub_insti_cid));return-1!==o.indexOf(parseInt(t))}return-1!==o.indexOf(parseInt(t))}return!1}function n(t){return!(!angular.isDefined(e.app_data.config.meta[32])||-1===e.app_data.config.meta[32].indexOf(t))}var o=[],i={isAllowed:t,rightExist:n};return window.isAllowed=t,i}angular.module("as.sidetop").factory("adminRights",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e){function t(t){void 0==t.mailing_list&&(t.mailing_list=[]),void 0==t.myRecepients&&(t.myRecepients="1"),n=t,e.go("inapp.admin",{category:"SMSTool",tab:"new_sms"})}function a(){if(void 0!==n&&null!==n){var e=angular.copy(n);return n=null,e}return!1}var n;return{clone:t,cloneAvailable:a}}angular.module("as.sidetop").factory("adminSmsClone",e),e.$inject=["$state"]}(),function(){"use strict";function e(){return{ga:n,event:a}}function t(){function e(e,t,n){function o(){a(n.gaEvent)}t.on("click",o)}return{restrict:"A",scope:!0,link:e}}function a(e,t){var a=e.split(",");if(!(a.length<2)&&a[0].trim()&&a[1].trim()){var i={hitType:"event"};i.eventCategory=a[0],i.eventAction=a[1],void 0!=a[2]&&(i.eventLabel=a[2]),void 0==a[3]||isNaN(a[3])||(i.eventValue=parseInt(a[3])),void 0!=t&&"function"==typeof t&&(i.hitCallback=o(t)),n("send",i)}}function n(){void 0!=window.ga&&window.ga.apply(null,arguments)}function o(e,t){function a(){console.log("if","!called:",n),n||(n=!0,e())}var n=!1;return setTimeout(a,t||1e3),a}angular.module("as.sidetop").factory("analytics",e).directive("gaEvent",t)}(),function(){"use strict";function e(e){function t(t,a,n){var o={aid:t,setStatus:a};return!isNaN(a)||"authenticate"!=a&&"reject"!=a||(o.statusString=a),e({url:"./admin/authenticateorRejectUser",method:"POST",data:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(n)}function a(t,a){return e({url:"./admin/blockUser",method:"POST",data:{uui:t},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}return{setAuthStatus:t,blockUser:a}}angular.module("as.sidetop").factory("asAuthService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,a,n){function o(e){if(e){a.get("dialogform").asform({form_id:t.appmeta.forms.event_review_form,prefillData:{response1:{eventID:e}},pref:{}})}}function i(n){if(!0!==r(n,"- 2 months"))return!1;a.get("forms");e.post("./general/forms/forms/count_current_user_responses",{form_id:t.appmeta.forms.event_review_form,search_attribute:{eventID:{value:n.event_id,search_operator:"equalsto"}}}).then(function(e){var t=e&&e.data?e.data:{};t.data&&!isNullUndefined(t.data.total_count)&&0==t.data.total_count&&o(n.event_id)})}function r(e,t){if(e&&e.sdate){var a=new Date(e.sdate),n=t.split(" ");if("day"===n[2]||"days"===n[2])var o=parseInt(n[1]);else if("month"===n[2]||"months"===n[2])var o=30*parseInt(n[1]);else{if("year"!==n[2]&&"years"!==n[2])return;var o=365*parseInt(n[1])}var i=new Date,r=new Date;return"-"===n[0]?(r.setTime(r.getTime()-24*o*60*60*1e3),r<=a&&a<=i):"+"===n[0]?(r.setTime(r.getTime()-24*o*60*60*1e3),i<=a&&a<=r):void 0}}function s(e,n){isObject(n)||(n={}),n.subject||(n.subject="Event in "+t.app_data.data.short_name+" community"),n.content||(n.content=""),n.mailing_list=[{type:3,count:e.total_guests,function_info:{function_id:14,function_params:e.event_id},query_string:"Attendees of "+e.title}],n.myRecepients="2",a.get("adminMailClone").clone(n)}function l(e){var a={};a.subject="Regarding the event you attended in "+t.app_data.data.short_name+" community";var o=t.COMM_APPBASE+"events/"+e.event_id+"?open_review=1&utm_source=admin_mail&utm_medium=email&utm_campaign="+window.encodeExtra(e.title),i=(t.COMM_APPBASE,e.event_id,window.encodeExtra(e.title),e.sdate?n("date")(e.sdate,"EEEE, MMM dd, yyyy"):null);i+=e.stime?" "+n("date")(e.stime,"h:mm"):"",i+=e.timezone?" "+e.timezone:"";var r=e.location?e.location:"";e.cityName&&(r+=""==r?"":"<br>",r+=e.cityName),r=""==r?null:"At "+r;var l=e.event_logo,c="Dear [NAME],<br>Can you please spend few seconds to share your experience in "+e.title+".<br>";c+='<div align="center" style="box-sizing: border-box;min-width: 320px;padding: 8px;">',l&&(c+='<a href="'+o+'"style="text-decoration:none"><center><img src="'+l+'" style="display: block;  max-width: 100%;outline: none;" /></center></a><hr />'),c+='<p><span style="font-size:28px;">'+e.title+"</span></p>",i&&(c+="<p><em>"+i+"</em></p>"),r&&(c+="<p><em>"+r+"</em></p>"),c+='<div align="center" style="width: 100%;padding-top: 5px;margin-bottom:12px;margin-top:12px;">',c+='<a href="'+o+'" style="border: 1px solid #ccc;margin-right:8px;background-color:white;border-radius:0px;color:black;display:inline-block;font-family:sans-serif;font-size:13px;line-height:40px;text-align:center;text-decoration:none;width:auto;padding-left:10px;padding-right:10px;">Share your review</a>',c+="</div></div><br>Your feedback matters to us. It helps us to improve your experience in future events.<br>Thanks.",a.content=c,s(e,a)}return{open_review_dialog:o,open_review_dialog_1:i,mail_attendees:s,clone_eventreview_mail:l}}angular.module("as.sidetop").factory("asEventService",e),e.$inject=["$http","$rootScope","$injector","$filter"]}(),function(){"use strict";function e(e){function t(t,a){return e.postDataCall("./gallaries/publicGallaries",t,a)}function a(t,a){return e.postDataCall("./gallaries/publicGallaryPhotos",t,a)}function n(t,a){return e.postDataCall("./gallaries/getGallaries",t,a)}function o(t,a){return e.postDataCall("./gallaries/getGallaryPhotos",t,a)}return{getGalleries:t,galleryPhotos:a,fetchGalleries:n,fetchGalleryPhotos:o}}angular.module("as.sidetop").factory("asGalleryService",e),e.$inject=["sidetopHttp"]}(),function(){"use strict";function e(e,t,a,n){function o(e){var t=angular.copy(d.lingos);return e&&angular.isDefined(t[e])&&(t=t[e]),t}function i(a){return t.app_data.same_com_log?(u.current_user_pref.fetching=!0,e({url:"./jobs/getSeekerStatus",method:"POST"}).success(function(e){u.current_user_pref.fetching=!1,a(e)})):void a({success:-2})}function r(a,n){if(!t.app_data.same_com_log)return void n({success:-2});var i=!1,r=null,s={};return angular.forEach(a,function(e,t){r=o(t),angular.isUndefined(r.values[e])&&(i=!0),s[t]=e}),i?void n({success:-1}):e({url:"./jobs/switch_seeker",method:"POST",data:s}).then(function(e){if(console.log(e),e=e.data||{},1==e.success)return angular.forEach(s,function(e,t){u.current_user_pref.pref[t]=parseInt(e)}),n(e),!0;n(e)})}function s(e){u.current_user_pref.fetched||u.current_user_pref.fetching||i(function(e){angular.isUndefined(e.data)&&(e.data={}),1==e.success?angular.forEach(e.data,function(e,t){u.current_user_pref.pref[t]=null!=e?parseInt(e):e}):0==e.success?angular.forEach(u.current_user_pref.pref,function(e,t){u.current_user_pref.pref[t]=null}):-2==e.success&&angular.forEach(u.current_user_pref.pref,function(e,t){u.current_user_pref.pref[t]=-2}),u.current_user_pref.fetched=!0});var t=u.current_user_pref.pref;return e&&angular.isDefined(d.lingos[e])&&(t=t[e]),t}function l(e,n,i,s){if(!t.app_data.same_com_log)return void i({success:-2});var l=o(e);if(angular.isUndefined(l.values[n]))return void i({success:-1});var c=l.values[n];if(void 0!==s&&angular.isObject(s)||(s={}),angular.isUndefined(s.heading)){var u=l.job_type.charAt(0).toUpperCase()+l.job_type.slice(1)+" "+l.pref_type.charAt(0).toUpperCase()+l.pref_type.slice(1);s.heading="Set Your "+u+" Preference"}angular.isUndefined(s.body)&&(s.body="Would you like to set your preferences as <b>"+c.name+"</b> ?"),angular.isUndefined(s.buttonConfirm)&&(s.buttonConfirm="Yes"),angular.isUndefined(s.buttonCancel)&&(s.buttonCancel="No");var d={heading:s.heading,body:s.body,buttonConfirm:s.buttonConfirm,buttonCancel:s.buttonCancel,onConfirm:function(t){var a={};a[e]=n,r(a,function(e){1==e.success&&snackbar_general("Thank you for your preference.",3500),d.callback=void 0,t(),i(e)})},callback:i};a.alertBox(d,document.body)}function c(e,t,a){var i={};if(angular.isString(e)&&(i[e]={default:void 0},e=i),angular.isArray(e)&&(angular.forEach(e,function(e,t){i[e]={default:void 0}}),e=i),angular.isObject(e)){var l=s(),c={type:"jsonhandler",layout:"2-column",submit_text:"Save",fields:{type:"radio",required:!0,value:0,classes:{div:"",div__title:"font-16",div__label:"",div__label__span:"font-14",div__label__span2:"font-12"},styles:{div__title:"color: #000000 !important;",div__label__span2:"line-height: 14px;"}},categories:[{name:"Set Job Portal Preferences",fields:[],formconfig:{}}]};if(void 0!==a&&angular.isObject(a)||(a={}),angular.isDefined(a.modalConfig)){var u=a.modalConfig;angular.isObject(u.fields__classes)&&(c.fields.classes=u.fields__classes),angular.isObject(u.fields__styles)&&(c.fields.styles=u.fields__styles),angular.isObject(u.categories__name)&&(c.categories[0].name=u.categories__name)}var p={};if(p.type=c.type,p.layout=c.layout,p.submit_text=c.submit_text,p.fields=[],p.categories=c.categories,angular.forEach(e,function(e,t){if(angular.isDefined(d.lingos[t])){var a=o(t);angular.isUndefined(a.values[e.default])&&(e.default=l[t]);var n=angular.copy(c.fields);n.name=t,n.value=void 0!=e.default?e.default:0,n.label="Your preferences as "+a.job_type+" "+a.pref_type,n.data=[],angular.forEach(a.values,function(e,t){var a={};a.value=t,a.text="I am "+e.name.toLowerCase(),e.info&&(a.longtext=e.info),e.desc&&(a.tooltip=e.desc),n.data.push(a)}),p.fields.push(n),p.categories[0].fields.push(n.name)}}),0!=p.fields.length){if(p.onsubmit=function(e){var a={};return angular.forEach(e,function(e,t){angular.isDefined(d.lingos[t])&&(a[t]=parseInt(e))}),r(a,function(e){1==e.success&&snackbar_general("Thank you for your preference.",3500),t(e)})},a.getJsonHandlerObject)return p;n.open({formOptions:[p]})}}}var u={current_user_pref:{pref:{switch:void 0,provider_switch:void 0,internship_switch:void 0,internship_provider_switch:void 0},fetched:!1,fetching:!1}},d={lingos:{switch:{job_type:"job",pref_type:"seeker",values:{0:{name:"Actively Applying for Job",info:"Would like to receive regular notifications.",desc:""},1:{name:"Casually Looking for Job",info:"Would like to receive periodic notifications only.",desc:""},2:{name:"Not Interested in Job Offers",info:"",desc:""}}},provider_switch:{job_type:"job",pref_type:"provider",values:{0:{name:"Job Provider",info:"Would like to recruit new talent.",desc:""},1:{name:"Job Referrer",info:"Would like to refer my organization's offers.",desc:""},2:{name:"Not Interested as Job Provider",info:"",desc:""}}},internship_switch:{job_type:"internship",pref_type:"seeker",values:{0:{name:"Actively Applying for Internship",info:"Would like to receive regular notifications.",desc:""},1:{name:"Casually Looking for Internship",info:"Would like to receive periodic notifications only.",desc:""},2:{name:"Not Interested in Internship Offers",info:"",desc:""}}},internship_provider_switch:{job_type:"internship",pref_type:"provider",values:{0:{name:"Internship Provider",info:"Would like to recruit new talent.",desc:""},1:{name:"Internship Referrer",info:"Would like to refer my organization's offers.",desc:""},2:{name:"Not Interested as Internship Provider",info:"",desc:""}}}}};return{getPreferencesLingo:o,getPreference:s,setPreference:r,openPreferenceModalFull:c,openPreferenceModalShort:l}}angular.module("as.sidetop").factory("asJobPref",e),e.$inject=["$http","$rootScope","bootModal","dialogform"]}(),function(){"use strict";function e(e,t,a){function n(t,n){return(a.app_data.roles.indexOf("1")>=0||a.app_data.roles.indexOf(1)>=0)&&(alert("Since you are a student, you cannot endorse a job"),n({success:0})),e({url:"./jobs/endorse_action",method:"POST",data:{job_id:t},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(n)}function o(e,n){return e.cid=a.app_data.cid,t.postDataCall("./jobs/jobsforportfolio",e,function(e){n(1==e.success?e.data:!1)})}return{endorse:n,getPublicJobs:o}}angular.module("as.sidetop").factory("asJobs",e),e.$inject=["$http","sidetopHttp","$rootScope"]}(),function(){"use strict";function e(e,t,a){function n(t,n,o,i){function r(e){if(void 0!==e.restricted&&1==e.restricted){var t=function(e){a.go("inapp.restricted_")},n=document.querySelector("#success-toast"),i={message:"Sorry, you are not allowed to use this action.",timeout:3500,actionText:"Why?",actionHandler:t};n.MaterialSnackbar.showSnackbar(i)}else o(e)}return i&&i.constructor===Object||(i={}),i.recepients=t,i.colmessage=n.replace(/\n/g,"<br />"),!chk_restrictions(9)&&e({url:"./messages/send_message",method:"POST",data:i,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(r)}function o(e,a,n,o){function i(e){e.close.then(function(){angular.isDefined(n)&&"function"==typeof n&&n()})}return!chk_restrictions(9)&&t.showModal({templateUrl:"./templates/modals/material/message_box_new_md.html",controller:"OpenSendBoxController",inputs:{user:e,params:o},target:a}).then(i)}return{sendMessage:n,openSendBox:o}}function t(e,t,a,n,o,i,r){function s(){return angular.isDefined(e.message)&&angular.isDefined(e.message.peopleList)&&e.message.peopleList.length>1?"Group ":""}function l(){if(e.message.peopleList.length>0&&angular.isDefined(e.message.messageText)&&""!==e.message.messageText){var t=[];e.sendBtnHide=!0;for(var o=0;o<e.message.peopleList.length;o++)t.push(e.message.peopleList[o].uui);n.sendMessage(t,e.message.messageText,c)}else e.isError=!0,a(u,3e3)}function c(t){if(e.sendBtnHide=!1,1==t.success){e.message.peopleList=[],e.message.messageText="",e.isSuccess=!0,a(d,1111);try{angular.isDefined(e.callback)&&"function"==typeof e.callback&&e.callback()}catch(e){console.log(e)}i(window.event),snackbar_general("Message Sent!",2500)}}function u(){e.isError=!1}function d(){e.isSuccess=!1}e.message={peopleList:[]},console.log(o),e.isGroup=s,e.close=i,e.sendThisMsg=l,e.sendBtnHide=!1,e.callback=null,function(){as_upgrade(100),angular.isDefined(o)&&angular.isDefined(o.uui)&&e.message.peopleList.push(o),angular.isDefined(r)&&(e.params=r,"string"==typeof e.params.defaultMessage&&(e.message.messageText=e.params.defaultMessage),angular.isDefined(e.params.sendMessageCallback)&&"function"==typeof e.params.sendMessageCallback&&(e.callback=e.params.sendMessageCallback)),console.log(e.message)}()}angular.module("as.sidetop").factory("asMessages",e).controller("OpenSendBoxController",t),e.$inject=["$http","ModalService","$state"],t.$inject=["$scope","$http","$timeout","asMessages","user","close","params"]}(),function(){"use strict";function e(e){function t(t,o){a=0;n=[],e.showModal({templateUrl:"./templates/modals/networkSuggestionList_md.html",controller:"OpenModalController",target:t}).then(function(e){e.close.then(function(){try{o(a,n)}catch(e){console.log(e.name+': "'+e.message+'" occurred when assigning x.')}})})}return{openModal:t}}function t(e,t,o,i,r){function s(){1==d&&l()}function l(){return e.isFetching=!0,t({url:"./profile/networkSuggestionList",method:"POST",data:{stream:d},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(c)}function c(t){e.isFetching=!1,1==t.success?(e.prospectiveProfiles=e.prospectiveProfiles.concat(t.data),d++):-1==t.success&&(e.seemore=!1)}function u(t){n.push(e.prospectiveProfiles[t]),e.prospectiveProfiles.splice(t,1),a++}e.s3_url=o.s3base_url,e.close=i,e.prospectiveProfiles=[],e.seemore=!0,e.isFetching=!1;var d=1;e.trigger=s,e.loadMorePeople=l,e.spliceProfile=u,function(){e.trigger()}()}var a,n;angular.module("as.sidetop").factory("asNetAdd",e).controller("OpenModalController",t),e.$inject=["ModalService"],t.$inject=["$scope","$http","s3","close","$filter"]}(),function(){"use strict";function e(e,t){function a(a,n){angular.isDefined(c.current_user_networks.networks[a])&&(c.current_user_networks.networks[a].changing=!0);var o={network_uui:a,request_status:t.enabled("networking.two_way.*")?0:1};return e({url:"./profile/addNetworkUsers_c",method:"POST",data:{network_uui:[o]}}).success(function(e){angular.isDefined(c.current_user_networks.networks[a])&&(c.current_user_networks.networks[a].changing=!1),c.current_user_networks.fetched&&i(function(e){angular.isDefined(e.data)&&angular.isObject(e.data)&&(c.current_user_networks.networks=e.data)}),n(e)})}function n(a,n,o){return angular.isDefined(c.current_user_networks.networks[a])&&(c.current_user_networks.networks[a].changing=!0),e({url:"./profile/removeNetworkUsers_c",method:"POST",data:{network_uui:a,request_status:n,two_way:!!t.enabled("networking.two_way.*")}}).success(function(e){angular.isDefined(c.current_user_networks.networks[a])&&(c.current_user_networks.networks[a].changing=!1),c.current_user_networks.fetched&&i(function(e){angular.isDefined(e.data)&&angular.isObject(e.data)&&(c.current_user_networks.networks=e.data)}),o(e)})}function o(t,a,n){return e({url:"./profile/networkSuggestionList",method:"POST",data:{limit:a,stream:t}}).success(n)}function i(t){return c.current_user_networks.fetching=!0,e({url:"./profile/fullNetworkUUI",method:"POST"}).success(function(e){c.current_user_networks.fetching=!1,t(e)})}function r(t,a,n,o,i,r){return void 0===r&&(r=1),e({url:"./profile/getUsers_IamInThierNW_c",method:"POST",data:{limit:n,nUUI:t,request_status:r,stream:a,offset:o},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(i)}function s(t,a,n,o,i,r){return void 0===r&&(r=1),e({url:"./profile/getNetworkUsers_c",method:"POST",data:{limit:n,uui:t,request_status:r,stream:a,offset:o},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(i)}function l(e){var t=null;return c.current_user_networks.fetched?t=c.current_user_networks.networks[e]||{}:c.current_user_networks.fetching||i(function(e){angular.isDefined(e.data)&&angular.isObject(e.data)&&(c.current_user_networks.networks=e.data),c.current_user_networks.fetched=!0}),t}var c={current_user_networks:{networks:{},fetched:!1,fetching:!1}};return{addToNetwork:a,updateUserNetwork:n,fetchNetworkSuggestions:o,fetchNetworkUUI:i,networkingStatus:l,fetchPeopleAddedMe:r,fetchPeopleIAdded:s}}angular.module("as.sidetop").factory("asNetwork",e),e.$inject=["$http","features"]}(),function(){"use strict";function e(e,t,a,n,o,i,r){function s(e,t){if(!e.calling_api){var a={tid:e.id};e.calling_api=!0,o.postDataCall("./tags3step/followTag",a,function(a){e.calling_api=!1,1==a.success&&(e.following=!0,e.extra.follow_count++,t&&t(a))})}}function l(e,t){if(!e.calling_api){var a={tid:e.id};e.calling_api=!0,o.postDataCall("./tags3step/unfollowTag",a,function(a){e.calling_api=!1,1==a.success&&(e.following=!1,e.extra.follow_count--,t&&t(a))})}}function c(e,t){if(!e.calling_api){var a={tag_id:e.id};e.calling_api=!0,o.postDataCall("./tags/register_as_member",a,function(a){e.calling_api=!1,1==a.success&&(e.member=!0,e.extra.member_count++,t&&t(a))})}}function u(e,t){e.calling_api||swal({text:"Are you sure? You are about to get removed from the list.",buttons:["Cancel","Yes"]}).then(function(a){if(a){var n={tag_id:e.id};e.calling_api=!0,o.postDataCall("./tags/remove_member",n,function(a){e.calling_api=!1,1==a.success&&(e.member=!1,e.extra.member_count--,t&&t(a))})}})}function d(e,t,a,o,i){var r={type:"jsonhandler",layout:"1-column",submit_text:"Submit",fields:{type:"radio",required:!0,value:0,classes:{div:"",div__title:"font-18",div__label:"",div__label__span:"font-16"},styles:{div__title:"color: #000000 !important;",div__label__span2:"line-height: 14px;"}},categories:[{name:"Please share your information",fields:[],formconfig:{}}]};if(void 0!==i&&angular.isObject(i)||(i={}),angular.isDefined(i.modalConfig)){var s=i.modalConfig;angular.isObject(s.fields__classes)&&(r.fields.classes=s.fields__classes),angular.isObject(s.fields__styles)&&(r.fields.styles=s.fields__styles),angular.isObject(s.categories__name)&&(r.categories[0].name=s.categories__name)}var l={};l.type=r.type,l.layout=r.layout,l.submit_text=r.submit_text,l.fields=[],l.categories=r.categories;var u=angular.copy(r.fields);if(u.name="network_membership_question",u.label=a.question,u.data=[],angular.forEach(a.options,function(e,t){var a={};a.value=e,a.text=e,u.data.push(a)}),l.fields.push(u),l.categories[0].fields.push(u.name),0!=l.fields.length){if(l.onsubmit=function(n){var i={};return angular.forEach(n,function(e,t){i[t]=e}),angular.isDefined(a.actions)&&angular.isArray(a.actions.become_member)&&angular.isDefined(i.network_membership_question)&&-1!=a.actions.become_member.indexOf(i.network_membership_question)&&(c(t),t.became_member=!0),l.submitted=!0,o(i,e,t),!0},i.getJsonHandlerObject)return l;n.open({formOptions:[l]})}}function p(e){angular.isDefined(e.attributes)&&angular.isObject(e.attributes)||(e.attributes={}),angular.isDefined(e.attributes.default_content)&&angular.isObject(e.attributes.default_content)||(e.attributes.default_content={});var t=e.attributes.default_content;angular.isDefined(t.description)&&angular.isString(t.description)||(t.description="Start following "+e.name),angular.isDefined(t.membership_question)&&angular.isObject(t.membership_question)||(t.membership_question={}),angular.isDefined(t.membership_question.question)&&angular.isString(t.membership_question.question)||(t.membership_question.question="Would you like to become a member?"),angular.isDefined(t.membership_question.options)&&angular.isArray(t.membership_question.options)||(t.membership_question.options=["Yes","No"]),angular.isDefined(t.membership_question.actions)&&angular.isObject(t.membership_question.actions)||(t.membership_question.actions={become_member:["Yes"]}),t.form_id=t.form_id||0,angular.isDefined(t.contact_btn_txt)&&angular.isString(t.contact_btn_txt)||(t.contact_btn_txt="Get in Touch"),angular.isDefined(t.contact_message)&&angular.isString(t.contact_message)||(t.contact_message="Hi"),angular.isDefined(t.card_image)&&angular.isString(t.card_image)||(t.card_image="https://almashines.s3.dualstack.ap-southeast-1.amazonaws.com/assets/staticpagesdata/5/lEZp7gYICs1558519753.jpg")}function m(e,t,a){a.calling_api||(a.following&&a.member?u(a,function(){l(a)}):a.following&&!a.member?l(a):!a.following&&a.member?u(a):a.following||a.member||(s(a),f(t,a)))}function f(e,t){e.membership_question_directive_options=d(e,t,t.attributes.default_content.membership_question,g,{getJsonHandlerObject:!0}),e.membership_question_directive_options&&(e.membership_question_directive_options.hide_categories=!0),setTimeout(function(){var t=document.getElementById((e.name||"div")+"-membership_question");t&&scrollTo(t.getBoundingClientRect().top+window.pageYOffset-120,1e3)},500)}function g(e,t,a){snackbar_general("Information updated Successfully",2e3),a.became_member&&(a["on-same-page"]||i.go("inapp.single_network",{tag:a.link}))}function _(e){if(!e.updating_membership_details){var t=function(){e.updating_membership_details=!1,e["callback-on-membership-details-changed"]&&e["callback-on-membership-details-changed"]()};if(!e.member||!e.attributes.default_content.form_id)return void t();e.updating_membership_details=!0;var a=e.attributes.default_content.form_id;n.asform({form_id:a,pref:{fetch_form_params:{params:{getUserResponse:{my_last_response:!0}}}},cancel_callback:t})}}function h(e){angular.isDefined(e.attributes)&&angular.isObject(e.attributes)||(e.attributes={}),angular.isDefined(e.attributes.design_metadata)&&angular.isObject(e.attributes.design_metadata)||(e.attributes.design_metadata={}),angular.isDefined(e.attributes.design_metadata.list_design)&&angular.isString(e.attributes.design_metadata.list_design)||(e.attributes.design_metadata.list_design="list_design"),e.childs=e.childs||[],angular.forEach(e.childs,function(e,t){p(e)})}function v(e){var t={data:[],is_data_ready:!1};if(0!=e.length&&angular.isDefined(e.attributes.goal)){if(angular.isDefined(e)&&angular.isDefined(e.attributes)&&angular.isDefined(e.attributes.goal))var a=e.attributes.goal}else var a=[];var n=null;return y(function(e){b(function(o){w(function(i){angular.forEach(e.data,function(e,r){angular.isDefined(o.data.goals)&&angular.forEach(o.data.goals,function(o,r){o.name!=e.name||0!=a.length&&-1==a.indexOf(o.name)||-1!=i.data.indexOf(o.name)||(n=angular.copy(o),n.custom_description=e.description||"",t.data.push(n))})}),t.is_data_ready=!0})})}),t}function y(e,a){return D.community_goals.fetched&&!a?(e&&e(D.community_goals),D.community_goals):(D.community_goals.fetched=!1,D.community_goals.data=[],r.fetch_metadata({meta_code:65,cid:t.app_data.data.cid},function(t){D.community_goals.fetched=!0,angular.isObject(t.data)&&angular.isArray(t.data.network_goals)&&(D.community_goals.data=t.data.network_goals),e&&e(D.community_goals)}),D.community_goals)}function b(t){if(D.community_goals_metadata.fetched)return t&&t(D.community_goals_metadata),D.community_goals_metadata;D.community_goals_metadata.fetched=!1,D.community_goals_metadata.data={};var a={meta_option:"network_goals"};return e.post("./admin/getAlmaMetadata",a).then(function(e){D.community_goals_metadata.fetched=!0,angular.isObject(e.data.data)&&(D.community_goals_metadata.data=e.data.data,t&&t(D.community_goals_metadata))}),D.community_goals_metadata}function w(a,n){if(D.community_goals_user_metadata.fetched&&!n||!t.app_data.same_com_log)return a&&a(D.community_goals_user_metadata),D.community_goals_user_metadata;D.community_goals_user_metadata.fetched=!1,D.community_goals_user_metadata.data=[];var o={meta_option:"user_contribution"};return e.post("./profile/get_user_metadata",o).then(function(e){D.community_goals_user_metadata.fetched=!0,angular.isObject(e.data.data)&&(angular.isArray(e.data.data.data)||(e.data.data.data=[]),D.community_goals_user_metadata.data=e.data.data.data,a&&a(D.community_goals_user_metadata))}),D.community_goals_user_metadata}function k(t){var a={type:"jsonhandler",layout:"1-column",submit_text:"Submit",fields:{type:"radio",required:!0,classes:{div:"maximize-width",div__title:"font-18",div__label:"",div__label__span:"font-16",div__textarea:"maximize-width"},styles:{div__title:"color: #000000 !important;",div__label__span2:"line-height: 14px;"}},categories:[{name:t.membership_question.short_question,fields:[],formconfig:{}}]},o={};o.type=a.type,o.layout=a.layout,o.submit_text=a.submit_text,o.fields=[],
o.categories=a.categories;var i=angular.copy(a.fields);i.name="goal_answer",i.label=t.membership_question.question,i.data=[],angular.forEach(t.membership_question.options,function(e,t){i.data.push({text:e,value:e})}),i.show_label=!0,i.description=t.custom_description||"",o.fields.push(i),o.categories[0].fields.push(i.name),o.onsubmit=function(a){var n=a.goal_answer;if(t.pref_set=!0,angular.isDefined(t.membership_question.action)&&angular.isArray(t.membership_question.action.become_member)&&-1!=t.membership_question.action.become_member.indexOf(n)){t.calling_api=!0;var o={meta_option:"user_contribution",is_unique:!1,meta_value:t.name};e.post("./profile/set_user_metadata",o).then(function(e){t.calling_api=!1,1==e.data.success&&snackbar_general("Preferences saved successfully.",2500)})}return!0},n.open({formOptions:[o]})}var D={community_goals:{data:[],fetched:!1},community_goals_metadata:{data:{},fetched:!1},community_goals_user_metadata:{data:[],fetched:!1}};return{openPreferenceModalFull:d,follow:s,unfollow:l,addMember:c,removeMember:u,activateNetworkData:p,onFollowClick:m,activateCategoryData:h,getMoreDetailsFromMember:_,getCommunityGoals:y,getCommunityGoalsMetadata:b,getGoalQuestionsForCurrentUser:v,openGoalModalFull:k}}angular.module("as.sidetop").factory("asNetworkPref",e),e.$inject=["$http","$rootScope","bootModal","dialogform","sidetopHttp","$state","insti_info"]}(),function(){"use strict";function e(e,a,n,o,i){function r(t){if(void 0===t&&(t={}),t.force_refresh&&(l.integrations={list:[],fetched:!1,fetching:!1,hasEmptyList:!1}),!l.integrations.fetched&&!l.integrations.fetching){l.integrations.fetching=!0;var n={filters:{cid:a.app_data.cid,status:1,token_valid:1},params:{get_complete_list:!0}};e({url:"./communities/social_platforms/actions/list_social_platform_integrations",method:"POST",data:n}).success(function(e){l.integrations.fetching=!1,1==e.success&&angular.isDefined(e.data.integrations)&&angular.forEach(e.data.integrations,function(e,t){l.integrations.list.push(e)}),l.integrations.fetched=!0,l.integrations.hasEmptyList=0==l.integrations.list.length})}return l.integrations}function s(e,a){if(!o.isAllowed(16))return void snackbar_general("Unauthorized access error!",3500);void 0===a&&(a={}),a.message&&(a.default_inputs={message:a.message}),a.default_inputs=a.default_inputs||{},a.callback_functions=a.callback_functions||{},n.showModal({templateUrl:"./templates/modals/asShareOnISP.html",controller:t,inputs:{default_inputs:a.default_inputs,callback_functions:a.callback_functions},target:e.target}).then(function(e){e.close.then(function(e){})})}var l={integrations:{list:[],fetched:!1,fetching:!1,hasEmptyList:!1}};return{getActiveIntegrations:r,openISPSharingDialog:s}}function t(e,t,a,n,o,i,r,s,l){function c(){angular.isDefined(a)&&(angular.isDefined(a.integration_id)?e.info.post.integration.id=a.integration_id:e.info.integrations.list.length>0&&(e.info.post.integration=e.info.integrations.list[0]),angular.isDefined(a.message)&&(e.info.post.message=a.message),r(function(){var e=document.getElementById("share_on_isp_message_input");e&&e.focus()},500))}function u(t){if(!e.info.post.creating){if(angular.isUndefined(e.info.post.integration.id)||0==e.info.post.integration.id)return e.info.post.error="Please select the social platform, where you want to share a post",void r(function(){e.info.post.error=null},5e3);if(e.info.post.message=e.info.post.message.trim(),!e.info.post.message)return e.info.post.error="Post should not be empty. Write a message to post.",void r(function(){e.info.post.error=null},5e3);e.info.post.creating=!0;var a={integration_id:e.info.post.integration.id,post_data:{type:"post",message:e.info.post.message,image:e.imgresponse}};e.info.post.link&&e.info.post.link.url&&(a.post_data.link=e.info.post.link.url,0==a.post_data.message.localeCompare(a.post_data.link)&&delete a.post_data.message),s({url:"./communities/social_platforms/actions/create_social_platform_post",method:"POST",data:a}).success(function(o){if(e.info.post.creating=!1,1==o.success&&angular.isDefined(o.data.post)){if(console.log(o.data.post),snackbar_general("New post created successfully.",3500),angular.isDefined(n)&&angular.isFunction(n.after_post_created)){var i={integration_id:a.integration_id,post_data:o.data.post};n.after_post_created(i)}e.close(t)}else snackbar_general(o.error||"Something went wrong! Try again later.",3500)})}}function d(t){l.go("inapp.admin",{category:"admin",tab:"social_media_platforms"}),e.close(t)}as_upgrade(10),e.close=o,e.info={integrations:{},post:{integration:{},message:""}},e.submit_social_post=u,e.redirect_to_social_dashboard=d,function(){e.info.integrations=i.getActiveIntegrations(),c(),e.field_details={field:{type:"file-input-element",name:"imageuploadfb",lable:"Upload Images",metadata:{type:"image",width:"170px",height:"170px",multiple:!0}}},e.imgresponse}()}angular.module("as.sidetop").factory("asSocialPlatforms",e),e.$inject=["$http","$rootScope","ModalService","adminRights","$state"],t.$inject=["$scope","$rootScope","default_inputs","callback_functions","close","asSocialPlatforms","$timeout","$http","$state"]}(),function(){"use strict";function e(e,t,a,n){function o(t){if(!a.isAllowed(14))return void snackbar_general("Unauthorized access error!",3500);if(void 0===t&&(t={}),t.force_refresh&&(i.pages={list:[],fetched:!1,fetching:!1,hasEmptyList:!1}),!i.pages.fetched&&!i.pages.fetching){i.pages.fetching=!0;e({url:"./admin/getPages",method:"POST",data:{}}).success(function(e){i.pages.fetching=!1,1==e.success&&angular.isDefined(e.data.pages)&&angular.forEach(e.data.pages,function(e,t){e.page_link=n.href("inapp.staticpage",{tmp:e.link_text+"-"+e.id},{absolute:!0}),i.pages.list.push(e)}),i.pages.fetched=!0,i.pages.hasEmptyList=0==i.pages.list.length})}return i.pages}var i={pages:{list:[],fetched:!1,fetching:!1,hasEmptyList:!1}};return{getStaticPages:o}}angular.module("as.sidetop").factory("asStaticPages",e),e.$inject=["$http","$rootScope","adminRights","$state"]}(),function(){"use strict";function e(e){function t(t){var a=new FormData;a.append("upload",t.imageData,"temp.jpeg");var n={withCredentials:!0,headers:{"Content-Type":void 0},transformRequest:angular.identity};e.post("./welcome/upload",a,n).success(t.callback)}return{tempUpload:t}}angular.module("as.sidetop").factory("asUploads",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t,a){return e.postDataCall("./support/user_metadata/user_metadata_insert",t,a)}function a(t,a){return e.postDataCall("./support/user_metadata/user_metadata_fetch",t,a)}return{insert:t,fetch:a}}angular.module("as.sidetop").factory("asUserMetadata",e),e.$inject=["sidetopHttp"]}(),function(){"use strict";function e(){function e(e){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}return{getValue:e}}angular.module("as.sidetop").factory("asqueryString",e)}(),function(){"use strict";function e(e,t,a){function n(e,a){function n(t){console.log("alertModalCallback","modal:",t),t.close.then(function(){try{e.callback()}catch(e){console.log(e.name+': "'+e.message+'" occurred when assigning x.')}})}t.showModal({templateUrl:"./templates/modals/alertBox_md.html",controller:"AlertBoxController",inputs:{alertData:e},target:a}).then(n)}function o(e,a,n){function o(e){e.close.then(function(){})}t.showModal({templateUrl:"./templates/modals/material/custom_user_list_md.html",controller:"UserListModalController",inputs:{query:e,viewData:a},target:n}).then(o)}function i(e,a){function n(e){e.close.then(function(e){a(e)})}t.showModal({templateUrl:"templates/modals/changeEventPic.html",controller:"PicChangeModalController",target:e.target,inputs:{imgPath:e.imagePath,aspect_ratio:e.aspect_ratio,width:e.width,height:e.height,type:e.type}}).then(n)}function r(e,a){var n={controller:["$scope","close",function(t,a){function n(e){return e=document.createEvent("Event"),a(e)}if(isObject(e.scope_vars))for(var o in e.scope_vars)t[o]=e.scope_vars[o];t.close=n}],target:a},o='<div class="modal" role="dialog" aria-hidden="true" style="min-height:100px;">\t\t\t\t\t\t<div class="modal__dialog maximize-width">\t\t\t\t\t\t\t<div class="modal-invisible-class" ng-click="close($event)"></div>\t\t\t\t\t\t\t<div class="modal__content adjust-modal-small modal__below_header mdl-shadow--2dp" style="padding: 0px">\t\t\t\t\t\t\t\t<div class="margin-bottom-12 mdl-color--white rel-pos">\t\t\t\t\t\t\t\t\t<div class="mdl-color--white abs-pos" style="border-radius: 50%; top: 12px; right: 12px;">\t\t\t\t\t\t\t\t\t\t<i class="cursor-pointer icon-close new-icon margin-0 padding-2" ng-click="close($event)"></i>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t'+(e.template?e.template:"")+"\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>";n.template=o,t.showModal(n).then(function(e){var t=document.querySelectorAll(".modal");if(t.length>1){for(var a=0;a<t.length;a++)angular.element(t[a]).removeClass("modal--active");angular.element(e.element[0]).addClass("modal--active"),e.closed.then(function(e){var t=document.querySelectorAll(".modal");t.length>0&&angular.element(t[t.length-1]).addClass("modal--active")})}})}return{alertBox:n,user_list:o,pic_change:i,simpleBox:r}}function t(e,t,a,n,o,i,r){e.imgPath=t,e.aspect_ratio=a,e.img_width=n,e.img_height=o,e.area_type=i,e.myCroppedImage="",e.close=r,e.test_url="",e.result_image_size="number"==typeof n&&"number"==o?{w:n,h:o}:"max",e.resizing=!1,e.liveView={block:!1,callback:function(){e.resizing=!0}},e.$watch("myCroppedImage",function(){e.resizing=!1})}angular.module("as.sidetop").factory("bootModal",e).controller("PicChangeModalController",t),e.$inject=["$http","ModalService","$location"],t.$inject=["$scope","imgPath","aspect_ratio","width","height","type","close"]}(),function(){"use strict";function e(e,t,a){function n(t){if(!isNaN(t)&&0!=t){var a={claiming_uui:t};return swal("If this is your profile then admin will verify and delete this duplicate profile.",{buttons:[{text:"Cancel",value:!1,visible:!0},{text:"Proceed",value:!0,closeModal:!1}],closeOnClickOutside:!1}).then(function(t){return!!t&&e.post("./profile/claim_profile",a).then(function(e){return e.data&&1==e.data.success?(snackbar_general("You will be notified when admin takes action on this.",3e3),!0):(snackbar_general("Someone might have already claimed this profile. Please try after someday."),!1)})}).then(function(e){return swal.stopLoading(),swal.close(),e})}}function o(n,o){if(!t.app_data.same_com_log){var i=" create your profile so that admin can verify you.";i=o&&o.constructor==String&&""!==o.trim()?"If you are "+o+","+i:"If this is you then"+i,swal(i,{buttons:["Cancel","Create Profile"]}).then(function(t){console.log("if","claimed:",t),t&&e.post("./signuser/claim_profile",{uui:n}).then(function(){a.go("inapp.login")})})}}return{claimProfile:n,bySignup:o}}angular.module("as.sidetop").factory("claimProfile",e),e.$inject=["$http","$rootScope","$state"]}(),function(){"use strict";function e(e,t){function a(e,a){function n(e){e.close.then(function(e){a(e)})}t.showModal({templateUrl:"./templates/modals/material/changeDate.html",controller:"OpenDateTimeController",inputs:{date:e.data,mindate:e.mindate,display_mode:angular.isDefined(e.display_mode)?e.display_mode:""},target:e.target}).then(n)}return{openDateTime:a}}function t(e,t,a,n,o){function i(e){o(window.event,e)}e.date=t,e.display_mode=n,e.min_date=String(a),window.innerWidth<820?e.compact=!0:e.compact=!1,e.closess=i}angular.module("as.sidetop").factory("dateTimePick",e).controller("OpenDateTimeController",t),e.$inject=["$http","ModalService"],t.$inject=["$scope","date","mindate","display_mode","close"]}(),function(){"use strict";function e(e){function t(t,a){a&&angular.isObject(a)||(a={});var n={templateUrl:"./templates/modals/downloadModal_md.html",controller:"downloadDatabaseCtrl",inputs:{url:t},target:document.body};n=angular.merge(n,a),console.log(n),e.showModal(n)}return{withConfirmation:t}}function t(e,t,a,n,o,i,r){function s(){o.post("./changepassword/logged_in_api?redirect=search"),t()}function l(n){function o(a){1==a.success&&a.token?(e.downloadWarning=!1,e.downloadEmptyWarning=!1,e.showDownloadLoading=!0,e.waitingText="Authenticating...",e.showDownloadLoading=!1,t(n),-1==i.indexOf("?")&&(i+="?"),i=i+"&token="+a.token,r.do(window.API_BASE_URL+i,"csv","text/csv")):(e.downloadEmptyWarning=!1,e.downloadWarning=!0)}var s=e.test.pwd;if(""!=s&&null!=s){var l={enteredPass:s};return a.postDataCall("./search/checkPasswordOnDownload",l,o)}e.downloadWarning=!1,e.downloadEmptyWarning=!0}as_upgrade(10),e.close=t,e.okClick=l,e.changePasswordButton=s}angular.module("as.sidetop").factory("downloadDatabase",e).controller("downloadDatabaseCtrl",t),e.$inject=["ModalService"],t.$inject=["$scope","close","sidetopHttp","$timeout","$http","url","fileDownload"]}(),function(){"use strict";function e(e,a){function n(e){if(!a.isMeta(45))return!1;var t=a.meta(45);return t.indexOf("all")>-1||t.indexOf(e)>-1}function o(a,n,o,i){e.showModal({templateUrl:"./templates/modals/enrollEditor.html",controller:t,inputs:{enrollNo:a,uui:n},target:i.target}).then(function(e){e.close.then(function(e){try{o(e)}catch(e){}})})}return{invoke:o,allowedFor:n}}function t(e,t,a,n,o){function i(i,r){return r?t.enrollNo==a?o(i,{saved:1,enrollNo:a}):(t.saving=!0,void e.post("./admin/changeEnroll",{enrollmentNo:t.enrollNo,uui:n}).then(function(e){return t.saving=!1,e.data&&1==e.data.success?o(i,{saved:1,enrollNo:t.enrollNo}):e.data&&0==e.data.success?(snackbar_general("Please try again after sometime. If this error persists contact Almashines.",5e3),o(i,{saved:0,enrollNo:t.enrollNo})):e.data&&-1==e.data.success?(snackbar_general("We could not process this request. Refresh this page and try again. If this error persists contact Almashines.",6e3),o(i,{saved:-1,enrollNo:t.enrollNo})):(snackbar_general("We could not process this request. Refresh this page and try again. If this error persists contact Almashines.",6e3),o(i,{saved:-1,enrollNo:a}))}).catch(function(){t.saving=!1,snackbar_general("We could not process this request. Please check your Internet connection. If this error persists contact Almashines.",6e3)})):o(i,{saved:1,enrollNo:a})}t.enrollNo=a,t.saving=!1,t.close=i,as_upgrade(200)}angular.module("as.sidetop").factory("enrollEditor",e),e.$inject=["ModalService","$rootScope"],t.$inject=["$http","$scope","enrollNo","uui","close"]}(),function(){"use strict";function e(e){var n={enabled:t,getFeature:a,getCustomizedFeature:o};return r=e,r.featureEnabled=t,r.featuresFactory=n,n}function t(e,t){if(void 0===t&&(t=!1),!e&&e.constructor!==String)return t;var n=t,o=a(e,t,!0);return angular.isObject(o)&&angular.isDefined(o.enabled)&&(n=!!o.enabled),n}function a(e,t,a){void 0===a&&(a=!0);var o=e.split("."),i=o.length>1?o.pop():"*";if(!r.isMeta(42))return t;var s=r.meta(42);if(!s.features)return t;var l=s.features,c=n(o,l,t,a);return"*"!==i&&(c=angular.isDefined(c)&&angular.isDefined(c[i])?c[i]:t),c}function n(e,t,a,o){if(1==e.length)return angular.isDefined(t[e[0]])?t[e[0]]:a;var i=e.shift();return n(e,angular.isDefined(t[i])&&angular.isDefined(t[i].sub_features)&&(!o||t[i].enabled)?t[i].sub_features:{},a,o)}function o(e,t){var a=e.split(".");if(!r.isMeta(42))return t;var n=r.meta(42);return n.customizations?i(a,n.customizations,t):t}function i(e,t,a){if(1==e.length)return angular.isDefined(t[e[0]])?t[e[0]]:a;var o=e.shift();return n(e,angular.isDefined(t[o])?t[o]:{},a)}angular.module("as.sidetop").factory("features",e);var r;e.$inject=["$rootScope"]}(),function(){"use strict";function e(){function e(e,t,a){if(console.log("fileDownloadNOpen","url:",e,"type:",t,"mime:",a),void 0==e||void 0==t)return void console.log("Please provide url and type.");if(platform){var n=new FileTransfer,o=encodeURI(e),i=cordova.file.externalCacheDirectory;platformis.ios&&(i=cordova.file.cacheDirectory),i+="tmp"+Math.floor(1e4*Math.random())+t,snackbar_general("File downloading in progress..",2e3),void 0===a&&(a="application/"+t),n.download(o,i,function(e){console.log("download complete: "+e.toURL()),cordova.plugins.fileOpener2.open(i,a,{error:function(e){console.log("Error status: "+e.status+" - Error message: "+e.message),snackbar_general("Downloaded file could not be opened. Your mobile doesn't support "+t+" files. Please try downloading it again on your PC.",4e3)},success:function(){console.log("file opened successfully")}})},function(e){snackbar_general("File could not be downloaded. Please try again.",2e3),console.log("download error ",e),console.log(e),console.log("download error source "+e.source),console.log("download error target "+e.target),console.log("download error code"+e.code)},!1,{})}else window.open(e,"_blank")}return{do:e}}angular.module("as.sidetop").factory("fileDownload",e)}(),function(){"use strict";function e(e,t,a){function n(t,a,n){if(!t.form_id)return n(),!1;var o=t.wrap_as_public||!1,r="./general/forms/forms/public_responses";return o&&(t.id=t.form_id,r="./admin/getFormResponse"),3==t.simpleParse&&(t.getFormDetails=1),t.getFormDetails&&void 0!==h[t.form_id]&&(t.getFormDetails=0),e.post(r,t).then(function(e){if(o&&angular.isArray(e.data.data)&&(e.data.data={responses:e.data.data}),1==e.data.success&&e.data.data&&e.data.data.responses){e.data.data.schema={dataKey:["responses"]},h[t.form_id]&&(e.data.data.formDetails=h[t.form_id]);var r;try{r=e.data.data.formDetails}catch(e){}e.data.data.responses=i(e.data.data.responses,r,t),console.log("cb","res.data.data:",angular.copy(e.data.data)),a(e.data.data)}else n();return e})}function o(e){function t(t){return i([e.formResponseAPIFormat],e.formDetails,t)[0]}return{ForJsonCMS:t}}function i(e,n,o){return 1==o.simpleParse&&(e=e.map(function(e){var t={ResponseID:e.ResponseID,Time:e.Time,formatingSimpleParse1:!0};e.user&&(t.user=e.user);for(var a in e.response)t[e.response[a].title]=e.response[a].response;return t.user?t.noUser=!1:t.noUser=!0,t})),2==o.simpleParse&&(e=e.map(function(e){return e.formatingSimpleParse2=!0,e.response=Object.keys(e.response).reduce(function(t,a){return t[e.response[a].name]=e.response[a],t},{}),e.user?e.noUser=!1:e.noUser=!0,e})),3==o.simpleParse&&(e=e.map(function(e){return d(e,"API_FORMAT",n.fields).DEFAULT_FORMAT("name")})),o.simpleParse&&a.is("inapp.campusfeed_view")&&(e=e.map(function(e){return e.share_link=a.href(".",{shared:e.ResponseID},{absolute:!0}),window.platform&&(e.share_link=t.COMM_APPBASE.slice(0,-1)+a.href(".",{shared:e.ResponseID},{}).replace(window.file_base_rel,"")),e})),getParameterByName("shared")&&!isNaN(getParameterByName("shared"))&&""!==getParameterByName("shared")&&(e=e.reduce(function(e,t){return t.ResponseID&&t.ResponseID==parseInt(getParameterByName("shared"))?e.unshift(t):e.push(t),e},[])),e}function r(t,a){if(!t.form_id)return a(0),!1;var n=angular.copy(t);return n.getcount=1,n.getcount_only=1,e.post("./general/forms/forms/public_responses",n).then(function(e){a(1==e.data.success&&e.data.data&&!isNullUndefined(e.data.data.total_count)?e.data.data.total_count:0)})}function s(e){if(!e.form_id)return!1;var a=t.api_base+"admin/downloadResponses/"+e.form_id+"/?download=true",n=["filter","attribute","value","defaultStatus","search_attribute"];return angular.forEach(n,function(t,n){angular.isUndefined(e[t])||(angular.isObject(e[t])?angular.forEach(e[t],function(e,n){if(isArray(e))for(var o in e)a+="&"+t+"["+n+"][]="+e[o];else a+="&"+t+"["+n+"]="+e}):a+="&"+t+"="+e[t])}),a}function l(t,a){var n={};return a&&a.constructor==Object&&(n=a),n.field_id=t,e.post("./general/forms/forms/getUniqueFieldValues",n).then(function(e){return!(!e.data||1!=e.data.success||!e.data.data)&&e.data.data})}function c(t,a,n){return e.post("./general/forms/forms/setFieldData",{response_id:t,field_id:a,response:n}).then(function(e){return e.data})}function u(t,a,n,o){return e.post("./general/forms/forms/newCampusfeedResponsePublish",{response_id:n,field_id:o,form_id:a,heading:t}).then(function(e){return e.data})}function d(e,t,a){function n(n){function o(e,t,n){var e=angular.copy(e),r={response:{}};isNullUndefined(t)?e.__response_id&&(r.ResponseID=e.__response_id):r.ResponseID=t;for(var s in e){var l=p("id",s,a);if(void 0!==l.id&&!isEmpty(e[s]))if(r.response[s]=angular.copy(l),17==l.type){r.response[s].responses=[];for(var c=0;c<e[s].length;c++)r.response[s].responses[c]=o(e[s][c]);r.response[s].formatted_value=i(l,r.response[s].responses),r.response[s].response=r.response[s].formatted_value.html}else 16==l.type?(r.response[s].responses=[],r.response[s].responses[0]=o(e[s]),r.response[s].formatted_value=i(l,r.response[s].responses),r.response[s].response=r.response[s].formatted_value.html):r.response[s].response=e[s]}return r}function i(e,t){var a,n,o={plain_text:null,html:null};return e.metadata&&e.metadata.formatted_value&&(e.metadata.formatted_value.plain_text||e.metadata.formatted_value.html)&&(e.metadata.formatted_value.html&&(a=e.metadata.formatted_value.html,n=e.metadata.formatted_value.html_join_str?e.metadata.formatted_value.html_join_str:"<br>",o.html=r(e,t,{format_name:"html",format_str:a,join_str:n})),e.metadata.formatted_value.plain_text&&(a=e.metadata.formatted_value.plain_text,n=e.metadata.formatted_value.plain_text_join_str?e.metadata.formatted_value.plain_text_join_str:"\n",o.plain_text=r(e,t,{format_name:"plain_text",format_str:a,join_str:n}))),isNullUndefined(o.html)&&(a="",n="<br>",o.html=r(e,t,{format_name:"html",format_str:a,join_str:n})),o}function r(e,t,a,n){var o=a.format_str;if(17!=e.type||n&&"ResponseObject"===n){if(16!=e.type||n&&"ResponseObject"===n){for(var i in t.response){var s=p("id",i,e.subfields);if(s)if(a.format_str){var l=new RegExp("\\["+s.name+"\\]","g");o=o.replace(l,t.response[i].response)}else o?o+=", "+t.response[i].response:o=t.response[i].response}return o}return isObject(t[0].formatted_value)||(t[0].formatted_value={}),t[0].formatted_value[a.format_name]=r(e,t[0],a,"ResponseObject"),t[0].formatted_value[a.format_name]}for(var c=[],u=0;u<t.length;u++)isObject(t[u].formatted_value)||(t[u].formatted_value={}),c[u]=r(e,t[u],a,"ResponseObject"),t[u].formatted_value[a.format_name]=c[u];return c.join(a.join_str)}return"API_FORMAT"===t?e:o(e,n)}function o(n){function o(e,t){if(isObject(t)||(t=e),16==t.type||17==t.type)var a="responses";else var a="response";if(!isNullUndefined(e[a]))return e[a]}function i(e,t){if(16==e.type){if(!isArray(t)||1!==t.length)return;if((t=t[0])&&t.ResponseID>0){var r={__response_id:t.ResponseID},s=t.response;if(!isObject(s))return;for(var l in s){var c=p("id",l,a),u=o(s[l]),d=i(s[l],u);void 0!==c[n]&&(r[c[n]]=d)}t=r}}else if(17==e.type){if(!isArray(t))return;for(var r=[],m=0;m<t.length;m++)if(t[m]&&t[m].ResponseID>0){r[m]={__response_id:t[m].ResponseID};var s=t[m].response;if(!isObject(s))return;for(var l in s){var u=o(s[l]),d=i(s[l],u),c=p("id",l,a);void 0!==c[n]&&(r[m][c[n]]=d)}}t=r}else if(8==e.type){var f=[91,""];if(t){var g=t.split("-",2);g&&2==g.length&&(f=g)}t={user_phone_code:f[0],user_phone:f[1]}}else 9==e.type?t=t?{files:t}:{files:[]}:!t&&[3,"3"].indexOf(e.type)>-1?t=[]:isNullUndefined(t)&&(t="");return t}if("DEFAULT_FORMAT"===t)return e;n||(n="id");var r={};for(var s in a){var l=a[s];if(void 0!==l[n]){if(e.response&&e.response[l.id])r[l[n]]=angular.copy(o(e.response[l.id],l));else{if(!e.response1||isNullUndefined(e.response1[l.name]))continue;r[l[n]]=angular.copy(e.response1[l.name])}r[l[n]]=i(l,r[l[n]])}}return r}var i={API_FORMAT:n,DEFAULT_FORMAT:o};return isNullUndefined(t)&&(t="DEFAULT_FORMAT"),i}function p(e,t,a){if(!isArray(a))return!1;for(var n=0;n<a.length;n++){if(a[n][e]===t)return a[n];if(isArray(a[n].subfields)){var o=p(e,t,a[n].subfields);if(!1!==o)return o}}return!1}function m(t){swal("Are you sure you want to delete this entry ?",{buttons:!0}).then(function(a){if(1==a){var n={id:t.ResponseID};e.post("./admin/deleteFormResponse",n).success(function(e){1==e.success?"function"==typeof t.callback&&t.callback(!0):"function"==typeof t.callback&&t.callback(!1)})}})}function f(e,t){if(!isObject(e)||!isObject(e.metadata))return!1;t?(isObject(e.options)||(e.options={}),e.autocomplete_source=e.metadata.cf_field_autocomplete):(isObject(e.metadata.cf_field)||(e.metadata.cf_field={}),isObject(e.metadata.cf_field.options)||(e.metadata.cf_field.options={}),e.metadata.cf_field.autocomplete_source=e.metadata.cf_field_autocomplete)}function g(t){var a={source_response_id:t.SourceResponseID,dest_response_id:t.DestResponseID,form_id:t.form_id};e({url:"./general/forms/forms/update_response_order",method:"POST",data:a}).success(function(e){})}function _(t){if(angular.isObject(t)){if(!t.ResponseID||!angular.isDefined(t.status))return void("function"==typeof t.callback&&t.callback(!1));var a={id:t.ResponseID,status:t.status};e({url:"./general/forms/forms/update_response",method:"POST",data:a}).success(function(e){1==e.success?(snackbar_general("Action completed successfully",2500),"function"==typeof t.callback&&t.callback(!0)):"function"==typeof t.callback&&t.callback(!1)})}}var h={};return{getPublicResponses:n,getPublicResponsesCount:r,getResponsesDownloadLink:s,getUniqueFieldValues:l,setFieldData:c,newCampusfeedResponsePublish:u,ResponseObject:d,asFormCallbackData:o,deleteResponse:m,setAutocompleteConfig:f,dragAndDropResponse:g,changeResponseStatus:_}}angular.module("as.sidetop").factory("forms",e),e.$inject=["$http","$rootScope","$state"]}(),function(){"use strict";function e(e,t,a){function n(e,a,n){return a.tag_name=e,t.post("./tags/fetch",a).success(function(e){n(e)})}function o(e,t){return n("groups",e,function(e){var a=[];e&&e.data&&e.data.childs&&(a=e.data.childs),t(a)})}return{getGroups:o}}angular.module("as.sidetop").factory("groupsService",e),e.$inject=["$state","$http","$rootScope"]}(),function(){"use strict";function e(e,t){function a(e,t){if(console.log("resize","images:",e,"Config:",t),e.constructor!==Array||t.constructor!==Object)return!1;var a=n(e.length,t),r=(new Date).getTime();return i(e,a.reporter).then(function(e){var n=(new Date).getTime();console.log("Runtime : "+(n-r)),console.log("resizeInBatch","images:",e),o(e,t,a.reporter).then(function(e){var t=(new Date).getTime();console.log("Runtime : "+(t-n)),console.log("upload","images:",e),a.reporter("done",0,{uploaded:e})})}),a.report}function n(e,t){var a={};return a.total=e,a.optimizing={processed:0},a.uploading={processed:0},a.done=[],{report:a,reporter:function(e,n,o){a.current=e,"done"!==e?a[e].processed+=n:a.done=o.uploaded,"function"==typeof t.reportAt&&t.reportAt(a)}}}function o(a,n,o){function i(){var t=a.reduce(function(e,t,a){return null!==e?e:null!==t?a:null},null);if(null!==t){var s=a[t];a[t]=null;var l={};n.fileNotInArray?l[n.fileKey]=s:l[n.fileKey]=[s],n.extraPostData&&n.extraPostData.constructor===Object&&Object.assign(l,n.extraPostData),e.upload({url:n.url,data:l}).then(function(e){u--,c[t]=s,200===e.status?c[t].response=e:c[t].error=e,o("uploading",1),0==u?r.resolve(c):i()}).catch(function(e){u--,c[t]=s,c[t].error=res,o("uploading",1),0==u?r.resolve(c):i()})}}var r=t.defer(),s=l,c=[],u=a.length;n.keepOrder&&(s=1);for(var d=0;d<s;d++)i();return r.promise}function i(e,a){function n(e,t,o){var s=i[e];if(void 0==s)return o(t);var l=s.length,c=[];s.forEach(function(i,s){r(i,1500,function(i){l--,c[s]=i,a("optimizing",1),0==l&&(t[e]=c,n(e+1,t,o))})})}for(var o=t.defer(),i=[],l=0;l<e.length;){for(var c=[],u=l;u<l+s;u++)void 0!==e[u]&&c.push(e[u]);i.push(c),l+=s}return n(0,[],function(e){o.resolve(e.reduce(function(e,t){return t.map(function(t){e.push(t)}),e},[]))}),o.promise}function r(t,a,n){e.imageDimensions(t).then(function(o){o.width>a||o.height>a?e.resize(t,{width:a,height:a}).then(function(e){"function"==typeof n&&n(e)}):"function"==typeof n&&n(t)})}var s=5,l=5;return{resize:a}}angular.module("as.sidetop").factory("imageBulkResizer",e),e.$inject=["Upload","$q"]}(),function(){"use strict";function e(e){function a(a,n){void 0===a.totalImgs&&(a.totalImgs=a.images.length),void 0===a.param&&(a.param={}),e.showModal({templateUrl:"./templates/modals/material/nb_image_modal.html",controller:t,inputs:{images:a.images,caption:a.caption,index:a.index,totalImgs:a.totalImgs,loadImgs:a.loadImgs,param:a.param},target:n.currentTarget,targetExpand:"yes"})}return{imageModalbox:a}}function t(e,t,a,n,o,i,r,s,l){function c(t){var a=0;if(angular.isUndefined(e.images[t].loaded)||0==e.images[t].loaded){var n=new Image;n.src=e.images[t][e.param.original_src_key],n.onload=function(){e.images[t].loaded=!0,angular.isDefined(r.imgCaption)&&r.imgCaption&&(e.caption=e.images[t].caption),e.$apply()},n.onerror=function(){a++,n.src=e.images[t][e.param.small_src_key],a>1&&(n.src=""),e.images[t].loaded=!0,e.$apply()}}return n}function u(t){return e.images[e.curIndex][e.param.original_src_key]}function d(t){var a=t.event;if(as_upgrade(10),39==a.keyCode)if(e.curIndex<e.images.length-1)e.curIndex++;else{if(e.moreImgs&&e.curIndex+1!=o)return void i(function(t){e.images=e.images.concat(t),e.curIndex++,c(e.curIndex)});e.curIndex=0}else if(37==a.keyCode){if(0==e.curIndex&&e.moreImgs)return;e.curIndex>0?e.curIndex--:e.curIndex=e.images.length-1}return c(e.curIndex)}e.images=t,e.caption=n,e.index=a,e.close=l,e.curIndex=e.index,e.images[e.curIndex].loaded=!1,e.moreImgs=o!=t.length,e.totalImgs=o,e.param=r,e.altpath=u,e.childKeyPress=d,void 0===r.original_src_key&&(e.param.original_src_key="original_src"),void 0===r.small_src_key&&(e.param.small_src_key="small_src"),function(){as_upgrade(10),s(function(){angular.element(document.querySelector("#imgfg"))[0].focus()},10),as_upgrade(10),c(e.curIndex)}()}angular.module("as.sidetop").factory("asimageModal",e).controller("AsImageModalController1",t),e.$inject=["ModalService"],t.$inject=["$scope","images","index","caption","totalImgs","loadImgs","param","$timeout","close"]}(),function(){"use strict";function e(e){function t(t){e({url:"./institutes/client_basic_info",method:"POST"}).success(t)}function a(t,a,n){var o={request:t};void 0===n||isNaN(n)||(o.uid=n),e({url:"./profile/getRequestedProfileData",method:"POST",data:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function n(t,a){e({url:"./institutes/get_metadata",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function o(t,a){e({url:"./institutes/client_institute_teamData",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}return{info:t,requestedProfileData:a,fetch_metadata:n,client_institute_teamData:o}}angular.module("as.sidetop").factory("insti_info",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,a){function n(e){var t="",a=e.match('(?:youtube(?:-nocookie)?.com/(?:[^/]+/.+/|(?:v|e(?:mbed)?)/|.*[?&]v=)|youtu.be/)([^"&?/ ]{11})');if(!isEmpty(a)){a=a[1];var n="https://img.youtube.com/vi/"+a+"/0.jpg",o="https://www.youtube.com/watch?v="+a,t='<div><a href="'+o+'"><img src="'+n+'"></a></div>'}e+=t;var e="<div>"+e+"</div>";console.log("content:",e);var i=angular.element(e);console.log("htContent",i);var r=i.find("iframe").remove();return console.log("iframes",r),e=i.html(),console.log("content",e),e}function o(e,t,a){"string"==typeof e&&(e=[e]);e=e.map(function(e){return"./templates/mails/"+e}),i(e,"",t).then(function(e){console.log(e),a({success:1,template:e})})}function i(e,t,a){var n=e[0];return e.splice(0,1),e.reduce(function(e,t){return e.then(function(e){return r(t,e,a)})},r(n,t,a))}function r(t,a,n){return e.get(t).then(function(e){return a+=e.data,a=s(a,n)})}function s(e,t){return a(e)(t)}return{render:o,removeIframes:n}}angular.module("as.sidetop").factory("mailTemplate",e),e.$inject=["$http","adminMailClone","$interpolate"]}(),function(){"use strict";function e(e){function t(e,t,a){return}return{init:t}}angular.module("as.sidetop").factory("menuSwipe",e),e.$inject=["$swipe"]}(),function(){"use strict";function e(e){function t(t,a){return e({url:"./notification_controller_vc/getNotificationToUser",method:"POST",data:{stream:t},headers:{
"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function a(t){e({url:"./messages/lists",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(t)}function n(t){e({url:"./profile/getNotiNumber",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(t)}function o(t,a){e({url:"./profile/changeLastNotiSeen",method:"POST",data:{type:t},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function i(t,a){e({url:"./authentication/peopleWhoAskedAuth",method:"POST",data:{source:"notification",noti_id:t},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function r(t){e({url:"./signuser/signout_api",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(t)}return{getNotifications:t,getMessages:a,getNotiNumber:n,changeLastSeenTime:o,peopleWhoAskedAuth:i,logoutUser:r}}angular.module("as.sidetop").factory("portalHeaderService",e),e.$inject=["$http"]}(),function(){"use strict";function e(){return{s3base_url:s3base}}angular.module("as.sidetop").factory("s3",e)}(),function(){"use strict";function e(e,t,a,n){function o(e){i("Basic",angular.merge({},e),{categories:[{fields:["yop","degree","department"],displayName:"Basic Filters"}]})}function i(e,a,n){t.isLoaded("as.search")?r(e,a,n):t.load({name:"as.search",files:[window.file_base+"./dist/search.min.js?v="+window.jsVersion]}).then(function(){r(e,a,n)})}function r(t,a,n){e.showModal({templateUrl:"./templates/modals/searchServiceModal.html",controller:["$scope","close",function(e,o){n=n||{},e.modalTitle=n.title||"User list",e.modalCtrlLoaded=!0,e.template=t||"Basic",e.startSearchNow={},e.searchInitialData={fetchLost:!0,dataParams:a},e.close=o,n.categories&&(e.searchInitialData.categories=n.categories),n.fields&&(e.searchInitialData.fields=n.fields),n.contextSearch&&(e.searchInitialData.contextSearch=n.contextSearch),e.reportingFun={fetchingProfiles:function(e){}},setTimeout(function(){e.startSearchNow.start()},100),e.closeModalFun={close:function(e){o()}}}],target:document.body})}return{modalBasic:o,modal:i}}angular.module("as.sidetop").factory("searchService",e),e.$inject=["ModalService","$ocLazyLoad","$location","$rootScope"]}(),function(){"use strict";function e(e){function t(t,a,n,o){return e({url:t,method:"POST",data:{firstLetter:a,limit:n},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(o)}function a(t,a,n){return e({url:t,method:"POST",data:a,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(n)}function n(t,a,n,o){return e({url:t,method:"POST",data:a,headers:{"Content-Type":"application/json"},timeout:n,manualCancellor:!0}).success(o).error(function(e,t,a,n){n.timeout&&n.timeout.status})}function o(t,a){return e({url:t,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function i(t,a,n,o){return e.post(t,a,n).success(o)}function r(t,a){return e.post(t,a)}return{httpCall:t,postDataCall:a,postDataCancelableCall:n,postCall:o,postDataConfigCall:i,postData:r}}angular.module("as.sidetop").factory("sidetopHttp",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){var a=e.app_data,n={cname:a.data.name,com_name:a.data.com_name,cshort_name:a.data.short_name,base_url:e.COMM_APPBASE};return t.replace(/\[([^\]]+)\]/g,function(e,t){return n[t.toLowerCase()]||""})}return{comm:t}}angular.module("as.sidetop").factory("simpleTemplating",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e,t){function a(e,a){function n(e){e.close.then(function(e){e&&a(e)})}t.showModal({templateUrl:"./templates/modals/suggestions_md.html",controller:"SuggestionModalController",inputs:{uid:e.uid,submitText:e.submitText},target:e.target}).then(n)}return{getSuggestions:a}}function t(e,t,a,n,o){function i(t){as_upgrade(10),e.noSuggestions=!1,e.isLoading=!1,console.log(t.success),1==t.success?null===t.data||0===t.data.length?(e.noSuggestions=!0,e.message="Sorry, no suggestions could be found in the community's database."):(e.noSuggestions=!1,e.suggestions=t.data,e.userChoice={}):-2==t.success?(e.noSuggestions=!0,e.message="User must be an Admin to view the suggestions."):-3==t.success&&(e.noSuggestions=!0,e.message="User must be logged in to view the suggestions.")}return as_upgrade(10),e.submitText=a,e.close=n,e.isLoading=!0,o({url:"./admin/college_check_authenticate",method:"POST",data:{uid:t},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(i)}angular.module("as.sidetop").factory("suggestions",e).controller("SuggestionModalController",t),e.$inject=["$http","ModalService"],t.$inject=["$scope","uid","submitText","close","$http"]}(),function(){"use strict";function e(){function e(e){return e&&e.constructor!==Object&&(e={input:e,type:"timeM"}),e&&e.constructor===Object&&e.type&&e.input?(e.output||(e.output="timeString"),t.reduce(function(t,a){return a[e.type]==e.input?a[e.output]:t},e.input)):null}var t=[{timeH:-12,timeString:"UTC-12:00",locations:"Eniwetok, Kwajalein",timeM:-720,timeZ:"-12:00"},{timeH:-11,timeString:"UTC-11:00",locations:"Midway Island, Samoa",timeM:-660,timeZ:"-11:00"},{timeH:-10,timeString:"UTC-10:00",locations:"Hawaii",timeM:-600,timeZ:"-10:00"},{timeH:-9,timeString:"UTC-9:00",locations:"Alaska",timeM:-540,timeZ:"-9:00"},{timeH:-8,timeString:"UTC-8:00",locations:"Pacific Time (US &amp; Canada)",timeM:-480,timeZ:"-8:00"},{timeH:-7,timeString:"UTC-7:00",locations:"Mountain Time (US &amp; Canada)",timeM:-420,timeZ:"-7:00"},{timeH:-6,timeString:"UTC-6:00",locations:"Central Time (US &amp; Canada), Mexico City",timeM:-360,timeZ:"-6:00"},{timeH:-5,timeString:"UTC-5:00",locations:"Eastern Time (US &amp; Canada), Bogota, Lima",timeM:-300,timeZ:"-5:00"},{timeH:-4.5,timeString:"UTC-4:30",locations:"Caracas",timeM:-270,timeZ:"-4:30"},{timeH:-4,timeString:"UTC-4:00",locations:"Atlantic Time (Canada), La Paz, Santiago",timeM:-240,timeZ:"-4:00"},{timeH:-3.5,timeString:"UTC-3:30",locations:"Newfoundland",timeM:-210,timeZ:"-3:30"},{timeH:-3,timeString:"UTC-3:00",locations:"Brazil, Buenos Aires, Georgetown",timeM:-180,timeZ:"-3:00"},{timeH:-2,timeString:"UTC-2:00",locations:"Mid-Atlantic",timeM:-120,timeZ:"-2:00"},{timeH:-1,timeString:"UTC-1:00",locations:"Azores, Cape Verde Islands",timeM:-60,timeZ:"-1:00"},{timeH:0,timeString:"UTC 00:00",locations:"Western Europe Time, London, Lisbon, Casablanca, Greenwich",timeM:0,timeZ:"+00:00"},{timeH:1,timeString:"UTC+1:00",locations:"Brussels, Copenhagen, Madrid, Paris",timeM:60,timeZ:"+01:00"},{timeH:2,timeString:"UTC+2:00",locations:"Kaliningrad, South Africa, Cairo",timeM:120,timeZ:"+02:00"},{timeH:3,timeString:"UTC+3:00",locations:"Baghdad, Riyadh, Moscow, St. Petersburg",timeM:180,timeZ:"+03:00"},{timeH:3.5,timeString:"UTC+3:30",locations:"Tehran",timeM:210,timeZ:"+03:30"},{timeH:4,timeString:"UTC+4:00",locations:"Abu Dhabi, Muscat, Yerevan, Baku, Tbilisi",timeM:240,timeZ:"+04:00"},{timeH:4.5,timeString:"UTC+4:30",locations:"Kabul",timeM:270,timeZ:"+04:30"},{timeH:5,timeString:"UTC+5:00",locations:"Ekaterinburg, Islamabad, Karachi, Tashkent",timeM:300,timeZ:"+05:00"},{timeH:5.5,timeString:"UTC+5:30",locations:"Mumbai, Kolkata, Chennai, New Delhi",timeM:330,timeZ:"+05:30"},{timeH:5.75,timeString:"UTC+5:45",locations:"Kathmandu",timeM:345,timeZ:"+05:45"},{timeH:6,timeString:"UTC+6:00",locations:"Almaty, Dhaka, Colombo",timeM:360,timeZ:"+06:00"},{timeH:6.5,timeString:"UTC+6:30",locations:"Yangon, Cocos Islands",timeM:390,timeZ:"+06:30"},{timeH:7,timeString:"UTC+7:00",locations:"Bangkok, Hanoi, Jakarta",timeM:420,timeZ:"+07:00"},{timeH:8,timeString:"UTC+8:00",locations:"Beijing, Perth, Singapore, Hong Kong",timeM:480,timeZ:"+08:00"},{timeH:9,timeString:"UTC+9:00",locations:"Tokyo, Seoul, Osaka, Sapporo, Yakutsk",timeM:540,timeZ:"+09:00"},{timeH:9.5,timeString:"UTC+9:30",locations:"Adelaide, Darwin",timeM:570,timeZ:"+09:30"},{timeH:10,timeString:"UTC+10:00",locations:"Eastern Australia, Guam, Vladivostok",timeM:600,timeZ:"+10:00"},{timeH:11,timeString:"UTC+11:00",locations:"Magadan, Solomon Islands, New Caledonia",timeM:660,timeZ:"+11:00"},{timeH:12,timeString:"UTC+12:00",locations:"Auckland, Wellington, Fiji, Kamchatka",timeM:720,timeZ:"+12:00"}];return{list:t,toString:e}}angular.module("as.sidetop").factory("timezone",e)}(),function(){"use strict";function e(e,t,a){function n(n){function i(e){return!(!e.data||1!=e.data.success||!e.data.data)&&angular.copy(e.data.data)}return o.cache[n]?t(function(e,t){function r(){if("fetched"===o.cache[n].status){var t=i(o.cache[n].data);return console.log("service.cached",t),void e(t)}a(r,200)}r()}):(o.cache[n]={status:"fetching"},e.get("./gen/metadata_dealer/u_get/"+n).then(function(e){return o.cache[n].data=e,o.cache[n].status="fetched",i(e)}))}var o={getById:n,cache:{}};return o}angular.module("as.sidetop").factory("universalMetadata",e),e.$inject=["$http","$q","$timeout"]}(),function(){"use strict";function e(e,t,a,n,o){function i(){return!1}function r(t,a,n){function i(e){e.close.then(function(){})}console.log("paypal","info:",t);var r;if(t.links&&(r=t.links.filter(function(e){return"approval_url"===e.rel}))&&r[0]&&r[0].href&&(r=r[0].href),!r)return alert("Payment Failed. Please try again."),!1;platform?s(r,a,n):o.showModal({templateUrl:"./templates/modals/paypal.html",controller:["$scope","close",function(o,i){o.info=t;var s;o.paypalBtnClick=function(){function e(){if(s.closed){try{o.processing=!1,o.retry=!0,o.$apply()}catch(e){}clearInterval(n)}}o.retry=!1;try{s.close()}catch(e){}o.processing=!0;var t=screen.width/2-320,a=screen.height/2-245;s=window.open(r,"_blank","toolbar=no, scrollbars=yes, resizable=yes, top="+a+", left="+t+", width=640, height=490");var n=setInterval(e,500)},o.cancel=function(){i();try{n(),s.close()}catch(e){}},window.paypalPaymentFn=function(t){if(console.log("window.paypalPa...tFn","data:",t),o.processing=!0,t&&t.code){try{a(t)}catch(e){}return e.go("inapp.posttransaction",{type:t.type,code:t.code}),s.close(),void i()}t&&t.constructor==String?o.error=t:o.error="Something went wrong.",o.error+="\nPlease check your email before trying again.",o.retry=!0}}],target:document.body}).then(i)}function s(a,n,o,i){function r(){m.removeEventListener("loadstop",r),m.addEventListener("loadstop",s),i.redirectWithPostParams()}function s(){m.executeScript({code:"window."},c)}function l(){try{o("Window closed")}catch(e){}}function c(t){if(console.log("executeScriptCallBack","response:",t,m),null!==t[0]){var a=null;try{a=JSON.parse(t[0])}catch(e){a=null}if(m.removeEventListener("loadstop",s),m.removeEventListener("exit",l),m.close(),a){if(a&&a.code){try{n(a)}catch(e){}e.go("inapp.posttransaction",{type:a.type,code:a.code})}else try{o(a),swal()}catch(e){}return}t=t[0].split("&");var i=t[0],r=t[1];e.go("inapp.posttransaction",{type:r,code:i})}}isObject(i)||(i={});var u=screen.width/2-320,d=screen.height/2-245;(a=encodeURIComponent(a))||(a="");var p="";"function"==typeof i.redirectWithPostParams&&(p+="&fn=redirectWithPostParams");var m=cordova.InAppBrowser.open(t.api_base+"checkout/gateway/gateway_xwalk?url="+a+p,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top="+d+", left="+u+", width=640, height=490");"function"==typeof i.redirectWithPostParams?m.addEventListener("loadstop",r):m.addEventListener("loadstop",s),m.addEventListener("exit",l)}function l(e,a,n,o){var i={key:e.razorpay_key,amount:100*e.amount,name:t.app_data.data.name,description:"",image:t.app_data.data.logo,handler:c(e,a,n),prefill:{name:e.name,email:e.email,contact:e.phone},order_id:e.razorpay_order_id,notes:{almashines_order_id:e.order_id,em:e.email,em1:t.app_data.email},modal:{ondismiss:function(){"function"==typeof o&&o()}}};if(e.notes&&(i.notes=e.notes),window.platform&&window.RazorpayCheckout){var a=c(e,a,n),r=c(e,a,n);RazorpayCheckout.on("payment.success",a),RazorpayCheckout.on("payment.cancel",r),RazorpayCheckout.open(i)}else new Razorpay(i).open()}function c(t,o,i){return function(r){if(console.log("Razorpay Response",r),!r||!r.razorpay_payment_id)return void("function"==typeof i?i(0):alert("Sorry, Payment has failed. Please try again."));try{document.querySelector("#razorhandler").remove()}catch(e){}angular.element(document.body).append('<div id="razorhandler" class="as-backdrop"><div class="as-spinner"></div></div>'),a({url:"./orders/gateway/razorpay",method:"POST",data:{cid:t.cid,order_id:t.order_id,payment_id:r.razorpay_payment_id},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){try{document.querySelector("#razorhandler").remove()}catch(e){}1==t.success?"function"==typeof o?o(1,t.data):e.go("inapp.posttransaction",{type:t.data.type,code:t.data.code}):"function"==typeof i?i(0):n.alertBox({heading:"Payment failed !",body:"Please try again.",size:"md"},document.body)})}}function u(t,a,n){function i(e){e.close.then(function(){try{n()}catch(e){console.log(e.name+" : "+e.message)}})}var r;if(t.url&&(r=t.url),!r)return alert("Payment Failed. Please try again."),!1;platform?s("",a,n,{redirectWithPostParams:function(){var e=document.createElement("form");for(var a in t.data){var n=document.createElement("input");n.type="hidden",n.name=a,n.value=t.data[a],e.appendChild(n)}e.method="post",e.action=r,e.submit()}}):o.showModal({templateUrl:"./templates/modals/general_gateway_payment.html",controller:["$scope","close","$element","$sce","$timeout",function(o,i,s,l,c){o.info=t,o.url=l.trustAsResourceUrl(r);var u;o.paymentBtnClick=function(){o.retry=!1;try{u.close()}catch(e){}o.processing=!0;var e=screen.width/2-320,t=screen.height/2-245;u=window.open("","general_gateway_payment_window","toolbar=no, scrollbars=yes, resizable=yes, top="+t+", left="+e+", width=640, height=490"),c(function(){function e(){if(u.closed){try{o.processing=!1,o.retry=!0,o.$apply()}catch(e){}clearInterval(t)}}s[0].getElementsByTagName("form")[0].submit();var t=setInterval(e,500)},50)},o.cancel=function(){i();try{n(),u.close()}catch(e){}},window.generalPaymentFn=function(t){if(console.log("window.paypalPa...tFn","data:",t),o.processing=!0,t&&t.code){try{a(t)}catch(e){}return e.go("inapp.posttransaction",{type:t.type,code:t.code}),u.close(),void i()}t&&t.constructor==String?o.error=t:o.error="Something went wrong.",o.error+="\nPlease check your email before trying again.",o.retry=!0}}],target:document.body}).then(i)}return platform?{payment:s,razorpay:l,paypal:r}:{payment:i,razorpay:l,paypal:r,general_gateway_payment:u}}angular.module("as.sidetop").factory("xwalk",e),e.$inject=["$state","$rootScope","$http","bootModal","ModalService"]}(),function(){"use strict";function e(e){function t(t,a){e({url:"./jobs/add_skills",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function a(t,a){e({url:"./jobs/showMySkills",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function n(t,a){e({url:"./jobs/showMySectors",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function o(t,a){var n={};void 0!=a&&(n=a),e({url:"./jobs/fetch_all_sectors",method:"POST",data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(t)}function i(t,a,n){e({url:"./jobs/add_sectors/"+t,method:"POST",data:a,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(n)}return{addSkills:t,fetchUserSkills:a,showUserSectors:n,fetchAllSectors:o,addSector:i}}angular.module("as.sidetop").factory("expertise",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t){function a(t,a){return e.postDataCall("./checkout/life_membership/user_life_membership_info/"+t,{},a)}function n(t,a){return e.postDataCall("./checkout/life_membership/manual_membership_updates/",t,a)}function o(e,a){function n(e){e.close.then(function(e){if(e)try{a(e)}catch(e){console.log(e)}})}t.showModal({templateUrl:"./templates/modals/membershipEditForm.html",controller:"membershipEdit",inputs:{dataIn:e},target:e.target}).then(n)}return{fetchUserMembership:a,updateMembershipStatus:n,updateWizard:o}}angular.module("as.sidetop").factory("membership",e),e.$inject=["sidetopHttp","ModalService"]}(),function(){"use strict";function e(e){function t(t,a){function n(e){if(void 0!==e.success&&1==e.success)try{a()}catch(e){console.log(e)}else void 0!==e.error&&alert(e.error)}if(""!==t.imageData){var o=t.imageData,i=new FormData;i.append("PostNews_imgs",o,"profile_pic.jpeg"),t.uid&&i.append("uid",t.uid);var r={withCredentials:!0,headers:{"Content-Type":void 0},transformRequest:angular.identity};e.post("./noticeboard_actions_c/setProfilePic",i,r).success(n)}}function a(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return new Blob([n],{type:a})}return{profilePicChange:t,dataURItoBlob:a}}angular.module("as.sidetop").factory("pQueries",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,a,n,o){function i(t,a){e({url:"./profile/updateUserInfo",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function r(t,a){e({url:"./work/save_work",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function s(t,a){return e.post("./work/deleteWork",t).success(a)}function l(t,a){e({url:"./education/save_education",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function c(t,a){e({url:"./education/delete_education",method:"POST",data:t}).success(a)}function u(t,a){e({url:"./education/get_cur_edu",method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}function d(e,n){function o(n){if(void 0!=n.data&&n.data.length>0&&(s=n.data,!e.uid&&(a.app_data.roles.indexOf(1)>-1||a.app_data.roles.indexOf(2)>-1)))for(var o=a.app_data.logged_user_roles[0].department_id,r=0;r<s.length;r++)s[r].id==o&&(s[r].selected=!0);t.postDataCall("./signuser/degreesGet/1",u,i)}function i(n){if(void 0!=n.data&&n.data.length>0&&(l=n.data,!e.uid&&(a.app_data.roles.indexOf(1)>-1||a.app_data.roles.indexOf(2)>-1)))for(var o=a.app_data.logged_user_roles[0].degree_id,i=0;i<l.length;i++)l[i].id==o&&(l[i].selected=!0);t.postDataCall("./signuser/userRole",u,r)}function r(e){var t={};if(void 0!=e.role&&void 0!=e.year){for(var a=[],o=(new Date).getFullYear(),i=o;i>=e.year;i--)a.push(i);t.start=e.role.start,t.end=e.role.end,t.year=a}n({degrees:l,departments:s,year:t})}var s=[],l=[];try{var c=a.app_data.logged_user_roles[0].sub_cid}catch(e){var c=0}c>0||(c=a.app_data.cid);var u={id:c};"object"==typeof e&&Object.assign(u,e),t.postDataCall("./signuser/departmentGet/1",u,o)}function p(){}function m(e,a){return a&&"function"==typeof a||(a=function(){}),t.postDataCall("./signuser/SubInstituteGet/1",e,a)}function f(e,a){return a&&"function"==typeof a||(a=function(){}),t.postDataCall("./profile/getAddresses",{uid:e},a)}function g(e,a){return a&&"function"==typeof a||(a=function(){}),t.postDataCall("./profile/save_addresses",e,a)}function _(){var e={};e.fields={company:{title:(o("asLingo")("44")||"Company")+" Name",required:!0},designation:{title:"Work Title"},industry:{title:o("asLingo")(41)||"Work Industry"},dates:{},location:{title:"Location"},summary:{title:"Achievements"}},e.fields_custom_data={fields:{company:{required:!0},designation:{required:!0},industry:{required:!0},dates:{required:!1},location:{required:!1},summary:{required:!1}},visible_fields:["designation","company","industry","dates"],extra_fields:["summary"],extra_fields_title:"Add Achievements",show_extra_fields:!1};var t=n.getCustomizedFeature("user_work_details.form",{});return angular.isObject(t)&&angular.merge(e.fields_custom_data,t),e.fields_custom_data.extra_fields=e.fields_custom_data.extra_fields.filter(function(t){return angular.isObject(e.fields[t])&&e.fields_custom_data.visible_fields.indexOf(t)<0}),e.fields_custom_data.final_fields=e.fields_custom_data.visible_fields.concat(e.fields_custom_data.extra_fields).filter(function(t){return angular.isObject(e.fields[t])}),angular.forEach(e.fields_custom_data.fields,function(t,a){if(angular.isObject(t)||(t={}),angular.isObject(e.fields[a])){var n=e.fields[a];angular.isString(t.title)&&(n.title=t.title),angular.isDefined(t.required)&&angular.isUndefined(n.required)&&(n.required=t.required),-1!=e.fields_custom_data.extra_fields.indexOf(a)&&(n.isExtra=!0,n.required=!1),n.required&&(n.title+=" *"),n.isValid=!0}}),e.industry_field={},e.industry_field.field={type:"autocomplete",name:"work_industry",label:e.fields.industry.title,multiple:!1,data:{dataSource:{fetchAllData:{limit:500},url:"./jobs/fetch_all_industries"},allowNew:!1,responsetype:"name",inputActualPlaceholder:"Ex. E-Commerce",inputClass:"placeholder-opacity--2"},value:e.industry},e}return{basicInfoChange:i,workUpdateInsert:r,degDepYearGet:d,degDepYearChange:p,eduUpdateInsert:l,eduCurrent:u,workDelete:s,eduDelete:c,subinstiGet:m,getAddresses:f,saveAddresses:g,getWorkFields:_}}angular.module("as.sidetop").factory("profileInfo",e),e.$inject=["$http","sidetopHttp","$rootScope","features","$filter"]}(),function(){"use strict";function e(e,t,a){function n(e,t,n,o,i){function r(e){e.close.then(function(e){if(e)try{i(e)}catch(e){console.log(e)}})}try{mixpanel.track("Work Model Opened",{wid:t,source:getParameterByName("source")})}catch(e){console.log(e)}a.showModal({templateUrl:"./templates/modals/weditform_md.html",controller:"WorkEditController",inputs:{winfo:e,wid:t,locations:n},target:o}).then(r)}function o(e,t,a){function n(){return!1}function o(){return a}function i(t){try{e(t)}catch(e){console.log(e)}}function r(){try{t()}catch(e){console.log(e)}}$modal.open({animation:!0,templateUrl:"./templates/modals/profile_pic_change.html",controller:"ProfilePicChangerController",resolve:{isMaterial:n,savePic:o}}).result.then(i,r)}var i={work:n,profile_pic:o};try{$modal=e.get("$modal"),bootstrap=!0}catch(e){console.log("Injector does not have bootstrap modal service!")}return i}angular.module("as.sidetop").factory("puModals",e),e.$inject=["$injector","$http","ModalService"]}(),function(){"use strict";function e(){return function(e){return e&&e.constructor===Array?e.join(","):e}}angular.module("as.sidetop").filter("arrayToComma",e),e.$inject=[]}(),function(){"use strict";function e(e){function t(t){var a=new Date,n=a.getTime();return t*=1e3,n-t<36e5?"Few moments ago":n-t<72e5?"An hour ago":n-t<864e5?Math.round((n-t)/36e5)+" hours ago":e("date")(t,"mediumDate")}return t}function t(e){function t(e){if(e){var t=new Date;t.setTime(1e3*e);var a=(new Date).getTime(),n=a-t,o=Math.floor(n/1e3),i=Math.floor(o/60),r=Math.floor(i/60),s=Math.floor(r/24);return s>1?s+" days ago":1==s?"1 day ago":r>1?r+" hours ago":1==r?"an hour ago":i>1?i+" minutes ago":1==i?"a minute ago":o+" second ago"}}return t.$stateful=!0,t}angular.module("as.sidetop").filter("asDate",e).filter("asDate2",t),e.$inject=["$filter"],t.$inject=["$filter"]}(),function(){"use strict";function e(e,t){function a(e){return e=e.replace(/\n/g,"<br/>"),t.trustAsHtml(e)}return a}angular.module("as.sidetop").filter("asNewLines",e),e.$inject=["$filter","$sce"]}(),function(){"use strict";function e(e){function t(e){return e.replace(/(https?:\/\/[^\ <]+)|(www\.[^\ <]+)/g,function(e){var t=e;return t.match("^http")||(t=t.replace(/(^www\.[^\ <]+)/,"http://"+t)),'<a target="_blank" href="'+t+'">'+t+"</a>"})}return t}angular.module("as.sidetop").filter("convertToAnchor",e),e.$inject=["$filter"]}(),function(){"use strict";angular.module("as.sidetop").filter("formfieldfilter",function(){return function(e){if(e.constructor===Number||e.constructor===String)return e;if(e.constructor===Array){e=angular.copy(e);for(var t=0;t<e.length;t++)if(e[t].constructor!==Number&&e[t].constructor!==String){if(!e[t].url||!e[t].original)return"-";e[t].url.match(/(jpg|jpeg|png)$/)?e[t]="<div class='inline-block margin-4' ><a class='link-detail' href='"+e[t].url+"' target='_blank'><div><img width='100%' src='"+e[t].url+"'></div> "+e[t].original+"</a>&nbsp;</div>":e[t]="<a class='link-detail' href='"+e[t].url+"' target='_blank'>"+e[t].original+"</a>&nbsp;"}return e.join(", ")}return"-"}})}(),function(){"use strict";function e(e){function t(t){var a=-1*(new Date).getTimezoneOffset();return e.list.reduce(function(e,n){return n.timeZ==t&&a==n.timeM?"":n.timeZ==t?n.timeString:e},t)}return t}angular.module("as.sidetop").filter("timezone",e),e.$inject=["timezone"]}(),function(){"use strict";function e(e){function t(t,a,n,o){return t=parseInt(t),a=parseInt(a),6==e.app_data.data.insti_type&&1903==a?"Past Employee":1903==a?"Alumni":!(t>0)||t>(new Date).getFullYear()?0===a||null===a?null:a<=(new Date).getFullYear()&&1901!=a&&1902!=a?(o||"Till ")+a:1901==a?"Present":"":a>0?a>=t&&1901!=a&&1902!=a?t+" - "+a:1901==a?t+" - Present":"From - "+t:(n||"Since ")+t}return t}function t(){function e(e){return["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][e]||""}function t(t,a,n,o){var i="",r="";return t=e(parseInt(t)),a=parseInt(a),n=e(parseInt(n)),o=parseInt(o),a&&(i=a.toString()),t&&a&&(i=t+", "+i),o&&(r=o.toString()),n&&o&&(r=n+", "+r),!r&&i?i="Since "+i:o&&(o>(new Date).getFullYear()||1901==o||1902==o)&&(r="Till Present"),i&&r&&(r=" - "+r),i+r}return t}angular.module("as.sidetop").filter("displayTimespan",e).filter("displayTimespanWithMonth",t),e.$inject=["$rootScope"]}(),function(){"use strict";function e(){function e(e,t,a,n){e.focusOn=function(){t.find("textarea")[0].focus()}}return{restrict:"E",scope:{parentId:"@",parentTable:"@",callBack:"&",focusOn:"=",ownerUui:"@"},template:'<div class="mdl-textfield mdl-js-textfield comment-textfield"><textarea class="mdl-textfield__input" style="position:relative;resize:none;overflow-y:hidden;min-height: 10px;" type="text" rows="{{myrow}}" id="sample1{{parentId}}{{parentTable}}" ng-focus="btnShow=true" ng-keydown="key($event)" ng-keyup="keyUp($event)" ng-model="newComment"></textarea><i style="right: -20px;" class="icon-send mdl-color-text--accent link-detail mdl-color--white comment-share" ng-show="btnShow" ng-click="commentAction()" title="Click to comment"></i><label class="mdl-textfield__label card-small-detail" for="sample1{{parentId}}{{parentTable}}">Press enter to comment</label><div id="p2" class="mdl-progress mdl-js-progress mdl-progress__indeterminate" style="width: 100%" ng-show="showLoading"></div></div>',link:e,controller:"AlmaCommentController"}}function t(e,t,a){function n(e){13==e.keyCode?l[13]=!1:17==e.keyCode&&(l[17]=s)}function o(t){try{t.target.style.height="5px",t.target.style.height=t.target.scrollHeight-8+"px"}catch(e){}return 0===u&&chk_restrictions(4)?(u=1,!1):(13==t.keyCode&&(l[13]=!0,t.preventDefault()),17==t.keyCode&&(l[17]=!0,t.preventDefault()),!0===l[13]&&!0===l[17]&&(l[13]=!1,l[17]=!0,e.newComment=e.newComment+"\n",e.myrow=e.myrow+1),!0!==l[13]||!1!==l[17]||""===e.newComment||c?void 0:(l[13]=!1,e.commentAction()))}function i(){if(chk_restrictions(4))return!1;var a=e.newComment.replace(/\n/g,"<br />");c=!0,e.showLoading=!0;var n={parent_id:e.parentId,intParentTable:e.parentTable,comment:a,owner_uui:e.ownerUui};return t.postDataCall("./noticeboard_actions_c/insertCommentAction",n,r)}function r(t){if(c=!1,e.showLoading=!1,1==t.success)e.callBack({cData:{toInsert:t.data}}),e.newComment="",e.myrow=1;else if(void 0!==t.restricted&&1==t.restricted){var n=function(e){a.go("inapp.restricted_")},o=document.querySelector("#success-toast"),i={message:"Sorry, you are not allowed to use this action.",timeout:3500,actionText:"Learn More",actionHandler:n};o.MaterialSnackbar.showSnackbar(i)}}var s=!1,l={13:!1,17:s},c=!1;e.myrow=1,e.newComment="",e.commentAction=i,e.keyUp=n,e.key=o;var u=0;!function(){window.innerWidth<=768&&(s=!0)}()}angular.module("as.sidetop").directive("asComment",e).controller("AlmaCommentController",t),t.$inject=["$scope","sidetopHttp","$state"]}(),function(){!function(){"use strict";function e(e){function t(t,a,n,o){as_upgrade(10),a.bind("click",function(){e({url:"./noticeboard_actions_c/removeCommentAction",method:"POST",data:{commentID:t.commentId,parent_id:t.parentId,intParentTable:t.parentTable},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){1==e.success&&(snackbar_general("Comment Deleted!",2500),t.callBack())})})}return{restrict:"A",scope:{commentId:"@",parentId:"@",parentTable:"@",callBack:"&"},link:t}}angular.module("as.sidetop").directive("asCommentDelete",e),e.$inject=["$http"]}()}(),function(){!function(){"use strict";function e(e){function t(t,a,n,o){function i(e){t.epOptions.deleting=!1,1==e.success&&(snackbar_general("Post Deleted Successfully",2500),t.callBack())}angular.isObject(t.epOptions)||(t.epOptions={});var r={EventPostID:t.epId};a.bind("click",function(){t.epOptions.deleting=!0,e.postDataCall("./event_actions_c/removeEventPostAction",r,i)})}return{restrict:"A",scope:{epId:"@",epOptions:"=?",callBack:"&"},link:t}}angular.module("as.sidetop").directive("asDeleteEp",e),e.$inject=["sidetopHttp"]}()}(),function(){!function(){"use strict";function e(e,t){function a(a,n,o,i){function r(e,t){return e(t),function(e){1==e.success&&a.callBack()}}n.bind("click",function(n){t.alertBox({heading:"Delete Confirmation",body:"Are you sure want to delete this Event?",buttonConfirm:"Yes",buttonCancel:"No",onCancel:function(e){e(window.event)},onConfirm:function(t){var o={eventID:a.eid};return e.postDataCall("./event_actions_c/DeleteEvent",o,r(t,n))}},n.target)})}return{restrict:"A",scope:{eid:"@",callBack:"&"},link:a}}angular.module("as.sidetop").directive("asEventDelete",e),e.$inject=["sidetopHttp","bootModal"]}()}(),function(){"use strict";function asForms(){return{restrict:"E",templateUrl:"./templates/modals/material/forms.html",scope:{formid:"=",isuser:"=",pagetitle:"=",prefillData:"=?",pref:"=?",fdata:"=?",callBack:"&?",options:"=?",getpresubmitdata:"=?",externalVariablesData:"=?",adminAccess:"=?"},controller:"asFormsController"}}function asFormsController($scope,$rootScope,$http,$sce,$ocLazyLoad,xwalk,$timeout,phonenumber,$injector,customformservice,forms){function activate(){$scope.pref||($scope.pref={}),isObject($scope.prefillData)||($scope.prefillData={}),$scope.prefillData.response||($scope.prefillData.response={}),setFormStyles(),$scope.$watch("formid",function(e,t){$scope.fetchForm()})}function setFormStyles(){$scope.options=isObject($scope.options)?$scope.options:{},$scope.options.classes=isObject($scope.options.classes)?$scope.options.classes:{},$scope.options.styles=isObject($scope.options.styles)?$scope.options.styles:{},$scope.pref.showFieldsOnly&&(angular.isUndefined($scope.options.classes.div1)&&($scope.options.classes.div1=""),$scope.options.classes.div1+="ng-hide",angular.isUndefined($scope.options.classes.submitBtnParent)&&($scope.options.classes.submitBtnParent=""),$scope.options.classes.submitBtnParent+="ng-hide")}function field_title_parser(e){if(!e||!isString(e))return e;for(var t=[/cdata\((.*?)\)/i,/clingo\((.*?)\)/i],a=0;a<t.length;a++)for(var n=e.match(t[a]);n;){var o="";try{0===a?$rootScope.app_data.data[n[1]]&&(o=$rootScope.app_data.data[n[1]]):1===a&&$rootScope.app_data.config.lingo[n[1]]&&(o=$rootScope.app_data.config.lingo[n[1]])}catch(e){console.log(e)}e=e.replace(n[0],o),n=e.match(t[a])}return e}function setOnFieldChange(field){field.metadata&&isArray(field.metadata.onFieldValueChange)&&(field.onFieldValueChange=function(data){for(var i=0;i<field.metadata.onFieldValueChange.length;i++){var obj=field.metadata.onFieldValueChange[i];if("preFillObjectData"==obj.type){var fieldToBePrefilled=searchField("name",obj.fieldname);if(9==fieldToBePrefilled.type){var url=eval("data."+obj.objectkey),filename=url.split("?")[0].split("/").pop(),files=[{filename:filename,url:url,temporary:!0,original:filename}];fieldToBePrefilled.metadata.__setFiles(files)
}else 10==fieldToBePrefilled.type?($scope.formData[fieldToBePrefilled.id]=data[obj.objectkey+"_id"],fieldToBePrefilled.searchText=data[obj.objectkey]):$scope.formData[fieldToBePrefilled.id]=data[obj.objectkey];console.log("prefield field : ",$scope.formData[fieldToBePrefilled.id])}}})}function searchField(e,t,a){if(isNullUndefined(a)&&(a=$scope.formfields),!isArray(a))return!1;for(var n=0;n<a.length;n++){if(a[n][e]===t)return a[n];if(isArray(a[n].subfields)){var o=searchField(e,t,a[n].subfields);if(!1!==o)return o}}return!1}function fetchForm(){$scope.loading=!0,$scope.formfields=[];var e=null,t={};$scope.formid>0&&(e="./support/forms/fetch_form",t.form_id=$scope.formid),angular.isObject($scope.pref.fetch_form_params)&&angular.extend(t,$scope.pref.fetch_form_params),angular.isObject($scope.pref.custom_form)&&angular.isString($scope.pref.custom_form.url)&&(e=$scope.pref.custom_form.url,angular.isObject($scope.pref.custom_form.data)&&(t=$scope.pref.custom_form.data)),e&&(isNullUndefined($scope.pref.responseIdToFetch)||(isObject(t.params)||(t.params={}),t.params.getUserResponse={response_id:$scope.pref.responseIdToFetch}),$http({url:e,method:"POST",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){if(1==e.success&&e.data&&e.data.fields){for(var t in e.data.fields)e.data.fields[t].description=$sce.trustAsHtml(e.data.fields[t].description);1==$scope.pagetitle&&angular.isDefined(e.data.title)&&(document.title=e.data.title),angular.isDefined(e.data.description)&&(e.data.description=$sce.trustAsHtml(e.data.description)),angular.isDefined(e.data.prefillData)&&angular.isObject(e.data.prefillData)&&($scope.pref.editing=!0,$scope.prefillData=e.data.prefillData,delete e.data.prefillData),$scope.formDetails=e.data,setStepsIfEnabled(),$scope.formfields=$scope.formDetails.fields,$scope.pref.editing?prepareFormDataForEditing():$scope.prepareFormData(),prefillReceivedData(),loadNeededLibs(),as_upgrade()}else 0==e.success&&e.error&&e.error.loginNeeded&&($scope.formDetails=e.error,$injector.get("$stateParams").redirect=$injector.get("$state").href($injector.get("$state").current,null,{absolute:!0}));$scope.loading=!1,"function"==typeof $scope.options.onload&&$scope.options.onload()}))}function prepareFormData(){$scope.formDetails.metadata||($scope.formDetails.metadata={}),$scope.formDetails.metadata.successMsg?($scope.formDetails.metadata.successMsg=$sce.trustAsHtml($scope.formDetails.metadata.successMsg),$scope.formDetails.successMsg=$scope.formDetails.metadata.successMsg):$scope.formDetails.successMsg=$sce.trustAsHtml('<span style="color:green;"><b>Thank You,</b> We have successfully received your response.</span>'),$scope.formData={};for(var e in $scope.formfields){var t=$scope.formfields[e];prepareFieldData(t);var a=prefillData(t);"disabled"===a?$scope.formfields[e].disabled=!0:"hidden"===a&&($scope.formfields[e].disabled="hidden")}as_upgrade(100)}function prepareFieldData(e){void 0!==e.id&&(e.title_read=e.title,e.description_read=e.description,setOnFieldChange(e),8==e.type?$scope.formData[e.id]={user_phone_code:91,user_phone:""}:9==e.type?$scope.formData[e.id]={files:[]}:[3].indexOf(e.type)>-1?$scope.formData[e.id]=[]:[9].indexOf(e.type)>-1?$scope.formData[e.id]={}:14==e.type||17==e.type||18==e.type?(e=prepare_cf_field(e),$scope.formData[e.id]=""):16==e.type?(e=prepare_customform(e),$scope.formData[e.id]=""):$scope.formData[e.id]="",getParameterByName("f."+e.name)&&($scope.formData[e.id]=getParameterByName("f."+e.name)))}function prepare_cf_field(e){return e.metadata&&e.metadata.cf_field&&isObject(e.metadata.cf_field)?e.cf_field=e.metadata.cf_field:e.cf_field={},e.cf_field.name=e.name,e.cf_field.label=e.label?e.label:e.title,e.cf_field.title=e.title,isObject(e.cf_field.options)||(e.cf_field.options={}),isObject(e.cf_field.extraoptions)||(e.cf_field.extraoptions={}),isObject(e.cf_options)||(e.cf_options={}),e.metadata.remove_title||(e.cf_field.extraoptions.remove_title=!0),14==e.type?(e.cf_field.type="autocomplete",e.cf_field.options.responsetype="name",forms.setAutocompleteConfig(e)):17==e.type?prepare_cf_subfield(e,!0):18==e.type&&(e.cf_field.type="rating",e.cf_field.required=!!e.is_required),e._type="customfield",e}function prepare_cf_subfield(e,t){var a;if(isArray(e)){a=[];for(var n=0;n<e.length;n++){var o=prepare_cf_subfield(e[n]);o&&a.push(o)}if(0===a.length)return!1}else{if(isObject(e)&&"arrayinput"===custom_field_types[e.type])return prepare_arrayinput_field(e,t);if(isObject(e)&&"arrayinput"!==custom_field_types[e.type]){var i=angular.copy(e);if(i.label=i.label?i.label:i.title,i.title=i.title,i.unique_name=i.name,i.field_id=i.id,i.field_name=i.name,i.name=i.id,i.displayCondition=i.metadata?i.metadata.isvisible:void 0,i.displayConditionType="asForms",i.required=i.is_required,!custom_field_types[i.type])return!1;i.type=custom_field_types[i.type],"paAutocomplete"===i.type?(i.data=i.metadata,i.responsetype="string"):"autocomplete"===i.type&&forms.setAutocompleteConfig(i,!0),a=i}}return a}function prepare_arrayinput_field(e,t){var a=[];if(isArray(e.subfields)&&e.subfields.length>0){var n=prepare_cf_subfield(e.subfields);if(!n)return;for(var o=0;o<n.length;o++)a.push(n[o])}e.is_required&&(e.minItems=1);var i={};if(t&&isObject(e.cf_field)&&(i=e.cf_field),isObject(i.items)||(i.items={}),e.metadata&&e.metadata.formatted_value&&(i.items.read_mode_format=changeArrayInputFormatString(e.metadata.formatted_value.html)),i.onItemDelete=function(e){return{deleteByParam:1}},i.items.type="object",i.items.fields=a,i.type="arrayinput",i.required=e.is_required,t)e.cf_field=i;else{for(var r in i)e[r]=i[r];e.unique_name=e.name,e.field_id=e.id,e.field_name=e.name,e.name=e.id,e.displayCondition=e.metadata?e.metadata.isvisible:void 0,e.displayConditionType="asForms"}return e}function changeArrayInputFormatString(e){for(var t=e.match(/\[([^\[]*?)\]/g),a=0;a<t.length;a++){var n=t[a],o=n.replace(/^\[/g,"").replace(/\]$/g,""),i=searchField("name",o);if(i){new RegExp("["+o+"]","g");e=e.replace(n,"["+i.id+"]")}}return e}function prepare_customform(e){return isObject(e.formoptions)||(e.formoptions={}),!(!isArray(e.subfields)||0===e.subfields.length)&&(e.formoptions.fields=prepare_cf_subfield(e.subfields),e.formoptions.layout||(e.formoptions.layout="2-column"),e.formoptions.classes||(e.formoptions.classes={}),e.formoptions.classes.div||(e.formoptions.classes.div=""),isNullUndefined(e.formoptions.remove_title)&&(e.formoptions.remove_title=!0),$scope.formData[e.id]&&(e.formoptions.responses=$scope.formData[e.id]),e._type="customform",e)}function prepareFormDataForEditing(){$scope.formDetails.metadata||($scope.formDetails.metadata={}),$scope.formDetails.metadata.successMsg=$sce.trustAsHtml('<span style="color:green;">Response updated successfully.</span>'),$scope.formDetails.successMsg=$scope.formDetails.metadata.successMsg}function prefillReceivedData(){if(isObject($scope.formData)||($scope.formData={}),$scope.prefillData)var e=ResponseObject($scope.prefillData,"API_FORMAT").DEFAULT_FORMAT();else var e={};for(var t in $scope.formfields){var a=$scope.formfields[t];void 0!==a.id&&(isNullUndefined(e[a.id])||($scope.formData[a.id]=angular.copy(e[a.id])),14==a.type||17==a.type||18==a.type?prepare_cf_field(a):16==a.type?prepare_customform(a):10==a.type&&(a.metadata&&"id"===a.metadata.selectType?a.selectedID=$scope.formData[a.id]:a.searchText=$scope.formData[a.id],$scope.formData[a.id]=-1),setOnFieldChange(a))}}function loadNeededLibs(){for(var e in $scope.formfields){var t=$scope.formfields[e];if(12==t.type)console.log("Ckeditor loaded"),$scope.obj.ckOptions={language:"en",allowedContent:!0,entities:!1,autoParagraph:!0,toolbarGroups:[{name:"basicstyles",groups:["basicstyles"]},{name:"insert",groups:["links"]},{name:"paragraph",groups:["list","align"]}],removePlugins:"elementspath,maximize,resize",removeButtons:"Image,Strike,Subscript,Superscript,RemoveFormat,SpecialChar,Undo,Redo,Cut,Copy,Paste,PasteText,PasteFromWord,Scayt,MediaEmbed,Anchor,Unlink,Font,Table,Youtube,HorizontalRule"},""!=getCookie("debug16")&&$scope.obj.ckOptions.toolbarGroups.push({name:"document",groups:["mode","document","documentools"]});else if(7==t.type||15==t.type){$ocLazyLoad.load("css!"+window.file_base+"./css/angular-datepicker.css");var a=$ocLazyLoad.load({name:"angular-datepicker",files:[window.file_base+"./libs/angular-datepicker.js"]});try{a.then(function(){$timeout(function(){as_upgrade(200),$scope.dateLibLoaded=!0},1e3)})}catch(e){$timeout(function(){as_upgrade(200),$scope.dateLibLoaded=!0},1e3)}}else if(8==t.type){var n=phonenumber.loadLib();try{n.then(function(){$timeout(function(){$scope.phonenumberLibLoaded=!0},100)})}catch(e){$timeout(function(){$scope.phonenumberLibLoaded=!0},100)}}}}function prefillData(e){var t=e.id;if(e.metadata&&e.metadata.prefill){if(e.metadata.prefill.constructor==Object)return parameterizedData(e,e.metadata.prefill);$scope.formData[t]=e.metadata.prefill}else if($scope.formDetails.metadata&&$scope.formDetails.metadata.prefill&&$scope.formDetails.metadata.prefill[t]){var a=$scope.formDetails.metadata.prefill[t];return parameterizedData(e,a)}return!1}function parameterizedData(e,t){var a=e.id,n=!1;if("name"===t.param)$rootScope.app_data.name&&($scope.formData[a]=$rootScope.app_data.name,n=!0);else if("email"===t.param)$rootScope.app_data.email&&($scope.formData[a]=$rootScope.app_data.email,n=!0);else if("phone"===t.param)$rootScope.app_data.phone&&(isObject($scope.formData[a])||($scope.formData[a]={}),$scope.formData[a].user_phone_code=$rootScope.app_data.phone.country_code,$scope.formData[a].user_phone=$rootScope.app_data.phone.number,n=!0);else if("degree"===t.param)$rootScope.app_data.logged_user_roles&&$rootScope.app_data.logged_user_roles[0]&&$rootScope.app_data.logged_user_roles[0].degree&&(10==e.type?$scope.formData[a]={id:$rootScope.app_data.logged_user_roles[0].degree_id,name:$rootScope.app_data.logged_user_roles[0].degree}:$scope.formData[a]=$rootScope.app_data.logged_user_roles[0].degree,n=!0);else if("department"===t.param)$rootScope.app_data.logged_user_roles&&$rootScope.app_data.logged_user_roles[0]&&$rootScope.app_data.logged_user_roles[0].department&&(10==e.type?$scope.formData[a]={id:$rootScope.app_data.logged_user_roles[0].department_id,name:$rootScope.app_data.logged_user_roles[0].department}:$scope.formData[a]=$rootScope.app_data.logged_user_roles[0].department,n=!0);else if("batch"===t.param){if($rootScope.app_data.logged_user_roles&&$rootScope.app_data.logged_user_roles[0]&&$rootScope.app_data.logged_user_roles[0].end){var o=$rootScope.app_data.logged_user_roles[0].end;o>1903||(o=!1)}else var o=!1;o&&($scope.formData[a]=o,n=!0)}else"enrollment_no"===t.param&&$rootScope.app_data.enrollment_no&&($scope.formData[a]=$rootScope.app_data.enrollment_no,n=!0);if(n){if(!0===t.disabled||"true"===t.disabled)return"disabled";if("hidden"===t.disabled)return"hidden"}}function formDataByNames(){var e={};for(var t in $scope.formData)for(var a=0;a<$scope.formfields.length;a++){var n=$scope.formfields[a];if(n.id==t){e[n.name]=$scope.formData[t];break}}return e}function isFieldVisible(e,t){var a;return t&&(a=$scope.currentStep),checkFieldVisibility(e,a)}function checkFieldVisibility(e,t){var a=!0;if(e.metadata&&e.metadata.isvisible){var a=customformservice.isFieldVisible(e.metadata.isvisible,$scope.formData,formDataByNames(),getFilterMatchVariable);if(!a)return a}if(t>0&&$scope.stepsEnabled){var n=$scope.formDetails.metadata.steps[t-1];isArray(n)&&-1==n.indexOf(e.name)&&(a=!1)}return a}function setStepsIfEnabled(){$scope.stepsEnabled=$scope.formDetails&&$scope.formDetails.metadata&&isArray($scope.formDetails.metadata.steps)&&$scope.formDetails.metadata.steps.length>0}function nextstep(e){if($scope.showerr=!1,$scope.err="",e||!1!==formcheck(!0))if(!$scope.stepsEnabled||$scope.currentStep>=$scope.formDetails.metadata.steps.length)formsubmit();else{var t=1,a=!1;e:for(;$scope.currentStep+t<=$scope.formDetails.metadata.steps.length;){for(var n=0;n<$scope.formfields.length;n++){var o=$scope.formfields[n];if(checkFieldVisibility(o,$scope.currentStep+t)){a=!0;break e}}t+=1}a?($scope.currentStep+=t,$scope.isFinalStep=$scope.currentStep>=$scope.formDetails.metadata.steps.length):formsubmit()}}function getFilterMatchVariable(e,t,a){var n;if(angular.isDefined(e.field_id))n=t[e.field_id];else if(angular.isDefined(e.field_name))n=a[e.field_name];else if(angular.isDefined(e.field_external)&&angular.isString(e.field_external)&&e.field_external){n=angular.copy(getExternalVariablesData());var o=e.field_external.split(".");angular.forEach(o,function(e,t){angular.isObject(n)&&(n=angular.isDefined(n[e])?n[e]:void 0)})}return n}function getExternalVariablesData(){var e={};return angular.isDefined($scope.externalVariablesData)&&(e=angular.isFunction($scope.externalVariablesData)?$scope.externalVariablesData():$scope.externalVariablesData),angular.isObject(e)||(e={}),e}function checkboxclick(e,t){"[object Array]"!==Object.prototype.toString.call($scope.formData[e])&&($scope.formData[e]=[]);var a=$scope.formData[e].indexOf(t);a>-1?$scope.formData[e].splice(a,1):$scope.formData[e].push(t)}function onPhoneBlur(e){try{if(e.error="",e.metadata&&e.metadata.otp&&e.metadata.otp.enabled){var t=$scope.formData[e.id];phonenumber.isValidNumber(t.user_phone_code,t.user_phone)||(e.error="Phone No. is invalid")}}catch(e){}}function isFieldEmpty(e){e.error="";var t=$scope.formData[e.id];if(8==e.type){if(!phonenumber.isValidNumber(t.user_phone_code,t.user_phone))return{error:"+"+t.user_phone_code+"-"+t.user_phone+" is not a valid Phone No."}}else if(9==e.type){if(t.uploadsInProgress&&t.uploadsInProgress>0)return{error:"Please Wait... Upload is in progress !"};if(t.files)for(var a in t.files)if("failed"===t.files[a].status)return{error:t.files[a].errormsg};if(!t.files||0==t.files.length)return!0}else if(10==e.type){if(!(t.id&&t.id>0)&&customformservice.isValueEmpty(e.searchText)&&customformservice.isValueEmpty(t))return!0}else if(17==e.type){if(customformservice.isValueEmpty(t))return isArray(t)&&t.length>0?{error:e.title+" is empty. Click on '<b>Add</b>' button."}:{error:e.title+" is empty. Click on 'Add "+e.label+"'"}}else if(customformservice.isValueEmpty(t))return!0;return!fieldValidation(e)}function fieldValidation(e){var t=$scope.formData[e.id],a=!(!e.metadata||!e.metadata.validation)&&e.metadata.validation;return customformservice.fieldValidation(e,t,a,!0)}function fieldcheck(e,t,a,n){if("customform"==e._type){var o=e.formoptions.getResponses();for(var i in o)isObject($scope.formData[e.id])||($scope.formData[e.id]={}),$scope.formData[e.id][i]=o[i];t[e.id]=angular.copy($scope.formData[e.id])}var r=isFieldEmpty(e);if(r&&r.error)return snackbar_general(r.error),show_error(isEmpty.error),$scope.btnText="Submit",!1;if(8==e.type)a[e.id]=t[e.id].user_phone_code+"-"+t[e.id].user_phone;else if(7!=e.type&&15!=e.type||!t[e.id]||t[e.id].constructor!==Date)if(9==e.type)a[e.id]=t[e.id].files;else if(10==e.type){t[e.id].id&&t[e.id].id>0?a[e.id]=t[e.id].name:e.searchText&&(a[e.id]=e.searchText);var s,l=-1;t[e.id].id&&t[e.id].id>0?(l=t[e.id].id,s=t[e.id].name):(t[e.id]>0&&(l=t[e.id]),s=e.searchText),-1==l&&isEmpty(s)&&e.selectedID>0&&(l=e.selectedID),e.metadata&&"id"==e.metadata.selectType?a[e.id]=l:a[e.id]=s}else a[e.id]=t[e.id];else 7==e.type?a[e.id]=t[e.id].toDateString():a[e.id]=t[e.id].toTimeString().slice(0,17);return 1==e.is_required&&r&&$scope.isFieldVisible(e)&&(e.error||(e.error="This information is required"),n.emptyRequired++,n.emptyFields[e.id]=e),!1===r&&n.j++,!0}function formcheck(e){var t={j:0,emptyRequired:0,emptyFields:{}},a=angular.copy($scope.formData),n={};$scope.formcheckparams=t;for(var o in $scope.formfields){var i=$scope.formfields[o];if(void 0!==i.id&&(6!=i.type&&(!e||$scope.isFieldVisible(i,!0))))if(!$scope.isFieldVisible(i)&&i.metadata&&i.metadata.removeIfNotVisible)n[i.id]="";else{if(i.metadata&&i.metadata.otp&&!0===sanitizeValue(i.metadata.otp.enabled)&&!i.metadata.otp.verified)return"email"==i.metadata.otp.type?$scope.err="You need to verify, the email address. Please click on 'Verify Email ID'":$scope.err="You need to verify, the mobile number. Please click on 'Verify Mobile No.'",$scope.options.error=$scope.err,alert($scope.err),$scope.btnText="Submit",!1;if(!1===fieldcheck(i,a,n,t))return!1}}return t.emptyRequired>0?(show_error("Some required information is empty or invalid !"),snackbar_general("Some required information is empty or invalid !"),!1):n}function show_error(e){setTimeout(function(){$scope.err=e,$scope.showerr=!0,$scope.btnText="Submit",$scope.$apply()},100)}function getpresubmitdata(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),e){if("Submit"!==$scope.btnText)return!1;t&&($scope.btnText="Submitting..."),$scope.showerr=!1,$scope.err=""}$scope.options.error="";var a=$scope.formcheck();return!1!==a||$scope.options.error||($scope.options.error="Some required information is empty or invalid !"),a}function formsubmit(){var e=$scope.getpresubmitdata();if(e&&!angular.equals(e,{})){var t=1;parseInt($scope.isuser)>=0&&(t=$scope.isuser);var a="./support/forms/submit_form",n={formdata:e,form_id:$scope.formid,isuser:t};!$scope.pref.editing&&$scope.formDetails.metadata&&$scope.formDetails.metadata.recaptcha&&$scope.formDetails.metadata.recaptcha.enabled,$scope.pref.editing&&$scope.prefillData.ResponseID&&(a="./general/forms/forms/updateResponseAdminApi",n.response_id=$scope.prefillData.ResponseID),"paylater"===$scope.info.payment_option&&(n.payment_option="paylater"),$http({url:a,method:"POST",data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){if($scope.showerr=!1,1==t.success){if($scope.err="",$scope.btnText="Sending Your Request ....",t.data||(t.data={}),t.data&&t.data.payment){if(t.data.payment.paypalData&&"object"==typeof t.data.payment.paypalData)return void xwalk.paypal(t.data.payment.paypalData,null,function(){$timeout(function(){console.log("error callback of paymenting"),$scope.btnText="Submit"},100)});if(t.data.payment.razorData&&"object"==typeof t.data.payment.razorData)return void xwalk.razorpay(t.data.payment.razorData);if(t.data.payment.gatewayPostData&&"object"==typeof t.data.payment.gatewayPostData)return void xwalk.general_gateway_payment(t.data.payment.gatewayPostData,null,function(){$timeout(function(){console.log("error callback of paymenting"),$scope.btnText="Submit"},100)});if(t.data.payment.url)return void(0===t.data.payment.url.indexOf("http://")||0===t.data.payment.url.indexOf("https://")?platform?xwalk.payment(t.data.payment.url):window.location.href=t.data.payment.url:platformis.android?$location.url(window.file_base+t.data.payment.url):$location.url(t.data.payment.url))}t.form_user_response_id=t.data.form_user_response_id,t.data=t.data.form_user_response_id;var a={response:t,fdata:$scope.fdata,formDetails:$scope.formDetails,formResponse:e,formResponseAPIFormat:ResponseObject(e).API_FORMAT($scope.prefillData?$scope.prefillData.ResponseID:t.form_user_response_id)};"function"==typeof $scope.callBack?$scope.callBack()(a):$scope.showSuccessMsg=!0,$scope.pref&&"function"==typeof $scope.pref.afterSubmitCallBack&&$scope.pref.afterSubmitCallBack(a)}else void 0!==t.error?($scope.err=t.error,$scope.showerr=!0,$scope.btnText="Submit"):$scope.btnText="Submit"})}}function ResponseObject(e,t){return forms.ResponseObject(e,t,$scope.formfields)}function ResponseObject_(e,t){function a(){function a(e,t,o){var e=angular.copy(e),i={response:{}};isNullUndefined(t)?e.__response_id&&(i.ResponseID=e.__response_id):i.ResponseID=t;for(var r in e){var s=searchField("id",r);if(void 0!==s.id)if(i.response[r]=angular.copy(s),17==s.type){i.response[r].responses=[];for(var l=0;l<e[r].length;l++)i.response[r].responses[l]=a(e[r][l]);i.response[r].formatted_value=n(s,i.response[r].responses),i.response[r].response=i.response[r].formatted_value.html}else 16==s.type?(i.response[r].responses=[],i.response[r].responses[0]=a(e[r]),i.response[r].formatted_value=n(s,i.response[r].responses),i.response[r].response=i.response[r].formatted_value.html):i.response[r].response=e[r]}return i}function n(e,t){var a,n,i={plain_text:null,html:null};return e.metadata&&e.metadata.formatted_value&&(e.metadata.formatted_value.plain_text||e.metadata.formatted_value.html)&&(e.metadata.formatted_value.html&&(a=e.metadata.formatted_value.html,n=e.metadata.formatted_value.html_join_str?e.metadata.formatted_value.html_join_str:"<br>",i.html=o(e,t,{format_name:"html",format_str:a,join_str:n})),e.metadata.formatted_value.plain_text&&(a=e.metadata.formatted_value.plain_text,n=e.metadata.formatted_value.plain_text_join_str?e.metadata.formatted_value.plain_text_join_str:"\n",i.plain_text=o(e,t,{format_name:"plain_text",format_str:a,join_str:n}))),isNullUndefined(i.html)&&(a="",n="<br>",i.html=o(e,t,{format_name:"html",format_str:a,join_str:n})),i}function o(e,t,a,n){var i=a.format_str;if(17!=e.type||n&&"ResponseObject"===n){if(16!=e.type||n&&"ResponseObject"===n){for(var r in t.response){var s=searchField("id",r,e.subfields);if(s)if(a.format_str){var l=new RegExp("\\["+s.name+"\\]","g");i=i.replace(l,t.response[r].response)}else i?i+=", "+t.response[r].response:i=t.response[r].response}return i}return isObject(t[0].formatted_value)||(t[0].formatted_value={}),t[0].formatted_value[a.format_name]=o(e,t[0],a,"ResponseObject"),t[0].formatted_value[a.format_name]}for(var c=[],u=0;u<t.length;u++)isObject(t[u].formatted_value)||(t[u].formatted_value={}),c[u]=o(e,t[u],a,"ResponseObject"),t[u].formatted_value[a.format_name]=c[u];return c.join(a.join_str)}return"API_FORMAT"===t?e:a(e,$scope.prefillData?$scope.prefillData.ResponseID:null)}function n(){function a(e,t){if(isObject(t)||(t=e),16==t.type||17==t.type)var a="responses";else var a="response";if(!isNullUndefined(e[a]))return e[a]}function n(e,t){if(16==e.type){if(!isArray(t)||1!==t.length)return;if((t=t[0])&&t.ResponseID>0){var o={__response_id:t.ResponseID},i=t.response;if(!isObject(i))return;for(var r in i){var s=a(i[r]),l=n(i[r],s);o[r]=l}t=o}}else if(17==e.type){if(!isArray(t))return;for(var o=[],c=0;c<t.length;c++)if(t[c]&&t[c].ResponseID>0){o[c]={__response_id:t[c].ResponseID};var i=t[c].response;if(!isObject(i))return;for(var r in i){var s=a(i[r]),l=n(i[r],s);o[c][r]=l}}t=o}else if(8==e.type){var u=[91,""];if(t){var d=t.split("-",2);d&&2==d.length&&(u=d)}t={user_phone_code:u[0],user_phone:u[1]}}else 9==e.type?t=t?{files:t}:{files:[]}:!t&&[3,"3"].indexOf(e.type)>-1?t=[]:isNullUndefined(t)&&(t="");return t}if("DEFAULT_FORMAT"===t)return e;var o={};for(var i in $scope.formfields){var r=$scope.formfields[i];if(void 0!==r.id){if(e.response&&e.response[r.id])o[r.id]=angular.copy(a(e.response[r.id],r));else{if(!e.response1||isNullUndefined(e.response1[r.name]))continue;o[r.id]=angular.copy(e.response1[r.name])}o[r.id]=n(r,o[r.id])}}return o}var o={API_FORMAT:a,DEFAULT_FORMAT:n};return isNullUndefined(t)&&(t="DEFAULT_FORMAT"),o}var custom_field_types={1:"text",2:"textarea",3:"checkboxes",4:"radio",5:"dropdown",7:"date",8:"phone",9:"file-input-element",10:"paAutocomplete",13:"hidden",14:"autocomplete",17:"arrayinput",18:"rating"};$scope.btnText="Submit",$scope.formData=[],$scope.info={payment_option:"paynow"},$scope.formDetails={},$scope.formfields=[],$scope.loading=!1,$scope.showerr=!1,$scope.showSuccessMsg=!1,$scope.obj={},$scope.err="",$scope.fetchForm=fetchForm,$scope.prepareFormData=prepareFormData,$scope.isFieldVisible=isFieldVisible,$scope.checkboxclick=checkboxclick,$scope.onPhoneBlur=onPhoneBlur,$scope.fieldValidation=fieldValidation,$scope.formcheck=formcheck,$scope.getpresubmitdata=getpresubmitdata,$scope.formsubmit=formsubmit,$scope.currentStep=1,$scope.stepsEnabled=!1,$scope.isFinalStep=!1,$scope.nextstep=nextstep,activate()}angular.module("as.sidetop").directive("asForms",asForms).controller("asFormsController",asFormsController),asFormsController.$inject=["$scope","$rootScope","$http","$sce","$ocLazyLoad","xwalk","$timeout","phonenumber","$injector","customformservice","forms"]}(),function(){"use strict";function e(){return{restrict:"A",template:'<div tabindex="0" style="outline:none"><div ng-repeat="image in images | limitTo: limit_var" ng-class="getimageDivClasses($index)"><img ng-class="getimageClasses($index)" style="cursor: pointer" ng-src="{{image.src}}" ng-click="openModalView($event, $index)"><div class="mdl-color-text--white view-more-div" ng-click="openModalView($event, $index)" ng-if="images.length>=(limit_var+1) && $index==(limit_var-1)">+{{images.length-(limit_var-1)}}</div></div></div>',scope:{images:"=",caption:"@"},controller:"AsImagesController"}}function t(e,t){function n(t){return t==e.limit_var-1&&e.images.length>=e.limit_var+1?"nb-last-image":"nb-display-inline"}function o(t){return 1==e.images.length?"nb-single-image":t<e.limit_var-1?"nb-multiple-image":t==e.limit_var-1&&e.images.length<e.limit_var+1?"nb-multiple-image":t==e.limit_var-1&&e.images.length>=e.limit_var+1?"image-view-more":void 0}function i(n,o){t.showModal({templateUrl:"./templates/modals/material/nb_image_modal.html",controller:a,inputs:{images:e.images,caption:e.caption,index:o},target:n.currentTarget,targetExpand:"yes"})}e.getimageDivClasses=n,e.getimageClasses=o,e.openModalView=i,function(){window.innerWidth<=1002?e.limit_var=2:e.limit_var=3}()}function a(e,t,a,n,o,i){function r(t){if(angular.isUndefined(e.images[t].loaded)||0==e.images[t].loaded){var a=new Image;a.src=e.images[t].src.replace("400x400","1024x1024"),a.onload=function(){e.images[t].loaded=!0,e.$apply()},a.onerror=function(){a.src=e.images[t].src.replace("1024x1024","400x400"),e.images[t].loaded=!0,e.$apply()}}return a}function s(e){return e.replace("400x400","1024x1024")}function l(t){var a=t.event;return as_upgrade(10),39==a.keyCode?e.curIndex<e.images.length-1?e.curIndex++:e.curIndex=0:37==a.keyCode&&(e.curIndex>0?e.curIndex--:e.curIndex=e.images.length-1),r(e.curIndex)}e.images=t,e.caption=n,e.index=a,e.close=i,e.curIndex=e.index,e.images[e.curIndex].loaded=!1,e.totalImgs=t.length,e.altpath=s,e.childKeyPress=l,function(){as_upgrade(10),o(function(){angular.element(document.querySelector("#imgfg"))[0].focus()},10),as_upgrade(10),r(e.curIndex)}()}angular.module("as.sidetop").directive("asImages",e).controller("AsImagesController",t),t.$inject=["$scope","ModalService"],a.$inject=["$scope","images","index","caption","$timeout","close"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/inputLinkPreview.html",scope:{inputElementId:"@",preview:"="},link:t,controller:a}}function t(e,t,a){angular.isUndefined(e.inputElementId)||(e.element_to_watch=document.getElementById(e.inputElementId),e.element_to_watch&&(e.element_to_watch.addEventListener("paste",function(){setTimeout(function(){e.textCrawling(e.element_to_watch.value)},100)}),e.element_to_watch.addEventListener("keyup",function(t){e.textCrawling(e.element_to_watch.value)})))}function a(e,t,a,n,o,i,r){function s(e){return p.test(e)}function l(e){var t=e.match(p);return t?t[0]:null}function c(){u(),e.currentImageIndex=1,e.showIframe=!1,e.hidePreview=!0,e.hideLoading=!0,e.isFetching=!1,e.allowPosting=!1,e.rightArrowDisabled=!0,e.leftArrowDisabled=!0,e.noThumbnail=!1,e.noImage=!1,e.previewTitleEditing=!1,e.previewDescriptionEditing=!1,e.loadingText=angular.isDefined(e.loadingText)?e.loadingText:"Loading Preview",e.loadingImage=angular.isDefined(e.loadingImage)?e.loadingImage:"#",e.thubmnailText=angular.isDefined(e.thubmnailText)?e.thubmnailText:"Choose a thumbnail",e.noThubmnailText=angular.isDefined(e.noThubmnailText)?e.noThubmnailText:"No thumbnail",e.thumbnailPagination=angular.isDefined(e.thumbnailPagination)?e.thumbnailPagination:"%N of %N",e.defaultTitle=angular.isDefined(e.defaultTitle)?e.defaultTitle:"",e.defaultDescription=angular.isDefined(e.defaultDescription)?e.defaultDescription:"",e.lastCrawledURL=null}function u(){e.preview={text:"",title:"",url:"",pageUrl:"",canonicalUrl:"",description:"",image:"",images:[],video:"",videoIframe:""},e.hidePreview=!0}var d,p=/((https?|ftp)\:\/\/)([a-z0-9+!*(),;?&=\$_.-]+(\:[a-z0-9+!*(),;?&=\$_.-]+)?@)?([a-z0-9-.]*)\.([a-z]{2,3})(\:[0-9]{2,5})?(\/([a-z0-9+\$_\-~@\(\)\%]\.?)+)*\/?(\?[a-z+&\$_.-][a-z0-9;:@&#%=+\/\$_.-]*)?(#[a-z_.-][a-z0-9+\$_.-]*)?/i;!function(){c(),r(function(){e.element_to_watch&&e.textCrawling(e.element_to_watch.value)},1e3)}(),e.defaultPreview=u,e.textCrawling=function(t){var n=s(t),r=l(t),c=!1,p=!1;if(!e.lastCrawledURL&&n?c=!0:e.lastCrawledURL&&(n?0==e.lastCrawledURL.localeCompare(r)?c=!1:(c=!0,p=!0):p=!0),p&&u(),c){e.lastCrawledURL=r,e.preview.url=r,e.hidePreview=!0,e.hideLoading=!1,e.isFetching=!0,e.allowPosting=!1,d&&(d.promise.status=499,d.resolve()),d=o.defer();var m={url:r},f=d.promise;a.postDataCancelableCall("./communities/social_platforms/actions/get_og_info",m,f,function(t){t&&(1==t.success&&t.data.og_data?(e.preview=t.data.og_data,e.preview.video&&(e.videoIframeHTML=i.trustAsHtml(t.videoIframe)),e.hasEmptyInfo(e),e.hidePreview=!1):u(),e.isFetching=!1,e.hideLoading=!0,e.allowPosting=!0,e.enablePagination(e),e.updatePagination(e))})}},e.hasEmptyInfo=function(e){""==e.preview.title&&(e.preview.title=e.preview.pageUrl||e.defaultTitle),""==e.preview.description&&(e.preview.description=e.defaultDescription)},e.enablePagination=function(e){var t=""===e.preview.image||null===e.preview.image;e.noThumbnail=t,e.noImage=t,e.leftArrowDisabled=1==e.preview.images.length,e.rightArrowDisabled=1==e.preview.images.length},e.updatePagination=function(e){var t=e.thumbnailPagination;t=t.replace("%N",e.currentImageIndex),t=t.replace("%N",e.preview.images.length),e.thumbnailPaginationText=t,e.leftArrowDisabled=1==e.currentImageIndex,e.rightArrowDisabled=e.currentImageIndex==e.preview.images.length},e.previousImage=function(){1!=e.currentImageIndex&&(e.currentImageIndex--,e.setNewPreviewImage(e.currentImageIndex))},e.nextImage=function(){e.currentImageIndex!=e.preview.images.length&&(e.currentImageIndex++,e.setNewPreviewImage(e.currentImageIndex))},e.setNewPreviewImage=function(t){e.preview.image=e.preview.images[t-1],e.updatePagination(e,t)},e.editPreviewTitle=function(){e.previewTitleEditing=!0},e.editPreviewDescription=function(){e.previewDescriptionEditing=!0},e.resetPreview=function(){c()},e.post=function(t){if(e.allowPosting){var a=angular.copy(t);(e.noThumbnail||e.noImage)&&(a.image=""),a.title===e.defaultTitle&&(a.title=""),a.description===e.defaultDescription&&(a.description=""),e.textHTML=i.trustAsHtml(a.text),e.descriptionHTML=i.trustAsHtml(a.description)}},e.imageAction=function(t){0==t.video?window.open(t.pageUrl,"_blank"):e.showIframe=!0},e.hidePlay=function(t){return 0==t.video||1==e.showIframe},e.layoutWithoutImage=function(t){return""==t.image||1==e.showIframe},e.layoutWithImage=function(t){return""!=t.image||1==t.video&&0==e.showIframe}}angular.module("as.sidetop").directive("asInputLinkPreview",e).controller("asInputLinkPreviewController",a),a.$inject=["$scope","$rootScope","sidetopHttp","$compile","$q","$sce","$timeout"]}(),function(){"use strict";function e(e,t){function a(a,n,o,i){var r=!1;n.bind("click",function(){var n={parent_id:a.parentId,intParentTable:a.parentTable};if(!r)return 0==a.past?!chk_restrictions(12)&&(r=!0,a.callBack(),e.postDataCall("./noticeboard_actions_c/likeAction",n,function(e){if(r=!1,1==e.success);else if(void 0!==e.restricted&&1===e.restricted){var a=function(e){t.go("inapp.restricted_")},n=document.querySelector("#success-toast"),o={message:"Sorry, you are not allowed to use this action.",timeout:3500,actionText:"Learn More",actionHandler:a};n.MaterialSnackbar.showSnackbar(o)}return r})):(r=!0,a.callBack(),e.postDataCall("./noticeboard_actions_c/UnlikeAction",n,function(e){return r=!1}))})}return{restrict:"A",scope:{past:"@",parentId:"@",parentTable:"@",callBack:"&"},link:a}}angular.module("as.sidetop").directive("asLike",e),e.$inject=["sidetopHttp","$state"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/likeComment.html",scope:{
parentTable:"=",parentId:"=",metainfo:"=?"},controller:"asLikeCommentController"}}function t(e,t,a,n,o){function i(){e.info.calling.like_comment_data=!0;var t={parentTable:e.parentTable,parentId:e.parentId};a.postDataCall("./noticeboard/getLikeCommentDetails",t,function(t){e.info.calling.like_comment_data=!1,1==t.success&&(e.info.is_liked=t.data.is_liked?1:0,e.info.likes_count=t.data.likes_count,e.info.comments_count=t.data.comments_count,e.info.comments=t.data.comments,as_upgrade(100))})}function r(){f()&&(1==e.info.is_liked?(e.info.is_liked=0,e.info.likes_count--):(e.info.is_liked=1,e.info.likes_count++))}function s(t){f()&&(e.info.likes_count<=0||o.user_list(3,{parent_id:e.parentId,parentTable:e.parentTable,heading:"People who liked this post"},t.target))}function l(){f()&&(e.showCommentsList(),e.info.focus_comment_box(),as_upgrade(500))}function c(){f()&&(e.info.show_comments=!0)}function u(t){e.info.comments.unshift(t.toInsert),e.info.comments_count++,as_upgrade(100)}function d(a){return!0===e.info.comments[a].ownership||!0===t.app_data.isAdmin}function p(e){as_upgrade(100)}function m(t){f()&&(e.info.comments.splice(t,1),e.info.comments_count--,e.closeCommentOptions(t))}function f(){if(1!=t.app_data.loginStatus){var e={heading:"Are you from "+t.app_data.data.short_name+"?",body:"Get complete access to the "+t.app_data.data.name+" portal if you are member of "+t.app_data.data.short_name,buttonConfirm:"Login to continue",onConfirm:function(e){e(),n.go("inapp.login",{redirect:encodeURIComponent(window.location.href)})}};return o.alertBox(e,document.body),!1}return!0}e.info={},e.metainfo={},e.likeCallback=r,e.getLikeList=s,e.showCommentsList=c,e.doFocusCommentBox=l,e.addNewComment=u,e.canDeleteComment=d,e.closeCommentOptions=p,e.trimComment=m,function(){e.info.likes_count=0,e.info.comments_count=0,e.info.is_liked=!1,e.info.likes=[],e.info.comments=[],e.info.show_comments=!1,e.info.focus_comment_box=!1,e.info.calling={like_comment_data:!1,likes_api:!1,like_unlike:!1},i()}()}angular.module("as.sidetop").directive("asLikeComment",e).controller("asLikeCommentController",t),t.$inject=["$scope","$rootScope","sidetopHttp","$state","bootModal"]}(),function(){"use strict";function e(){return{restrict:"E",scope:{uui:"=",allowed_actions:"=?"},templateUrl:"./templates/directives/asNetworking.html",controller:"asNetworkingController"}}function t(e,t,a,n,o,i,r){function s(){var t=n.networkingStatus(e.uui);null!=t&&(u&&o.cancel(u),e.info.network_status=t,as_upgrade(100))}function l(){e.info.updating_status||e.info.updated_status||(e.info.updating_status=!0,n.addToNetwork(e.uui,function(t){var a="";1==t.success?(e.info.updating_status=!1,e.info.updated_status=e.info.two_way?i("asLingo")(36)+" Sent":i("asLingo")(39),a=e.info.two_way?i("asLingo")(36)+" Sent":"Member added to your "+i("asLingo")(35)):a="Action Failed",snackbar_general(a,2500)}))}function c(t){e.info.updating_status||e.info.updated_status||(e.info.updating_status=!0,n.updateUserNetwork(e.uui,t,function(a){var n="";1==a.success?(e.info.updating_status=!1,e.info.updated_status=3==t?"Removed From "+i("asLingo")(35):i("asLingo")(36)+(1==t?" Accepted":" Rejected"),n=e.info.updated_status):n="Action Failed",snackbar_general(n,2500)}))}var u=void 0;e.info={enable_directive:!!a.enabled("networking")&&!!t.app_data.same_com_log,two_way:!!a.enabled("networking.two_way.*"),network_status:null,updating_status:!1,updated_status:!1},e.add_to_network=l,e.update_network=c,function(){angular.isArray(e.allowed_actions)||(e.allowed_actions=["add","approvals","remove"]),e.info.enable_directive&&e.uui==t.app_data.logged_user_roles[0].uui&&(e.info.enable_directive=!1),e.info.enable_directive&&(s(),o(s,200,5),u=o(s,2e3,30))}()}angular.module("as.sidetop").directive("asNetworking",e).controller("asNetworkingController",t),t.$inject=["$scope","$rootScope","features","asNetwork","$interval","$filter","$timeout"]}(),function(){"use strict";function e(e){function t(t,a,n,o){function i(e){if(t.pollOptions.deleting=!1,1==e.success)return snackbar_general("Poll Deleted Successfully",2500),t.callBack()}angular.isObject(t.pollOptions)||(t.pollOptions={}),a.bind("click",function(){var a={PollTable:t.pollType,PollID:t.pollId};return t.pollOptions.deleting=!0,e.postDataCall("./noticeboard_actions_c/removePollAction",a,i)})}return{restrict:"A",scope:{pollId:"@",pollType:"@",pollOptions:"=?",callBack:"&"},link:t}}angular.module("as.sidetop").directive("asPollDelete",e),e.$inject=["sidetopHttp"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/asProfileCustomForm.html",scope:{infotype:"@",userid:"=",submit:"=",submitcallback:"=?",sub_cid:"=?subCid",externalVariablesData:"=?",options:"=?"},controller:"asProfileCustomFormController"}}function t(e,t,a,n){function o(){e.info.form_pref={showFieldsOnly:!0,custom_form:{url:"./communities/communities/custom/userprofile_extra_form_n_data",data:{userid:e.userid||0,cid:e.sub_cid||(t.app_data.logged_user_roles&&t.app_data.logged_user_roles[0]&&t.app_data.logged_user_roles[0].sub_cid?t.app_data.logged_user_roles[0].sub_cid:0)||t.app_data.cid||0,parent_cid:t.app_data.cid||0,infoType:e.infotype}}}}function i(){e.info.form_options.styles={div2:"border: none; padding: 0px;",div3:"padding: 0px;"},e.info.form_options.classes={div3:"margin-0 maximize-width"}}function r(){e.info.show_form=!0}function s(){var t={};return angular.isDefined(e.externalVariablesData)&&(t=angular.isFunction(e.externalVariablesData)?e.externalVariablesData():e.externalVariablesData),angular.isObject(t)||(t={}),t}function l(t){var a=null;if(void 0===t&&(t=!1),a=angular.isFunction(e.info.getpresubmitdata)?e.info.getpresubmitdata(!t,!1):{},!t)return!!a;c(a)}function c(n){if(e.info.form_options.error)return void e.submitcallback({});if(n)if(n&&!angular.equals({},n)){var o={userid:e.userid,cid:t.app_data.cid||0,formdata:n};a({url:"./communities/communities/custom/submit_extra_userprofile_info",method:"POST",data:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){t.data||(t.data={}),1==t.success?t.data=n:t.error||(t.error="Something went wrong. Please Try again."),angular.isFunction(e.submitcallback)&&e.submitcallback(t)})}else if(angular.isFunction(e.submitcallback)){var i={success:1,data:{}};e.submitcallback(i)}}isObject(e.options)||(e.options={}),e.info={show_form:!1,getpresubmitdata:null,form_pref:{},form_options:e.options},e.submit=l,e.getExternalVariablesData=s,function(){o(),i(),r()}()}angular.module("as.sidetop").directive("asProfileCustomForm",e).controller("asProfileCustomFormController",t),t.$inject=["$scope","$rootScope","$http","$timeout"]}(),function(){"use strict";function e(e,t){function a(a,n,o,i){setTimeout(function(){angular.isDefined(o.locationTo)&&""!=o.locationTo&&(n.addClass("cursor-pointer"),n.bind("click",function(){if("www."==o.locationTo.substring(0,4)&&(o.locationTo="http://"+o.locationTo),"http://"==o.locationTo.substring(0,7)||"https://"==o.locationTo.substring(0,8)){var t=o.locationTo.replace(/http[s]{0,1}:\/\/(www\.|)/,""),a=window.COMM_APPBASE.replace(/http[s]{0,1}:\/\/(www\.|)/,"");t.startsWith(a)&&"_blank"!=o.locationTarget?window.location.assign(o.locationTo):window.open(o.locationTo,"_blank")}else e.url(o.locationTo)})),console.log("att1r.locationStateParams",o.locationStateParams),angular.isDefined(o.locationState)&&""!=o.locationState&&(n.addClass("cursor-pointer"),n.bind("click",function(){angular.isUndefined(o.locationStateParams)||""==o.locationStateParams.trim()||null==o.locationStateParams?o.locationStateParams={}:o.locationStateParams=JSON.parse(o.locationStateParams),t.go(o.locationState,o.locationStateParams)}))},100)}return{restrict:"A",scope:{},link:a}}angular.module("as.sidetop").directive("asRedirect",e),e.$inject=["$location","$state"]}(),function(){!function(){"use strict";function e(e){function t(t,a,n,o){a.bind("click",function(){function a(e){1==e.success&&(t.callBack(),snackbar_general("The admin has been notified",2500))}var n={tableType:t.table,parent_id:t.postId};return angular.isDefined(t.ownerUid)?n.owner_uid=t.ownerUid:n.owner_uui=t.ownerUui,e.postDataCall("./admin/setReportPosts_c",n,a)})}return{restrict:"A",scope:{table:"@",postId:"@",ownerUid:"@",ownerUui:"@",callBack:"&"},link:t}}angular.module("as.sidetop").directive("asReport",e),e.$inject=["sidetopHttp"]}()}(),function(){!function(){"use strict";function e(e){function t(t,a,n,o){a.bind("click",function(){function a(e){1==e.success&&(t.callBack(),snackbar_general("The admin has been notified",2500))}var n={};return angular.isDefined(t.reportedUui)?n.reported_uui=t.reportedUui:n.reported_uid=t.reportedUid,e.postDataCall("./admin/setReportPerson_c",n,a)})}return{restrict:"A",scope:{reportedUid:"@",reportedUui:"@",callBack:"&"},link:t}}angular.module("as.sidetop").directive("asReportUser",e),e.$inject=["sidetopHttp"]}()}(),function(){"use strict";function e(e){function t(t,a,n,o){function i(e){1==e.success?t.callBack():void 0!==e.restricted&&e.restricted}a.bind("click",function(){var a={tid:t.tagId};return 0===parseInt(t.past)&&t.tagId>0?e.postDataCall("./tags3step/followTag",a,i):e.postDataCall("./tags3step/unfollowTag",a,i)})}return{restrict:"A",scope:{tagId:"@",past:"@",callBack:"&",trackSource:"@"},link:t}}angular.module("as.sidetop").directive("asTagFollow",e),e.$inject=["sidetopHttp"]}(),function(){!function(){"use strict";function e(e,t,a,n,o){function i(n,o,i,r){n.isNotWeb=mobile_web_tab.isNotWeb,n.isMobile=mobile_web_tab.isMobile,n.u_i=a.app_data.uid,n.c_i=a.app_data.cid,n.origin=COMM_APPBASE;var s={1:"Invite your friends from class of '[data]'",2:"Invite your friends from '[data]'",3:"Invite your friends from '[data]' city",4:"Invite all old students you have taught",5:"Invite alums to join the "+a.app_data.data.short_name+" community"};(a.isCompany||7==a.app_data.cid)&&(s[1]="Invite your friends who worked with you",s[4]="Invite your collegues who were part of your team");for(var l=angular.copy(a.app_data.roles),c=l.length-1;c>=0;c--)l[c]=l[c].toString();var u="",d=0;if(a.app_data.same_com_log)if(a.app_data.isAdmin)n.loadingInfo=!0,e(function(){n.tagLine1=s[5],n.loadingInfo=!1},100);else if(-1!=l.indexOf("3"))n.loadingInfo=!0,e(function(){n.tagLine1=s[4],n.loadingInfo=!1},100);else{var p;n.loadingInfo=!0;var m=Math.floor(3*Math.random()+1);p=1==m||2==m?"role_info":"role_info,current_city",e(function(){t.requestedProfileData(p,function(e){n.loadingInfo=!1;try{if(void 0==e.data.locations[e.data.current_city])throw Error("No city");if(void 0==(u=e.data.locations[e.data.current_city]))throw new Error("undefined city");d=3}catch(t){(1==m||3==m)&&e.data.roleInfo[0].end>1905?(u=e.data.roleInfo[0].end,d=1):2==m&&null!==e.data.roleInfo[0].department&&(d=2,u=e.data.roleInfo[0].department)}if(""!==u)try{n.tagLine1=s[d].replace("[data]",u)}catch(e){console.log(e)}})},1e3)}else n.loadingInfo=!0,e(function(){n.tagLine1=s[5],n.loadingInfo=!1},100)}return{restrict:"E",templateUrl:"./templates/modals/material/user_invitation.html",scope:{coverFetched:"@",coverImage:"=?",style:"@templStyle"},link:i,controller:"AsUserInvitationController"}}function t(e,t,a,n,o,i,r,s,l){function c(e){try{mixpanel.track("Invite Clicked",{Screen:pageReferrer,uid:s.app_data.uid,cid:s.app_data.cid,"tag Line":myInt,role:roleCook,type:e})}catch(e){console.log(e)}"email"==e&&d()}function u(e,a){console.log("socialInvite","ev:",e,"type:",a),platform?(e.returnValue=!1,e.preventDefault&&e.preventDefault(),"whatsapp"==a&&(console.log("if","type:",a,"whatsapp"),m()),"facebook"==a&&p()):(t.trackInvite(a),shareCard(e))}function d(){return snackbar_general("Compiling an invite email...",2e3),l.get("./welcome/invite_friends_api").success(function(e){1==e.success&&window.plugins.socialsharing.shareViaEmail(e.data,s.app_data.name+"s Invitation to join "+s.app_data.data.short_name+"Alumni Network",null,null,null,null,function(){console.log("share ok")},function(){console.log("err",errormsg)})})}function p(){var e="Hello, Join the "+s.app_data.data.short_name+" Alumni Network and stay connected to your college and classmates.",t=COMM_APPBASE+"invite/1/"+s.app_data.cid+"/"+s.app_data.uid,a="https://www.facebook.com/sharer/sharer.php?u="+t;window.plugins.socialsharing.shareViaFacebook(e,null,t,function(){console.log("share ok")},function(e){console.log("err",e),window.open(a,"_system")})}function m(){console.log("inviteViaWhatsapp");var e="Hello, Join the "+s.app_data.data.short_name+" Alumni Network and stay connected to your college and classmates.",t=COMM_APPBASE+"invite/1/"+s.app_data.cid+"/"+s.app_data.uid;window.plugins.socialsharing.shareViaWhatsApp(e,null,t,function(){console.log("share ok")},function(e){console.log("err",e)})}function f(){delete t.inviteError}function g(){function e(e){t.isSendingInvite=!1;var a="Invitation not sent!";if(void 0!==e.restricted&&1==e.restricted){if(chk_restrictions(7))return!1}else 1==e.success?(a="Invite sent successfully!",delete t.inviteData,t.inviteData={roleString:"alumni"}):-5==e.success?(t.userStatus=e.data,t.userStatus.exists=!0,t.userStatus.authStatus=e.authStatus,a=t.userStatus.first_name+" "+t.userStatus.last_name+" is already in community"):-4==e.success&&(t.pastInvitedUserData=e.data,t.pastInvitedUserData.exists=!0,a="User already invited on "+i("date")(1e3*t.pastInvitedUserData.time,"mediumDate"));snackbar_general(a,2500)}return!chk_restrictions(7)&&(angular.isUndefined(t.inviteData.personName)||angular.isUndefined(t.inviteData.email)||""===t.inviteData.personName.trim()?(t.inviteError="Please fill all the details",void n(f,3e3)):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.inviteData.email)?(t.isSendingInvite=!0,a.postDataCall("./admin/inviteToPlatform",t.inviteData,e)):(t.inviteError="Please enter a valid email address",void n(f,3e3)))}function _(){function e(e){t.intializeInvite()}o.setAuthStatus(t.userStatus.role_id,authConfig.adminAuthInt,e)}function h(){delete t.userStatus,delete t.inviteData,t.inviteData={roleString:"alumni"}}function v(){function e(e){if(t.isSendingInvite=!1,void 0!==e.restricted&&1==e.restricted){var a=function(e){r.go("inapp.restricted_")};snackbar_general("Sorry, you are not allowed to use this action.",5e3,"Learn More",a)}else 1==e.success?(snackbar_general("Invite sent successfully!",2500),delete t.pastInvitedUserData,delete t.inviteData,t.inviteData={roleString:"alumni"}):snackbar_general("Some error occurred.",5e3)}var n={invite_id:t.pastInvitedUserData.id};return!chk_restrictions(7)&&(t.isSendingInvite=!0,a.postDataCall("./admin/reinviteToPlatform",n,e))}t.s3_url=s3base,t.inviteData={roleString:"alumni"},t.sendInvite=g,t.changeStatus=_,t.intializeInvite=h,t.inviteUserAgain=v,t.trackInvite=c,t.socialInvite=u,function(){function e(e){if(e.length>0){var a=Math.floor(Math.random()*e.length+1);t.coverImage=e[a-1].src}}if(t.style||(t.style=1),t.style=parseInt(t.style),!t.coverFetched){var n;n=s.app_data.same_com_log&&null!=s.app_data.logged_user_roles[0].sub_cid?s.app_data.logged_user_roles[0].sub_cid:s.app_data.cid;var o={community:n,json_return:!0};a.postDataCall("./institutes/getCoverImages",o,e)}}();var y="Hello, Join the "+s.app_data.data.short_name+" Alumni Network and stay connected to your college and classmates.",b=COMM_APPBASE+"invite/1/"+s.app_data.cid+"/"+s.app_data.uid,w=encodeURIComponent(b)+"&linkname="+encodeURIComponent(y);t.whatsapp_url="https://www.addtoany.com/add_to/whatsapp?linkurl="+w}angular.module("as.sidetop").directive("asUserInvitation",e).controller("AsUserInvitationController",t),e.$inject=["$timeout","insti_info","$rootScope","$state","$http"],t.$inject=["$interval","$scope","sidetopHttp","$timeout","asAuthService","$filter","$state","$rootScope","$http"]}()}(),function(){"use strict";function e(e){function t(t,a,n,o){function i(e){if(s=!1,void 0!==e.success&&1==e.success)return t.callBack();if(void 0!==e.restricted&&1==e.restricted){var a=function(e){$state.go("inapp.restricted_")},n=document.querySelector("#success-toast"),o={message:"Sorry, you are not allowed to use this action.",timeout:3500,actionText:"Why?",actionHandler:a};return n.MaterialSnackbar.showSnackbar(o)}}function r(e){if(s=!1,1==e.success)return t.callBack()}var s=!1,l=function(){return{OptionID:t.optionId,PollTable:t.parentTable,PollID:t.parentId}};a.bind("click",function(){if(!s){if(0===t.past||null===t.past||""===t.past){if(chk_restrictions(11))return!1;s=!0;try{t.preCallBack()}catch(e){console.log(e)}var a=l();return e.postDataCall("./noticeboard_actions_c/getPollVoteFromUser",a,i)}s=!0;try{t.preCallBack()}catch(e){console.log(e)}var a=l();return e.postDataCall("./noticeboard_actions_c/getPollUnVoteFromUser",a,r)}})}return{restrict:"A",scope:{past:"@",optionId:"@",parentId:"@",parentTable:"@",callBack:"&",preCallBack:"&"},link:t}}angular.module("as.sidetop").directive("asVote",e),e.$inject=["sidetopHttp"]}(),function(){"use strict";function e(e){function t(t,a,n){isNaN(t.timeout)||e(function(){t.done=!0},parseInt(t.timeout))}return{restrict:"E",scope:{done:"=?",timeout:"@"},replace:!0,template:'<div class="circle-loader" ng-class="{\'load-complete\':done}"><div ng-show="done" class="checkmark draw"></div></div>',link:t}}angular.module("as.sidetop").directive("circleSuccess",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(){return{templateUrl:"./templates/directives/donateNowCard.html",restrict:"EA",scope:{projectId:"=",pref:"=?"},controller:t}}function t(e,t,a,n,o,i,r,s,l,c){e.donateNow_btnTxt="Donate Now",e.loading=!0,e.alertMsg="You don't have permission for this action",function(){as_upgrade(300),e.androidPaymentWarning=!1,platformis.android&&!window.RazorpayCheckout&&(e.androidPaymentWarning=!0);try{o.invoke(window.commonStateFunc.inject_libphonenumber)}catch(e){}try{o.invoke(window.commonStateFunc.inject_razorpay)}catch(e){}t.post("./donation/index_new_api",{project_id:e.projectId}).then(function(t){if(as_upgrade(300),1!=t.data.success)return void i.go("inapp.donation");var a=t.data.data.project[0];if(0==a.is_public&&(l.app_data.cid!=a.cid||0==l.app_data.same_com_log))return void(e.error="You must be logged in to donate.");var n=t.data.data;e.project_id=n.project_id,e.project=n.project,e.loggedin=n.loggedin,e.lm=n.lm,e.project=n.project,e.loading=!1,e.donate={name:n.user.name,email:n.user.email,phoneCode:n.user.phone.country_code,phoneNo:NaN!=parseInt(n.user.phone.number)?parseInt(n.user.phone.number):"",amount:"",anonymous:!1}})}(),e.donateNow=function(){if(e.paymenting)return!1;if(!c.isValidNumber(e.donate.phoneCode,e.donate.phoneNo))return void alert("Mobile No. is not valid for selected country code '+"+e.donate.phoneCode+"'");if(""==e.donate.name||null==e.donate.name)return void alert("Please enter your name");if(""==e.donate.email||null==e.donate.email)return void alert("Please enter your Email");if(!(void 0!=window.env&&3==window.env||e.donate.amount>0||""!=get_cookie("debug16")))return void alert("Please enter valid Amount");var a={project_id:e.project_id,amount:e.donate.amount,anonymous:e.donate.anonymous?1:0,code:e.donate.phoneCode,phone:e.donate.phoneNo,name:e.donate.name,email:e.donate.email,loggedin:e.loggedin};console.log(a),e.paymenting=!0,t.post("./donation/DonationGateway",a).success(function(t){if(1==t.success)if(t.razorData&&"object"==typeof t.razorData){var a=function(){s(function(){console.log("error callback of paymenting"),e.paymenting=!1},100)};r.razorpay(t.razorData,null,a,a)}else t.paypalData&&"object"==typeof t.paypalData?r.paypal(t.paypalData,null,function(){s(function(){console.log("error callback of paymenting"),e.paymenting=!1},100)}):t.gatewayPostData&&"object"==typeof t.gatewayPostData?r.general_gateway_payment(t.gatewayPostData,null,function(){s(function(){console.log("error callback of paymenting"),e.paymenting=!1},100)}):0===t.url.indexOf("http://")||0===t.url.indexOf("https://")?platform?(r.payment(t.url),e.paymenting=!1):window.location.href=t.url:(platformis.android?$location.url(window.file_base+t.url):$location.url(t.url),e.paymenting=!1);else{e.paymenting=!1;var n="Something went wrong";n=t.error||n,snackbar_general(n,3500)}})}}angular.module("as.sidetop").directive("donateNowCard",e).controller("donateNowCardCtrl",t),t.$inject=["$scope","$http","$window","$filter","$injector","$state","xwalk","$timeout","$rootScope","phonenumber"]}(),function(){"use strict";function e(e){function t(t,a,n){!function(e,a,n){var o,i=e.getElementsByTagName(a)[0];e.getElementById(n)||(o=e.createElement(a),o.id=n,o.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8"+(angular.isDefined(t.appId)&&t.appId?"&appId="+t.appId:""),i.parentNode.insertBefore(o,i))}(document,"script","facebook-jssdk-page"),e(function(){window.FB&&window.FB.XFBML.parse(a[0].parentElement)},250)}return{link:t,restrict:"A",scope:{appId:"=?"}}}angular.module("as.sidetop").directive("fbPageEmbed",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(e){function t(t,a,n){!function(e,t,a){var n,o=e.getElementsByTagName(t)[0];e.getElementById(a)||(n=e.createElement(t),n.id=a,n.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.1",o.parentNode.insertBefore(n,o))}(document,"script","facebook-jssdk"),e(function(){window.FB&&window.FB.XFBML.parse(a[0].parentElement)})}return{link:t,restrict:"A"}}angular.module("as.sidetop").directive("fbPostEmbed",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(){return{restrict:"EA",templateUrl:"./templates/directives/jobPreference.html",scope:{afterSubmit:"&",showForm:"@",helpText:"=?"},controller:"jobPreferenceCtrl"}}function t(e,t,a){function n(){t.get("./jobs/getSeekerStatus").then(function(t){t.data&&1==t.data.success&&t.data.data&&(isNaN(t.data.data.internship_switch)||(e.internship_switch=String(t.data.data.internship_switch)))})}function o(){if(null==e.internship_switch)return void snackbar_general("Select a preference");var n={internship_switch:e.internship_switch};return e.savingPreference=!0,t.post("./jobs/switch_seeker",n).then(function(t){1==t.data.success&&snackbar_general("Preferences Updated",2e3),e.afterSubmit&&"function"==typeof e.afterSubmit()?e.afterSubmit()(n):"1"==e.internship_switch&&a.go("^.internships"),e.dataSent=!0,e.showForm&&!isNaN(e.showForm)&&"0"==e.internship_switch&&(e.showForm=parseInt(e.showForm),e.showPrefForm=!0,e.showPref=!1),e.savingPreference=!1}).catch(function(){e.savingPreference=!1})}e.showPref=!0,e.savingPreference=!1,e.internship_switch=null,e.switchSeeker=o,function(){n()}()}angular.module("as.sidetop").directive("jobPreference",e).controller("jobPreferenceCtrl",t),t.$inject=["$scope","$http","$state"]}(),function(){"use strict";function e(){return{restrict:"EA",templateUrl:"./templates/latestBanner.html",scope:{},controller:t}}function t(e,t,a,n,o){function i(){angular.forEach(e.bannerDetails,function(a,n){if(t.featureEnabled(a.featureName))return e.isBannerNeeded=!0,void(e.bannerDetails[n].enable=!0)})}function r(){function t(){c[l].className="slide margin-lr-8 margin-lr-gt-xs-72 padding-lr-8 padding-tb-20 center-alignment ",l=(l+1)%c.length,e.slides.currentSlide=l+1,c[l].className="slide show margin-lr-8 margin-lr-gt-xs-72 padding-lr-8 padding-tb-20 center-alignment "}if(0!=d){if(!(c=document.querySelectorAll("#slideshow .slide"))||0==c.length)return n(r,200),void d--;c.length>1&&(e.isslideBtnNeeded=!0),l=0,u=o(t,6e3),e.slides=c,e.slides.currentSlide=l+1}}function s(t){function a(){c[l].className="slide margin-lr-8 margin-lr-gt-xs-72 padding-lr-8 padding-tb-20 center-alignment ",l=(l+1)%c.length,c[l].className="slide show margin-lr-8 margin-lr-gt-xs-72 padding-lr-8 padding-tb-20 center-alignment ",e.slides.currentSlide=l+1}t<0&&(e.bannerDetails.forawrd=!1),o.cancel(u),u=o(a,6e3),c[l].className="slide margin-lr-8 margin-lr-gt-xs-72 padding-lr-8 padding-tb-20 center-alignment ",l=(l+t)%c.length,l<0&&(l=c.length-1),e.slides.currentSlide=l+1,c[l].className="slide show margin-lr-8 margin-lr-gt-xs-72 padding-lr-8 padding-tb-20 center-alignment ",e.bannerDetails.forawrd=!0}e.bannerDetails=[{featureName:"alumni_value_networks",title:t.app_data.data.short_name+" Alumni Insights",subTitle:"Connect with right people of "+t.app_data.data.short_name+" and grow your networks.",btnText:"EXPLORE MORE",btnClick:"inapp.networks({})",enable:!1},{featureName:"icard",title:"Digital Alumni Icard",subTitle:"Introducing "+t.app_data.data.short_name+" Alumni I-Card. Claim your I-card if not done yet.",btnText:"GET ICARD",btnClick:"inapp.icardRequest({})",enable:!1}],e.isBannerNeeded=!1;var l,c,u,d=15;e.isslideBtnNeeded=!1,e.bannerDetails.forawrd=!0,e.divSlide=r,e.jumpToSlide=s,function(){i(),r(),e.$on("$destroy",function(){o.cancel(u)})}()}angular.module("as.sidetop").directive("latestBanner",e).controller("latestBannerCtrl",t),t.$inject=["$scope","$rootScope","$http","$timeout","$interval"]}(),function(){"use strict";function e(){return{replace:!0,restricte:"E",transclude:!0,template:'<button class="mdl-button mdl-js-button mdl-js-ripple-effect" style="min-width: 0px" ng-transclude></button>'}}angular.module("as.sidetop").directive("mdButton",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/components/navbar_md.html",scope:{},controller:"NavBarController"}}function t(e,t,a,n,o,i,r,s,l,c){function u(t,a){a.stopPropagation(),m(),console.log("a",e.search_drop),r.go("inapp.search",{name:t})}function d(t){t.stopPropagation(),a.innerWidth<480&&(!1===e.searchOpen?(e.hideAll=!0,e.searchOpen=!0,e.showSearchDropdown()):(e.hideAll=!1,e.searchOpen=!1,e.search_drop=!1))}function p(){setTimeout(function(){angular.element(document.getElementById("samplesearch"))[0].focus()},100),console.log("fcfff"),e.search_drop=!0}function m(){e.search_drop=!1,a.innerWidth<992&&!0===e.searchOpen&&(e.searchOpen=!1,e.hideAll=!1)}function f(t){window.innerWidth<480?e.hideSearchBar=!0:e.hideSearchBar=!1,t&&e.$apply()}function g(t,a){if(angular.isDefined(e.suggestions[t]))return null!==e.suggestions[t]&&e.suggestions[t].length>0&&!(angular.isDefined(a)&&e.suggestions[t].length<=1)}function _(t){(0!==t||e.searchState<0)&&(e.searchState=t)}function h(t){return t==e.searchState}function v(t){null===e.suggestions.departments&&(e.suggestions.departments=[]),null===e.suggestions.cities&&(e.suggestions.cities=[]),null===e.suggestions.companies&&(e.suggestions.companies=[]),null===e.suggestions.people&&(e.suggestions.people=[]),40===t.keyCode?(console.log(e.suggestions),t.preventDefault(),e.selectedIndex+1!==e.suggestions.cities.length+e.suggestions.people.length+e.suggestions.companies.length+e.suggestions.departments.length&&e.selectedIndex++):38===t.keyCode?(t.preventDefault(),-1!==e.selectedIndex&&e.selectedIndex--):13===t.keyCode?(t.preventDefault(),e.selectIt(e.selectedIndex)):27==t.keyCode&&(e.hidesearch=!0)}function y(t){t<0?(m(),r.go("inapp.search",{name:e.searchText})):t<e.suggestions.people.length?(m(),r.go("inapp.profile",{uid:e.suggestions.people[t].uid,source:"header_search"})):t<e.suggestions.people.length+e.suggestions.companies.length?(m(),r.go("inapp.search",{company:e.suggestions.companies[t-e.suggestions.people.length].id})):t<e.suggestions.people.length+e.suggestions.companies.length+e.suggestions.cities.length?(m(),r.go("inapp.search",{city:e.suggestions.cities[t-e.suggestions.people.length-e.suggestions.companies.length].id})):(m(),r.go("inapp.search",{department:e.suggestions.departments[t-e.suggestions.people.length-e.suggestions.companies.length-e.suggestions.cities.length].id})),e.suggestions=[],e.searchText="",console.log("jsdgbjkvsfdn"),console.log(e.search_drop),e.searchOpen=!1,e.hidesearch=!0,document.getElementById("samplesearch").blur()}function b(t){return function(a){if(e.fetchSearch--,angular.isUndefined(a.success)&&(a.data=a),console.log(t,a),a.data)return console.log("if","response.data:",a.data),e.list[t]=a.data,e.suggestions[t]=a.data,console.log(t,e.suggestions[t]),""===e.searchText?(e.suggestions[t]=[],e.suggestions[t]):(e.suggestions[t]=n("limitTo")(e.suggestions[t],2),e.selectedIndex=-1,e.suggestions[t])}}function w(){if(e.hidesearch=!1,""!==e.searchText&&void 0!==e.searchText||(e.advanced_search_button=!1),null!==e.searchText){if(e.advanced_search_button=!0,e.searchText.length>=1){e.fetchSearch=4;var a=b("people");return t({url:"./search_users/peopleToTag",method:"POST",data:{firstLetter:e.searchText,limit:2,fetchLost:!0},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(a)}else e.suggestions.cities=[],e.suggestions.people=[],e.suggestions.companies=[],e.suggestions.people=n("filter")(e.list.people,e.searchText),""===e.searchText&&(e.suggestions.people=[]),e.suggestions.people=n("limitTo")(e.suggestions.people,2),e.suggestions.companies=n("filter")(e.list.companies,e.searchText),""===e.searchText&&(e.suggestions.companies=[]),e.suggestions.companies=n("limitTo")(e.suggestions.companies,2),e.suggestions.cities=n("filter")(e.list.cities,e.searchText),""===e.searchText&&(e.suggestions.cities=[]),e.suggestions.cities=n("limitTo")(e.suggestions.cities,2),e.suggestions.departments=n("filter")(e.list.departments,e.searchText),""===e.searchText&&(e.suggestions.departments=[]),e.suggestions.departments=n("limitTo")(e.suggestions.departments,2),e.selectedIndex=-1;e.isAdmin=!1,(l.app_data.roles.indexOf("4")>=0||l.app_data.roles.indexOf(4)>=0)&&(e.isAdmin=!0)}}e.Instidata={},e.categories_animation=!1,s(function(){e.categories_animation=!0},2e3),e.searchOpen=!1,e.s3_url=s3base,e.search_drop=!1,e.searchState=-1;e.list={},e.suggestions={},e.suggestions.people=[],e.suggestions.cities=[],e.suggestions.companies=[],e.suggestions.departments=[],e.fetchSearch=0,e.advanced_search_button=!1,e.promot_app=!1,e.redirectTo=u,e.hideAllIcons=d,e.showSearchDropdown=p,e.showAllIcons=m,e.ifData=g,e.setSearchState=_,e.hintsShow=h,e.checkKeyDown=v,e.selectIt=y,e.checkValueChange=w,function(){f(!1);var t=o(function(){angular.isDefined(insti_info_data.insti_data)&&(e.Instidata=insti_info_data.insti_data,o.cancel(t))},1e3);if(angular.element(a).bind("resize",function(){f(!0)}),c.getFeature("mobile_app")&&!window.platform){var n=c.getFeature("mobile_app");("dedicated"==n.type&&null==n.app_promotion||n.app_promotion)&&(e.promot_app=!0)}}()}angular.module("as.sidetop").directive("navBarmd",e).controller("NavBarController",t),t.$inject=["$scope","$http","$window","$filter","$interval","sidetopHttp","$state","$timeout","$rootScope","features"]}(),function(){!function(){"use strict";function e(e,t){function a(a,n,o,i){function r(e){if(1==e.success)a.callBack();else if(void 0!==e.restricted&&1==e.restricted){var n=function(e){t.go("inapp.restricted_")},o=document.querySelector("#success-toast"),i={message:"Sorry, you are not allowed to use this action.",timeout:3500,actionText:"Why?",actionHandler:n};o.MaterialSnackbar.showSnackbar(i)}}function s(e){1==e.success&&a.callBack()}n.bind("click",function(){if("0"===a.past){if(chk_restrictions(5))return!1;var t={network_uui:a.nid};return e.postDataCall("./profile/addNetworkUsers_c",t,r)}var n={network_uui:a.nid};return e.postDataCall("./profile/removeNetworkUsers_c",n,s)})}return{restrict:"A",scope:{past:"@",nid:"@",callBack:"&"},link:a}}angular.module("as.sidetop").directive("networkAdd",e),e.$inject=["sidetopHttp","$state"]}()}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/modals/material/not_life_member.html",scope:{coverFetched:"@coverFetched",coverImage:"="},controller:"NotLifeMemberController"}}function t(e,t,a){e.s3_url=s3base,function(){function n(t){if(t.length>0){var a=Math.floor(Math.random()*t.length+1);e.coverImage=t[a-1].src}}var o={community:t.app_data.cid,json_return:!0};if(!e.coverFetched)a.postDataCall("./institutes/getCoverImages",o,n)}()}angular.module("as.sidetop").directive("notLifeMember",e).controller("NotLifeMemberController",t),t.$inject=["$scope","$rootScope","sidetopHttp"]}(),function(){"use strict";function e(){return{restrict:"E",
templateUrl:"./templates/components/header_portfolio_md.html",scope:{},controller:"notLoggedinHeadermdController",replace:!0}}function t(e,t,a,n,o,i){function r(){e.headerConfig=a.app_data.config.portalfolioHeader}function s(){var t=g;e.active="home",e.college_logo=t.cid,e.college_l_name=t.com_name,e.college_s_name=t.short_name,e.hide_about=5==t.insti_type,console.log(e.hide_about),e.college_username=t.user_name,a.app_data.uid>0&&(e.uid=a.app_data.uid,e.name=a.app_data.name),l()}function l(){var a={cid:f};return t.postDataCall("./institutes/fetchAllCounts",a,function(t){1==t.success&&(e.event_tab_display=t.data.event_count>0,e.job_tab_display=t.data.job_count>0,e.team_tab_display=t.data.alumni_team>0,e.cf_tab_display=t.data.campusfeed_count>0)})}function c(t,a){if("home"==a&&"inapp.portfolio"==n.current.name||"about"==a&&"inapp.about"==n.current.name){var o=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset;scrollTo(o-72,1e3,function(){e.active=t})}else"about"==a?(a="about/",n.go("inapp.about",{section:t,source:e.source})):"home"==a&&(a="",n.go("inapp.portfolio",{section:t,source:e.source}))}function u(t){_==t?(_=-1,document.body.style.overflow="visible"):(_=t,(e.mobile_screen||e.tablet_screen)&&(document.body.style.overflow="hidden"))}function d(t){_=t,e.mobile_screen&&(document.body.style.overflow="hidden")}function p(e){_==e&&(_=-1,document.body.style.overflow="visible")}function m(e){return _==e}e.s3base=s3base;var f,g=a.app_data.data;void 0!==g&&void 0!==g.cid?f=g.cid:(g={cid:0},f=0,a.app_data.uid>0?a.header.switch=1:a.header.switch=2);e.redirect_link=c;var _=-1;e.toggle5list=u,e.close5list=p,e.show5list=d,e.islistOpened=m,function(){e.source="",r(),s()}()}angular.module("as.sidetop").directive("notLoggedinHeadermd",e).controller("notLoggedinHeadermdController",t),t.$inject=["$scope","sidetopHttp","$rootScope","$state","portalHeaderService","bootModal"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/components/footer_md.html",scope:{contact_details:"=?contactDetails"},link:t,controller:"portalFooterController"}}function t(e,t){platform&&(e.$destroy(),t.remove())}function a(e,t,a){e.source="footer",e.hide_about=angular.isDefined(a.app_data.data.parent_cid);var n=a.app_data.cid;e.cid=n>0,function(){if(!angular.isDefined(e.contact_details))t.post("./institutes/contact_details_api",{cid:n}).success(function(t){1==t.success&&(e.contact_details=t.data)})}()}angular.module("as.sidetop").directive("portalFooter",e).controller("portalFooterController",a),a.$inject=["$scope","$http","$rootScope"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/components/header_md.html",scope:{dynamicHeader:"=?"},controller:"PortalHeadermdController",replace:!0}}function t(e,t,a){function n(a,n,o){a.templateData=a.$parent.$eval(o.templateData),a.templatename=a.$parent.$eval(o.templatename),a.templatetype=a.$parent.$eval(o.templatetype),a.templateData.tData=angular.isDefined(a.templateData.tData)?a.templateData.tData:{},a.templateData.tConfiguration=angular.isDefined(a.templateData.tConfiguration)?a.templateData.tConfiguration:{},function(){function i(t){try{n.replaceWith(e(t)(a)),as_upgrade(100)}catch(e){}}function r(e){}t.get("./templates/pages/main_site/portfolio_templates/portfolio_elements/"+o.templatename+"/"+o.templatename+"_"+o.templatetype+".html").success(i).error(r)}()}return{restrict:"E",scope:{templateData:"=",templatename:"@",templatetype:"@"},link:n}}function a(e,t,a,n,o,i,r,s,l,c,u,d,p,m){function f(e){return console.log("cond ",e.target.href,window.location.href.replace(H,"").split("?")[0]),e.target.href===window.location.href.replace(H,"").split("?")[0]&&(a(function(){console.log(c.current);var t=!1;e.target.href==window.location.href.replace(H,"")&&(t=!0),c.transitionTo(c.current,{},{reload:!0,inherit:t,notify:!0})},100),e.preventDefault(),console.log("insside \n\n\n")),console.log("outsside \n\n\n"),!1}function g(e){p.openSendBox({},e.target)}function _(){R=!0,e.show5list("showAll"),a(function(){angular.element(document.getElementById("mobile_menu")).css("right","0%")},100),a(function(){R=!1},500)}function h(){e.close5list("showAll"),a(function(){angular.element(document.getElementById("mobile_menu")).css("right","-56%")},100)}function v(){e.headerConfig=[{o:1,name:"noticeboard",location:"noticeboard",type:"state"},{o:2,name:"events",location:"events",type:"state"},{o:5,name:"google",location:"http://google.com",type:"link",newtab:1},{o:4,name:"jobs",location:"jobs",type:"state",newtab:1},{o:3,name:"More",type:"dropdown",content:[{name:"Directory",location:"search",type:"state"},{name:"Campusfeed",location:"campusfeed",type:"state"},{name:"Discussions",location:"discussion",type:"state"},{name:"Admin",location:"admin",type:"state"},{name:"About",location:"about",type:"state"},{name:"Settings",location:"settings",type:"state"},{name:"logout",type:"logout"}]}],void 0!==s.app_data.config.portalHeader&&s.app_data.config.portalHeader.length>0&&(e.headerConfig=s.app_data.config.portalHeader)}function y(e,t,a){S(t),angular.isUndefined(a)&&(a={}),c.go(e,a)}function b(e,t,a,n,o){void 0!==n?(n="/"+n,o=angular.isDefined(o)?"/"+o:""):(n="",o=angular.isDefined(o)?"/0/"+o:""),S("notification"),l.postCall("./notification_controller_vc/getNotification_content_api/"+e+"/"+t+"/"+a+n+o,function(e){1==e.success&&c.go("inapp."+e.data.state,e.data.params)})}function w(t){window.innerWidth<480?(e.mobile_screen=!0,e.tablet_screen=!0):window.innerWidth<840?(e.mobile_screen=!1,e.tablet_screen=!0):(e.mobile_screen=!1,e.tablet_screen=!1),t&&e.$apply()}function k(t){n.pageYOffset>48?e.header_shadow=!0:e.header_shadow=!1,t&&e.$apply()}function D(t){console.log("return",t),insti_info_data.insti_data=t,insti_info_data;try{insti_info_data.received1(t)}catch(e){console.log(e.name+': "'+e.message+'" occurred when assigning x.')}try{insti_info_data.received_p(t)}catch(e){console.log(e.name+': "'+e.message+'" occurred when assigning x.')}try{insti_info_data.received_admin(t)}catch(e){console.log(e.name+': "'+e.message+'" occurred when assigning x.')}e.collegeLogo=t.id,e.colName=t.com_name,e.col_user_name=t.user_name,e.others=t.others,e.colName_short=t.short_name}function $(t){L==t?(L=-1,document.body.style.overflow="visible"):(L=t,(e.mobile_screen||e.tablet_screen)&&(document.body.style.overflow="hidden"))}function C(t){L=t,e.mobile_screen&&(document.body.style.overflow="hidden")}function S(e){L==e&&(L=-1,document.body.style.overflow="visible")}function x(e){return L==e}function T(t){if(!("first"==t&&B>1))return"more"==t?void c.go("inapp.notification"):(e.fetchingNoti=!0,i.getNotifications(B,I))}function I(t){e.fetchingNoti=!1,1==t.success?(e.notifications=e.notifications.concat(t.data),B++):e.moreNoti=!1}function j(t){return 1==e.myThreads[t].otherUsers.length?e.myThreads[t].otherUsers[0].name:e.myThreads[t].otherUsers[0].name+" and "+(e.myThreads[t].otherUsers.length-1)+" other"}function P(t,a){e.messOpen=!0,e.notiOpen=!1,"again"!=t&&angular.isDefined(e.myThreads)||(e.isFetchingMsgs=!0,i.getMessages(M))}function M(t){e.isFetchingMsgs=!1,1==t.success?(e.myThreads=t.data,e.temp_not=!0):e.myThreads=[]}function O(t){1==t.success&&(e.notiNumber=t.data,e.notiNumber.notification>0&&e.getNoti("first0"),e.notiNumber.message>0&&(console.log("getMessages..."),e.getMessages("again")))}function A(t){e.notiNumber[t]<1||i.changeLastSeenTime(t,U(t))}function U(t){return function(a){1===a.success&&(e.notiNumber[t]=0)}}function N(t,a){if(7==e.notifications[t].activity){if(a.preventDefault(),e.authNotiClick=!0,angular.isDefined(e.toAuthProfiles))return;e.notifications[t].showed=1;var n=e.notifications[t].noty_id;i.peopleWhoAskedAuth(n,E)}}function E(t){1==t.success&&(e.toAuthProfiles=t.data)}function F(){snackbar_general("Logging you out...",3500),angular.isDefined(window.cordova)?window.plugins.OneSignal.getIds(function(e){console.log("getIds: "+JSON.stringify(e)),u.post("./mobile/disableOnesignal",{id:e.userId}).then(function(e){console.log(e),i.logoutUser(function(e){1==e.success&&setTimeout(function(){hardReload.to("portfolio")},2500)})})}):i.logoutUser(function(e){1==e.success&&setTimeout(function(){hardReload.to("portfolio")},2500)})}console.log("In Portal Header"),e.s3_url=s3base,e.categories_animation=!1,a(function(){e.categories_animation=!0},2e3);var L=-1;e.custom_header=!1,e.collegeLogo="";var B=1;e.moreNoti=!0,e.notifications=[],e.fetchingNoti=!1,e.notiOpen=!1,e.messOpen=!1,e.isFetchingMsgs=!1,e.mul=0,e.notiNumber={};var R=!1;e.promot_app=!1;var H=""===s.app_data.data.baseState?"":"/"+s.app_data.data.baseState;e.toggle5list=$,e.close5list=S,e.show5list=C,e.islistOpened=x,e.getNoti=T,e.getMessages=P,e.threadPeople=j,e.changeLastSeenTime=A,e.notiAction=N,e.logoutUser=F,e.openNoti=b,e.redirectTo=y,e.menuOpen=_,e.menuClose=h,e.newMessage=g,e.checkSameState=f,function(){if(console.log("activating me"),angular.isDefined(e.dynamicHeader)&&angular.isDefined(e.dynamicHeader.elementsConf)&&e.dynamicHeader.elementsConf)for(var t=e.dynamicHeader.elementsConf.length-1;t>=0;t--)if(angular.isDefined(e.dynamicHeader.elementsConf[t].inner_template_name)&&angular.isDefined(e.dynamicHeader.elementsConf[t].inner_template_type)){e.custom_header=!0;break}v(),6==s.app_data.cid&&(e.donation_open=!0),e.isAdmin=isAdmin,k(),w(!1),angular.element(n).bind("resize",function(){w(!0)}),angular.element(n).bind("scroll",function(){k(!0)}),e.myUid=s.app_data.uid,console.log("calling insti info"),o.info(D);var r={start:function(){a(function(){e.show5list("showAll")})},falied:function(){a(function(){R||e.menuClose()},250)}};if(d.init(document.getElementById("inside-ui-view"),"mobile_menu",r),i.getNotiNumber(O),s.$on("$stateChangeSuccess",function(){s.app_data.uui>0&&i.getNotiNumber(O)}),s.$on("$stateChangeStart",function(){L=-1,document.body.style.overflow="visible"}),""!==getCookie("mul")&&(e.mul=1),m.getFeature("mobile_app")&&!window.platform){var l=m.getFeature("mobile_app");("dedicated"==l.type&&null==l.app_promotion||l.app_promotion)&&(e.promot_app=!0)}}()}angular.module("as.sidetop").directive("portalHeadermd",e).directive("modularPortalHeadermd",t).controller("PortalHeadermdController",a),t.$inject=["$compile","$http","$templateCache"],a.$inject=["$scope","$filter","$timeout","$window","insti_info","portalHeaderService","bootModal","$rootScope","sidetopHttp","$state","$http","menuSwipe","asMessages","features"]}(),function(){"use strict";function e(){function e(e,t,n,o){if(n.for&&""!=n.for.trim()){var i=document.getElementById(n.for);if(i){t.bind("click",function(){a(i,i.scrollLeft-250,400)});var r=angular.element(i);i.scrollLeft<10&&t.addClass("ng-hide"),r.bind("scroll",function(){i.scrollLeft<10?t.addClass("ng-hide"):t.removeClass("ng-hide")})}}}return{restrict:"A",link:e}}function t(){function e(e,t,o,i){if(o.for&&""!=o.for.trim()){var r=document.getElementById(o.for);if(r){t.bind("click",function(){a(r,r.scrollLeft+250,400)});var s=angular.element(r);setTimeout(function(){n(r)?t.addClass("ng-hide"):t.removeClass("ng-hide")},1e3),s.bind("scroll",function(){n(r)?t.addClass("ng-hide"):t.removeClass("ng-hide")})}}}return{restrict:"A",link:e}}function a(e,t,a){var n=e.scrollLeft,i=t-n,r=0,s=function(){r+=20;var t=o(r,n,i,a);e.scrollLeft=t,r<a&&setTimeout(s,20)};s()}function n(e){return e.scrollLeft+e.clientWidth>=e.scrollWidth}function o(e,t,a,n){return(e/=n/2)<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)}angular.module("as.sidetop").directive("scrollLeft",e).directive("scrollRight",t)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/social_connect.html",scope:{status_fetch:"=statusFetch",skip_btn:"=skipBtn",pwd:"=?",tag_line:"=tagLine",text_choice:"=?textChoice",backToHere:"=?",dataFetched:"=?"},controller:"socialConnectController"}}function t(e,t,a,n,o){function i(){1==e.status_fetch?r():platform||1!=getCookie("social_skip")?t.post("./welcome/social_connect_status").success(function(t){1==t.success&&(null===t.data.fb_id&&null===t.data.linkedin_id&&null===t.data.googleID?r():(console.log("back2"),e.backup=!0))}):(console.log("back1"),e.backup=!0)}function r(){t.post("./social_login/getSocialConnectUrls",{redirectURL:e.backToHere?window.location.href:null}).success(function(t){e.dataFetched=!0,e.socialUrl||(e.socialUrl={}),e.socialUrl.fb=t.facebook_connect_url,e.socialUrl.gPlus=t.google_connect_url,e.socialUrl.ld=t.linkedin_connect_url})}function s(e,t){var a="fb"==e?"Facebook":"gPlus"==e?"GooglePlus":"ld"==e?"LinkedIn":"Unknown",n="Account,Social Connect,"+a+",10";o.event(n,function(){l(e,t)})}function l(n,o){var i="";if(i="Connecting...",angular.element(o.currentTarget).find("span").html(i),platform){var r=screen.width/2-320,s=screen.height/2-245;t.get("./login/tokenGen").success(function(e){var t=e.token;p=cordova.InAppBrowser.open(a.app_data.main_base_url+"social_login/xwalkenr?token="+t+"&source="+n,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top="+s+", left="+r+", width=640, height=490"),p.addEventListener("loadstop",u)})}else window.location.href=e.socialUrl[n]}function c(){o.event("Account,Set,Password,10"),t.post("./changepassword/logged_in_api")}function u(){p.executeScript({code:"window.success"},d)}function d(e){console.log(e),null!==e[0]&&(p.removeEventListener("loadstop",u),p.close(),(e=e[0])&&n.go("inapp.profile_2",{source:"p_updated",type:"Social Network"}))}var p;e.backup=!1,e.dataFetched=!1,e.socialUrl={},e.skipped_social_connect=function(e){return setCookie("social_skip",1,30),!0},e.changeText=s,e.changePasswordButton=c,function(){console.log("L49","text_choice:",e.text_choice),void 0==e.text_choice&&(e.text_choice=1),i()}()}angular.module("as.sidetop").directive("socialConnect",e).controller("socialConnectController",t),t.$inject=["$scope","$http","$rootScope","$state","analytics"]}(),function(){"use strict";function e(e,t,a,n){function o(a,n,o){function i(t){try{n.replaceWith(e(t)(a)),as_upgrade(10)}catch(e){}}function r(e){}o.template_design||(o.template_design="circular_buttons"),t.get("./templates/directives/elements/socialshare/"+o.template_design+".html").success(i).error(r)}return{restrict:"E",scope:{link:"=?",social_platforms:"=?socialPlatforms",template_design:"=?templateDesign",utm_data:"=?utmData",analytics_event:"=?analyticsEvent",share_title:"=?shareTitle",share_img:"=?shareImg",share_article:"=?shareArticle",metainfo:"=?"},link:o,controller:"socialShareButtonsController"}}function t(e,t,a,n,o){function i(){e.metainfo&&angular.isObject(e.metainfo)&&angular.forEach(e.metainfo,function(t,a){e.info[a]=t})}function r(){e.link||(e.link=window.platform?t.COMM_APPBASE.slice(0,-1)+n.href(".",null,{}).replace(window.file_base_rel,""):a.absUrl()),e.link=e.link.replace(/[?&]utm_[^=]*=([^&#]*)/gi,""),-1!==e.link.indexOf("&")&&-1===e.link.indexOf("?")&&e.link.replace("&","?")}function s(){e.social_platforms&&angular.isArray(e.social_platforms)||(e.social_platforms=["facebook","whatsapp","twitter","any"])}function l(){e.utm_data&&angular.isObject(e.utm_data)&&!angular.isUndefined(e.utm_data.source)&&!angular.isUndefined(e.utm_data.campaign)||(e.utm_data={})}function c(){e.analytics_event&&angular.isObject(e.analytics_event)&&!angular.isUndefined(e.analytics_event.category)?(angular.isUndefined(e.analytics_event.action)&&(e.analytics_event.action="Share"),angular.isUndefined(e.analytics_event.amount)&&(e.analytics_event.amount=0)):e.analytics_event={}}function u(){var t=e.analytics_event,a=!!t.category,n=-1!==e.link.indexOf("?"),o="";e.utm_data.source&&(o+=n?"&":"?",o+="utm_source="+e.utm_data.source+"&utm_campaign="+e.utm_data.campaign+"&utm_medium="),angular.forEach(e.social_platforms,function(n,i){if(angular.isDefined(e.social_platforms_info[n])){var r=e.social_platforms_info[n],s=e.link+(o?o+r.name:"");r.order=i,r.url=r.api+(r.api?encodeURIComponent(s):s),r.ga_event=a?t.category+","+t.action+","+r.name+","+t.amount:"",r.title=e.share_title?e.share_title:"",r.img=e.share_img?e.share_img:"",r.article=e.share_article?e.share_article:""}}),angular.forEach(e.social_platforms_info,function(t,a){angular.isDefined(t.order)&&e.social_platforms_array.push(t)})}function d(e,t){shareCard(e,t)}e.info={"button-class":"mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-color-text--white mdl-js-ripple-effect inline-block font-16 margin-lr-2"},e.social_platforms_array=[],e.social_platforms_info={facebook:{name:"Facebook",api:"https://www.facebook.com/sharer/sharer.php?u=",id:"fb",icon:"icon-facebook",class:"facebook-bg-color"},whatsapp:{name:"Whatsapp",api:"https://www.addtoany.com/add_to/whatsapp?linkurl=",id:"w-p",icon:"icon-whatsapp2",class:"mdl-color--green-800"},twitter:{name:"Twitter",api:"https://twitter.com/intent/tweet?url=",id:"twt",icon:"icon-twitter",class:"mdl-color--light-blue-500"},linkedin:{name:"LinkedIn",api:"https://www.linkedin.com/shareArticle?mini=true&url=",id:"ld",icon:"icon-linkedin",class:"mdl-color--blue-700"},any:{name:"Any Social Network",api:"",id:"any",icon:"icon-share",class:"mdl-color--accent is-cordova"}},e.shareCardWrapper=d,function(){i(),r(),s(),l(),c(),u()}()}angular.module("as.sidetop").directive("socialShareButtons",e).controller("socialShareButtonsController",t),e.$inject=["$compile","$http","$templateCache","$parse"],t.$inject=["$scope","$rootScope","$location","$state","analytics"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/timezoneSelector.html",scope:{text:"@?",onChange:"&",selectedTimeM:"=?",selectedTimeZ:"=?"},controller:t}}function t(e,t){function a(){var t=-1*(new Date).getTimezoneOffset();e.current=e.timezones.reduce(function(a,n){return n.timeM==e.selectedTimeM?n:n.timeZ==e.selectedTimeZ?n:a||(n.timeM==t?n:a)},null)}e.timezones=t.list,function(){var t=e.onChange();if("function"!=typeof t)return void(e.timezones=[]);e.onChangeFunc=t,e.current&&t(e.current),e.timezones=e.timezones.map(function(t){return t[e.text]?t.label=t[e.text]:t.label=t.timeString,t}),e.$watch("selectedTimeM",a),e.$watch("selectedTimeZ",a)}()}angular.module("as.sidetop").directive("timezoneSelector",e).controller("timezoneSelectorCtrl",t),t.$inject=["$scope","timezone"]}(),function(){"use strict";function e(){function e(e,n,o){function i(e,n){var o=n||{};a=window.tippy(e,o),t=a.getPopperElement(e)}!function(){if(void 0!=window.tippy){e.$on("$destroy",function(){a.destroyAll()});var o=e.option||{};i(n[0],o),e.$watch("show",function(e,n){1==e&&a&&a.show(t)})}}()}var t,a;return{restrict:"A",scope:{enable:"=",option:"=",show:"="},link:e}}angular.module("as.sidetop").directive("tippy",e)}(),function(){"use strict";function e(e,t,a,n){function o(){angular.isDefined(e.onConfirm)?(e.buttonConfirm="Wait...",e.onConfirm(n)):n(window.event)}function i(){angular.isDefined(e.onCancel)?e.onCancel(n):n(window.event)}t.alertData=e,t.close=n,t.okClick=o,t.cancelClick=i,function(){angular.isDefined(e.buttonConfirm)||(t.alertData.buttonConfirm="OK"),angular.isDefined(e.buttonCancel)&&(t.cancelShow=!0,t.cancelText=e.buttonCancel),t.alertData.body=a.trustAsHtml(t.alertData.body)}()}angular.module("as.sidetop").controller("AlertBoxController",e),e.$inject=["alertData","$scope","$sce","close"]}(),function(){"use strict";function e(e,t,a,n,o,i,r,s,l){function c(e){return _!=e}function u(t,a){s(a);var n={name:e.users[t].first_name+" "+e.users[t].last_name,uui:e.users[t].unique_user_id,uid:e.users[t].user_basic_id};r.openSendBox(n,a.target)}function d(e){return-1==h.indexOf(String(e))}function p(e){h.push(String(e))}function m(){1==g&&(e.getMorePeople(),a.fetchNetworkUUI(function(e){h=1==e.success?e.data:[]}))}function f(){function n(t){e.is_fetching=!1,1==t.success?(e.users=e.users.concat(t.data),1!=i&&2!=i||t.data.length<6&&(e.seemore=!1),4==i&&(h=t.network),5==i&&(t.data.length>=o.limit?g++:e.seemore=!1),g++):-1!=t.success||3==i&&5==i||(e.seemore=!1)}var r;e.is_fetching=!0,1==i?(e.seemoreRequired=!0,a.fetchPeopleAddedMe(o.additionalUui,g,6,e.users.length,n)):2==i?(e.seemoreRequired=!0,a.fetchPeopleIAdded(o.additionalUui,g,6,e.users.length,n)):3==i?(e.seemoreRequired=!1,r={parent_id:o.parent_id,intParentTable:o.parentTable},t.postDataCall("./noticeboard_actions_c/getLikeList",r,n)):4==i?(e.seemoreRequired=!0,r={stream:g,eventID:o.event_id,limit:10},t.postDataCall("./events/GetEventGuests",r,n)):5==i?(o.stream=g,o.limit=10,e.seemoreRequired=!0,t.postDataCall("./checkout/life_membership/past_life_members",o,n)):6==i?(console.log("./maps/userlist_api/"),o.stream=g,e.seemoreRequired=!0,t.postDataCall("./maps/userlist_api/",o,function(e){1==e.success&&(e.data=e.data.map(function(e){return e.end=e.end,e.user_basic_id=e.id,e})),0==e.success&&(e.success=-1),n(e)})):7==i?(o.stream=g,o.limit=10,e.seemoreRequired=!0,t.postDataCall("./admin/adminMailInteractions",o,n)):8==i&&(o.stream=g,o.limit=10,e.seemoreRequired=!0,t.postDataCall("./admin/adminMailInteractions",o,n))}var g=1,_=l.app_data.uid;e.users=[],e.s3_url=n.s3base_url,e.customData=o;var h=[];e.seemoreRequired=!1,e.seemore=!0,e.close=s,e.notme=c,e.notInNetwork=d,e.messageBtnClick=u,e.updateNetList=p,e.trigger=m,e.getMorePeople=f,function(){as_upgrade(100)}(),e.trigger()}angular.module("as.sidetop").controller("UserListModalController",e),e.$inject=["$scope","sidetopHttp","asNetwork","s3","viewData","query","asMessages","close","$rootScope"]}(),function(){"use strict";function e(e,t,a,n,o){function i(){e.fetching=!0,t.getNotifications(l,function(t){e.fetching=!1,1==t.success?(l++,e.notifications=e.notifications.concat(t.data)):e.moreNoti=!1})}function r(e,t,a,i,r){void 0!==i?(i="/"+i,r=angular.isDefined(r)?"/"+r:""):(i="",r=angular.isDefined(r)?"/0/"+r:""),n.postCall("./notification_controller_vc/getNotification_content_api/"+e+"/"+t+"/"+a+i+r,function(e){1==e.success&&o.go("inapp."+e.data.state,e.data.params)})}function s(t){1==t.success&&(e.newNoti=t.data.notification)}var l=2;e.moreNoti=!0,e.fetching=!1,e.newNoti=0,e.fetchMoreNoti=i,e.openNoti=r,function(){1==a.data.success?e.notifications=a.data.data:snackbar_general("Something went wrong",2e3),t.getNotiNumber(s)}()}angular.module("as.sidetop").controller("notificationCtrl",e),e.$inject=["$scope","portalHeaderService","firstNotiStream","sidetopHttp","$state"]}(),function(){"use strict";function e(e,t,a){e.status_fetch=1,function(){var t=a.data;e.creation=!1,1==t.success?(t=t.data,console.log(t),e.skip=t.skip,e.pwd=t.password,e.tag_line=t.tag_line,"true"==getParameterByName("creation")&&(e.creation=!0)):(e.skip=!0,e.pwd=!1,e.tag_line="Difficult to remember password?")}()}angular.module("as.sidetop").controller("socialConnectMdController",e),e.$inject=["$scope","sidetopHttp","socialInit"]}(),function(){"use strict";function e(){return{restrict:"EA",templateUrl:"./templates/pages/couchsurfing.html",scope:{couchsurfing:"=",height:"@",scid:"="},controller:t}}function t(e,t,a,n,o,i,r){function s(){angular.isDefined(window.google)&&angular.isDefined(window.google.maps)?f():a.load("js!https://maps.googleapis.com/maps/api/js?key=AIzaSyDNGtjH1oykynJxvUgGAUnB7T63Ay7CqXw").then(function(){a.load("js!"+window.file_base+"./libs/markerclusterer.js").then(function(){f()})})}function l(a){t.full_page_loading=!0;var n={couchsurfing:t.obj.couchsurfingFilter,locationType:t.obj.locationType};a&&(n.userInfo=!0),t.scid&&(n.scid=t.scid),e({url:"./maps/couchsurfing_api",method:"POST",data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){t.full_page_loading=!1,void 0!=e.data?(g=e.data.latLongCnt,void 0!=e.data.userCouchsurfing&&1==e.data.userCouchsurfing&&(t.obj.couchsurfingSetting=!0,p()),void 0!=e.data.userCurrentCity&&(t.obj.userCurrentCity=e.data.userCurrentCity),m(),s()):alert("No Users Found !")})}function c(e){t.obj.couchsurfingFilter&&(document.getElementById("current_city").parentNode.MaterialRadio.check(),t.obj.locationType=1),l()}function u(){document.getElementById("couchsurfing").parentNode.MaterialCheckbox.uncheck(),t.obj.couchsurfingFilter=!1,l()}function d(){t.full_page_loading=!0,e({url:"./profile/toggle_couchsurfing",method:"POST",data:{enable:t.obj.couchsurfingSetting},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){t.full_page_loading=!1,1==e.success?(l(),t.obj.couchsurfingSetting?snackbar_general("Couchsurfing successfully enabled.",3e3):snackbar_general("Couchsurfing disabled.",3e3)):snackbar_general("Please refresh the page, and try again",1500)})}function p(){try{t.obj.couchsurfingSetting?document.getElementById("couchsurfingSetting").parentNode.MaterialCheckbox.check():document.getElementById("couchsurfingSetting").parentNode.MaterialCheckbox.uncheck()}catch(e){}}function m(){if(!t.obj.currentDetectedLocation||!t.obj.userCurrentCity||t.isDirective||""!==getCookie("_lat_long"))return!1;if(t.obj.currentDetectedLocation.city.name.toLowerCase()!==t.obj.userCurrentCity.toLowerCase()){var a=t.obj.currentDetectedLocation.city.name,o={heading:"New Location Detected ("+a+")",body:"Do you want to set <b>"+a+"</b> as your current location ?",buttonConfirm:"Yes",buttonCancel:"No",onConfirm:function(n){e({url:"./profile/updateUserInfo",method:"POST",data:{current_city_name:a},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e){n()}),t.obj.userCurrentCity=t.obj.currentDetectedLocation.city.name},callback:function(){var e=t.obj.currentDetectedLocation.location;setCookie("_lat_long",e.lat.toString()+"_"+e.lng.toString(),15)}};n.alertBox(o,document.body)}}function f(){function e(e,t,a,n,o,i){this.latlng=e,this.cnt=t,this.city_id=a,this.city=n,this.args=i,this.setMap(o)}e.prototype=new google.maps.OverlayView,e.prototype.draw=function(){var e=this,t=this.div;if(!t){t=this.div=document.createElement("div"),t.id="g_maps",t.className="marker";for(var a=0,n=parseInt(this.cnt);0!==n;)n=parseInt(n/10,10),a++;var o=[0,53,56,66,78,90];t.style.cssText="background-image: url("+window.file_base+"img/map/m"+a+".png);background-position: 0px 0px;height: "+o[a]+"px;line-height: "+o[a]+"px;width: "+o[a]+"px;",t.setAttribute("city_id",this.city_id),void 0!==e.args.marker_id&&(t.dataset.marker_id=e.args.marker_id),google.maps.event.addDomListener(t,"click",function(t){google.maps.event.trigger(e,"click")});this.getPanes().overlayImage.appendChild(t)}var i=this.getProjection().fromLatLngToDivPixel(this.latlng);i&&(t.style.left=i.x-10+"px",t.style.top=i.y-20+"px",t.innerHTML=this.cnt+"<span style='position:relative;'><span class='tooltp'>"+this.city+"</span></span>")},e.prototype.remove=function(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.getPosition=function(){return this.latlng},function(){var a,o=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#eeeeee"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.country",elementType:"labels.text.stroke",stylers:[{weight:"3.00"},{color:"#eeeeee"}]},{featureType:"administrative.province",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.province",elementType:"labels.text.stroke",stylers:[{weight:"3.00"},{color:"#eeeeee"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{weight:"3.00"},{color:"#eeeeee"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.stroke",stylers:[{weight:"3.00"},{color:"#eeeeee"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.stroke",stylers:[{weight:"3.00"},{color:"#eeeeee"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"labels.text.stroke",stylers:[{color:"#eeeeee"},{weight:"3.00"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{visibility:"off"},{saturation:"7"},{lightness:"-38"},{gamma:"5.05"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"},{hue:"#ff0000"}]},{featureType:"transit.line",elementType:"all",stylers:[{hue:"#ff0000"}]},{featureType:"transit.station",elementType:"all",stylers:[{hue:"#ff0000"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{hue:"#ff0000"}]},{featureType:"water",elementType:"all",stylers:[{color:"#00539a"},{visibility:"on"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#f9f9f9"},{weight:"3.00"}]}],s=(new google.maps.StyledMapType(o,{name:"Styled Map"}),new google.maps.LatLngBounds),l=new google.maps.LatLng(23.022812,72.569431),c={zoom:1,center:new google.maps.LatLng(0,0),disableDefaultUI:!1};a=new google.maps.Map(document.getElementById("map-canvas"),c),a.setTilt(45),a.setMapTypeId(google.maps.MapTypeId.TERRAIN),s=new google.maps.LatLngBounds;for(var u=[],d=0;d<g.length;d++){var l=new google.maps.LatLng(g[d].latitude,g[d].longitude),p=g[d].cnt_uu,m=g[d].city_id,f=new e(l,p,m,g[d].city,a,{marker_id:d+1});u.push(f),google.maps.event.addListener(f,"click",function(e,a){return function(){if(!window.chk_restrictions(14)){var a=this.city_id;if(!r.app_data.same_com_log){var o={heading:"Are you from "+r.app_data.data.short_name+"?",body:"Get complete access to the "+r.app_data.data.name+" portal if you are past/current student of "+r.app_data.data.short_name,buttonConfirm:"Login to continue",onConfirm:function(e){e(),i.go("inapp.login",{redirect:encodeURIComponent(window.location.href)})}};return void n.alertBox(o,document.body)}snackbar_general("Fetching userlist",2e3);var s={cid:3,city_id:a,couchsurfing:t.obj.couchsurfingFilter,locationType:t.obj.locationType,heading:"People from "+e.city};n.user_list(6,s,document.body)}}}(f)),s.extend(l)}var _={gridSize:20,imagePath:window.file_base+"img/map/m"},h=new MarkerClusterer(a,u,_),v=function(e,t){var a=0,n=e.length;n=0,e.forEach(function(e){n+=parseInt(e.cnt)});for(var o=n;0!==o;)o=parseInt(o/10,10),a++;return a=Math.min(a,t),{text:n,index:a}};h.setCalculator(v),a.fitBounds(s),google.maps.event.addListener(a,"tilesloaded",function(){});var y=google.maps.event.addListener(a,"bounds_changed",function(e){this.setZoom(3),google.maps.event.removeListener(y)});setTimeout(function(){void 0!=t.obj.currentDetectedLocation&&void 0!=t.obj.currentDetectedLocation.location?(console.log("THis1",t.obj.currentDetectedLocation),google.maps.event.trigger(a,"resize"),a.setCenter(new google.maps.LatLng(t.obj.currentDetectedLocation.location.lat,t.obj.currentDetectedLocation.location.lng))):(console.log("this4"),google.maps.event.trigger(a,"resize"),a.setCenter(new google.maps.LatLng(20.5937,78.9629)))},1e3)}()}var g;t.showcouchsettings=!1,t.obj={locationType:1,couchsurfingFilter:!1,couchsurfingSetting:!1,userCurrentCity:!1,currentDetectedLocation:!1},t.loaderEnable=!0,t.mapHeight={height:"CALC(100vh - 120px)"},t.isDirective=!1,(angular.isDefined(t.couchsurfing)||angular.isDefined(t.height))&&(t.isDirective=!0),angular.isDefined(t.couchsurfing)&&t.couchsurfing&&(o.couchsurfing=!0),angular.isDefined(t.height)&&(t.mapHeight.height=t.height,t.loaderEnable=!1),void 0!=o.couchsurfing&&o.couchsurfing?(t.obj.couchsurfingFilter=!0,t.isMapState=!1):t.isMapState=!0,t.full_page_loading=!1,t.changeFilter=l,t.couchsurfingFilterToggle=c,t.hometownSelect=u,t.setCouchSurfingSetting=d,
t.matchDetectedCity=m,l(!0),e({url:"https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyA85V87YS8Uet3ktGHT75h6nIGjXxcekig",method:"POST"}).success(function(a){void 0!=a.location&&void 0!=a.location.lat&&e({url:"https://maps.googleapis.com/maps/api/geocode/json?latlng="+a.location.lat+","+a.location.lng,method:"GET"}).success(function(e){if(void 0!=e.results&&e.results.length>0){for(var n=!1,o=e.results[0].address_components,i=0;i<o.length;i++)if(void 0!==o[i].types&&0!=o[i].types.length&&void 0!=o[i].long_name){if(o[i].types.indexOf("city")>-1){n=o[i].long_name;break}o[i].types.indexOf("administrative_area_level_2")>-1?n=o[i].long_name:!1===n&&o[i].types.indexOf("locality")>-1?n=o[i].long_name:!1===n&&o[i].types.indexOf("administrative_area_level_1")>-1&&(n=o[i].long_name)}t.obj.currentDetectedLocation={city:{name:n},address:o,location:a.location},m()}})})}function a(e,t,a,n,o){e.city_name=a,e.userDetails=n,console.log(e.city_name,e.userDetails),t(!0,3e3)}angular.module("as.sidetop").controller("couchsurfingController",t).controller("userDetailsModCtrl",a).directive("mapView",e),t.$inject=["$http","$scope","$ocLazyLoad","bootModal","$stateParams","$state","$rootScope"],a.$inject=["$scope","close","city_name","userDetails","$timeout"]}(),function(){"use strict";function e(e,t,a,n,o,i,r){function s(){t(function(){e.changeMembership.membership_date_visible=r("date")(e.changeMembership.membership_date,"mediumDate")},10)}function l(t){1==t.success&&(e.membershipData=t,10!=e.membershipData.data.transaction_status?(e.changeMembership.amount=e.membershipData.data.amount,e.changeMembership.life_membership_number=e.membershipData.data.life_membership_number,null!=e.membershipData.data.time&&e.membershipData.data.time>0&&(e.changeMembership.membership_date=1e3*e.membershipData.data.time),7==e.membershipData.data.steps_completed?2==e.membershipData.data.membership_paid_type?e.changeMembership.status="yearly_member":e.changeMembership.status="life_member":e.changeMembership.status="non_life_member"):e.changeMembership.life_membership_number=e.membershipData.data.life_membership_number),e.data_fetched=!0,as_upgrade(10)}function c(t){var a={};if(a.uui=i.uui,a.life_membership_number=e.changeMembership.life_membership_number,e.membershipData.success=1,angular.isUndefined(e.membershipData.data)&&(e.membershipData.data={}),e.membershipData.data.life_membership_number=e.changeMembership.life_membership_number,angular.isDefined(e.membershipData.data)&&10==e.membershipData.data.transaction_status);else if("life_member"==e.changeMembership.status||"yearly_member"==e.changeMembership.status){if(e.membershipData.data.transaction_status=20,e.membershipData.data.steps_completed=7,e.membershipData.data.amount=e.changeMembership.amount,null!=e.changeMembership.membership_date){var n=e.changeMembership.membership_date,r=parseInt(n.getTime()/1e3);console.log(r),e.membershipData.data.time=r,a.date=r}a.steps_completed=7,a.transaction_status=20,a.amount=e.changeMembership.amount,"life_member"==e.changeMembership.status&&(a.membership_paid_type=1,e.membershipData.data.membership_paid_type=1),"yearly_member"==e.changeMembership.status&&(a.membership_paid_type=2,e.membershipData.data.membership_paid_type=2)}else e.membershipData.data.steps_completed=1;o.updateMembershipStatus(a,u)}function u(t){n(null,e.membershipData)}e.changeMembership={},e.close=n,e.dateChanged=s,e.membershipData={},e.save=c,function(){angular.isDefined(i.uui)&&o.fetchUserMembership(i.uui,l)}()}angular.module("as.sidetop").controller("membershipEdit",e),e.$inject=["$scope","$timeout","sidetopHttp","close","membership","dataIn","$filter"]}(),function(){"use strict";function e(e,t,a,n,o,i,r,s){function l(){angular.element(document.querySelector("#pPicCh"))[0].click()}function c(t){function a(t){e.$apply(function(e){e.myImage=t.target.result})}var n=t.currentTarget.files[0],o=new FileReader;o.onload=a,o.readAsDataURL(n)}function u(t,a){function i(){o?$mdDialog.hide(t):n.close(t)}if(a.target.innerText="Saving...",e.isSaving=!0,angular.isDefined(r)&&angular.isDefined(r.NoChange)&&!0===r.NoChange)o?$mdDialog.hide(t):n.close(t);else{var l={imageData:t};s.profilePicChange(l,i)}}function d(){n.dismiss()}o&&($mdDialog=i.get("$mdDialog")),e.myImage="",e.myCroppedImage="",e.uploadPhoto=l,e.saveNewPic=u,e.close_pic_box=d,function(){a(function(){angular.element(document.querySelector("#pPicCh")).on("change",c)},0)}()}angular.module("as.sidetop").controller("ProfilePicChangerController",e),e.$inject=["$scope","$http","$timeout","$modalInstance","isMaterial","$injector","savePic","pQueries"]}(),function(){"use strict";function e(e,t,a,n,o,i,r,s,l){function c(){var t=l.getWorkFields();angular.merge(e.workData,t)}function u(){e.wid=r,e.winfo=i,e.locations=s,e.wid>0?(e.workData.company=e.winfo[e.wid].company,e.workData.icon_id=e.winfo[e.wid].company_id,null!==e.winfo[e.wid].designation&&(e.workData.fields.designation.isExtra&&m(),e.workData.designation=e.winfo[e.wid].designation),null!==e.winfo[e.wid].industry&&(e.workData.fields.industry.isExtra&&m(),e.workData.industry=e.winfo[e.wid].industry),0!=e.winfo[e.wid].location&&(e.workData.fields.location.isExtra&&m(),e.workData.location=e.locations[e.winfo[e.wid].location]),0!=e.winfo[e.wid].start_m&&(e.workData.fields.dates.isExtra&&m(),e.workData.start_m=Number(e.winfo[e.wid].start_m)),0!=e.winfo[e.wid].end_m&&(e.workData.fields.dates.isExtra&&m(),e.workData.end_m=Number(e.winfo[e.wid].end_m)),0!=e.winfo[e.wid].start&&(e.workData.fields.dates.isExtra&&m(),e.workData.start=Number(e.winfo[e.wid].start)),0!=e.winfo[e.wid].end&&(e.workData.fields.dates.isExtra&&m(),e.workData.end=Number(e.winfo[e.wid].end)),e.workData.summary="",""!=e.winfo[e.wid].summary&&(e.workData.fields.summary.isExtra&&m(),e.workData.summary=e.winfo[e.wid].summary)):e.workData.icon_id=0,e.workData.fields.dates.isExtra||!e.workData.fields.dates.isValid||e.workData.end||(e.workData.end=1901),p(e.workData.end,!0)}function d(t){e.workData.icon_id=t.id}function p(a,n){t(function(){if(a||!n){var t=1901!=a;n&&(t=!t),t?(e.workData.end=1901,e.workData.is_currently_working||(e.workData.is_currently_working=!0)):(n||(e.workData.end=e.workData.start),e.workData.is_currently_working&&(e.workData.is_currently_working=!1))}},100)}function m(){e.workData.fields_custom_data.show_extra_fields||(e.workData.fields_custom_data.show_extra_fields=!0,"summary"==e.workData.fields_custom_data.extra_fields[0]&&f())}function f(){var e=document.querySelector("#current");t(function(){e&&(e.focus(),as_upgrade(10))},100)}function g(o){function i(a){e.workerror||(e.workerror=a||"Please Enter all the Details.",t(_,3e3))}function r(t){if(1==t.success){try{mixpanel.track("Work Updated",{source:getParameterByName("source"),new:t.new})}catch(e){console.log(e)}try{var a=document.querySelector("#success-toast"),o={message:"Work Updated",timeout:2500};t.bconnect&&1==t.bconnect.success&&(o.message="Work updated & listed in business connected",o.timeout=5e3),a.MaterialSnackbar.showSnackbar(o)}catch(e){console.log(e)}!0===t.new&&(l.id=t.id),angular.isUndefined(e.winfo)&&(e.winfo={}),e.winfo[t.id]=l,e.workData={}}e.isWorkSaving=!1,n(window.event,e.winfo)}if(e.workData.fields.designation.required&&(!e.workData.designation_id||e.workData.designation_id<=0)&&!e.workData.designation&&i("Please provide your work title."),e.workData.fields.company.required&&(!e.workData.company_id||e.workData.company_id<=0)&&!e.workData.company&&i("Please provide company name."),e.workData.fields.industry.required&&(!e.workData.industry_id||e.workData.industry_id<=0)&&!e.workData.industry&&i("Please provide your work industry."),(e.workData.start_m&&!e.workData.start||e.workData.start&&!e.workData.start_m)&&i("Please provide joining month & joining year both."),1901!=e.workData.end&&(e.workData.end_m&&!e.workData.end||e.workData.end&&!e.workData.end_m)&&i("Please provide leaving month & leaving year both."),e.workData.fields.dates.required&&(e.workData.start_m&&e.workData.start||i("Please provide work joining/leaving details."),e.workData.end&&(1901==e.workData.end||e.workData.end_m)||i("Please provide work joining/leaving details.")),(e.workData.end&&e.workData.start&&1901!=e.workData.end&&e.workData.end<e.workData.start||e.workData.end==e.workData.start&&e.workData.end_m<e.workData.start_m)&&i("Ending year should be greater than starting year"),e.workData.fields.location.required&&(!e.workData.location_id||e.workData.location_id<=0)&&!e.workData.location&&i("Please provide your work location."),e.workData.fields.summary.required&&!e.workData.summary&&i("Please provide your work summary."),!e.workerror){var s={},l={};return e.wid>0&&(s.work_id=e.wid,l.id=e.wid),void 0!==e.workData.company_id&&-1!=e.workData.company_id?(s.company_id=e.workData.company_id,l.company_id=e.workData.company_id):(s.company_name=e.workData.company,l.company_id=e.workData.company),l.company=e.workData.company,void 0!==e.workData.designation_id&&-1!=e.workData.designation_id?(s.designation_id=e.workData.designation_id,l.designation=e.workData.designation):void 0!==e.workData.designation&&""!==e.workData.designation?(s.designation_name=e.workData.designation,l.designation=e.workData.designation):l.designation=null,void 0!==e.workData.industry_id&&-1!=e.workData.industry_id?(s.industry_id=e.workData.industry_id,l.industry=e.workData.industry):void 0!==e.workData.industry&&""!==e.workData.industry?(s.industry_name=e.workData.industry,l.industry=e.workData.industry):l.industry=null,angular.isUndefined(e.locations)&&(e.locations={}),void 0!==e.workData.location_id&&-1!=e.workData.location_id?(s.city_id=e.workData.location_id,l.location=e.workData.location_id,e.locations[e.workData.location_id]=e.workData.location):void 0!==e.workData.location&&""!==e.workData.location?(s.city_name=e.workData.location,l.location=e.workData.location,e.locations[e.workData.location]=e.workData.location):l.location=0,void 0!==e.workData.start_m&&""!==e.workData.start_m?(s.form_work_from_month=e.workData.start_m,l.start_m=e.workData.start_m):l.start_m=0,void 0!==e.workData.end_m&&""!==e.workData.end_m?(s.form_work_to_month=e.workData.end_m,l.end_m=e.workData.end_m):l.end_m=0,void 0!==e.workData.start&&""!==e.workData.start?(s.form_work_from=e.workData.start,l.start=e.workData.start):l.start=0,void 0!==e.workData.end&&""!==e.workData.end?(s.form_work_to=e.workData.end,l.end=e.workData.end):l.end=0,1901==s.form_work_to&&(s.form_work_to_month=0),s.summary=e.workData.summary,l.summary=e.workData.summary,e.isWorkSaving=!0,a.postDataCall("./work/save_work",s,r)}}function _(){e.workerror=""}function h(){return 0===e.wid?"Cancel":"Delete"}function v(t,o){function i(a){if(t.target.innerText="Deleted",1==a.success){try{mixpanel.track("Work deleted",{source:getParameterByName("source")})}catch(e){console.log(e)}try{var o=document.querySelector("#success-toast"),i={message:"Work Deleted",timeout:2500};o.MaterialSnackbar.showSnackbar(i)}catch(e){console.log(e)}t.target.innerText="Deleted",delete e.winfo[e.wid],n(window.event,e.winfo),e.workData={}}}if(0===e.wid||o)return n(window.event),void(e.workData={});if(confirm("Press OK to confirm to delete your Work")){t.target.innerText="Deleting...";var r={wid:e.wid};return a.postDataCall("./work/deleteWork",r,i)}}as_upgrade(10),e.workData={},e.close=n,e.s3_url=o.s3base_url,e.year=[];for(var y=(new Date).getFullYear(),b=y;b>=1950;b--)e.year.push({key:b,value:b});e.month=[{key:1,value:"Jan"},{key:2,value:"Feb"},{key:3,value:"Mar"},{key:4,value:"Apr"},{key:5,value:"May"},{key:6,value:"Jun"},{key:7,value:"Jul"},{key:8,value:"Aug"},{key:9,value:"Sep"},{key:10,value:"Oct"},{key:11,value:"Nov"},{key:12,value:"Dec"}],e.triggerFill=u,e.changeIconId=d,e.toggleWorkEnd=p,e.toggleExtraInfo=m,e.saveNewWork=g,e.deleteText=h,e.DeleteWork=v,e.isWorkSaving=!1,function(){c(),e.triggerFill()}()}angular.module("as.sidetop").controller("WorkEditController",e),e.$inject=["$scope","$timeout","sidetopHttp","close","s3","winfo","wid","locations","profileInfo"]}();
//# sourceMappingURL=sidetop.min.js.map
!function(){"use strict";angular.module("list-autocomplete",[])}(),function(){"use strict";function e(e){function t(t,s){return angular.isUndefined(t)?null:(s&&(t=t.replace(new RegExp("("+s+")","gi"),"<strong>$1</strong>")),e.trustAsHtml(t))}return t}angular.module("list-autocomplete").filter("highlight",e),e.$inject=["$sce"]}(),function(){"use strict";function e(){return function(e,t){if(null===e)return[];if(void 0===t){for(var s=[],n=0;n<e.length;n++)e[n].weight=1,s.push(e[n]);return s}for(var s=[],n=0;n<e.length;n++){var r=e[n].name;angular.isUndefined(r)&&(r=e[n].tag);for(var i=0,l=0,c=0;c<=t.length-1;c++){for(var a=l;a<r.length;a++)if(t.charAt(c).toLowerCase()==r.charAt(a).toLowerCase()){i++;break}a-l==0&&a<r.length&&(i+=10),l=a+1}e[n].weight=i,i>0&&s.push(e[n])}return s}}angular.module("list-autocomplete").filter("WeightFilter",e)}(),function(){function e(){return{restrict:"E",scope:{profileImage:"=",query:"@",objectProperty:"@",objectName:"@",objectDisplay:"@?",chipsSelected:"=",allowNewChip:"=",inputPlaceholder:"@",filter:"@"},templateUrl:"./templates/directives/as_chips_md.html",controller:"AsChipsController"}}function t(e){!function(){angular.isUndefined(e.objectDisplay)&&(e.objectDisplay=e.objectProperty),angular.isUndefined(e.inputPlaceholder)&&(e.inputPlaceholder="Add "+e.objectName.toLowerCase()+"s"),e.searchedReceiver="",e.s3_url=s3base,e.chipsSelected&&e.chipsSelected.constructor==Array&&(e.chipsSelected=e.chipsSelected.map(function(e){return e.profile_pic&&e.profile_pic.small||(e.profile_pic={},e.profile_pic.small="assets/images/profiles/50x50/"+e.uid+".jpg?v="+parseInt(100*Math.random())),e})),e.add_chip=function(t){console.log(t);var s=!0;angular.isUndefined(t[e.objectProperty])&&(t[e.objectProperty]=t.name),angular.isUndefined(e.chipsSelected)&&(e.chipsSelected=[]);for(var n=0;n<e.chipsSelected.length;n++)e.chipsSelected[n][e.objectProperty].toLowerCase()==t[e.objectProperty].toLowerCase()&&(snackbar_general(e.objectName+" already added",2500),s=!1);s&&(e.chipsSelected.push(t),e.searchedReceiver="",e.idSelected=-1)},e.create_new_chip=function(t){if(e.allowNewChip){var s={};s.name=t,s.id=-1,e.add_chip(s)}},e.remove_chip=function(t){e.chipsSelected.splice(t,1)},e.remove_last_chip=function(){if(e.chipsSelected.length>0){var t=e.chipsSelected.length-1;e.remove_chip(t)}}}()}angular.module("list-autocomplete").directive("asChips",e).controller("AsChipsController",t),t.$inject=["$scope"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/messageReceipents_md.html",scope:{selectedPeople:"="},controller:"MessageReceipentsController"}}function t(e){function t(t){angular.isUndefined(e.selectedPeople)&&(e.selectedPeople=[]),e.selectedPeople.push(t),e.searchedReceiver="",e.idSelected=-1}function s(t){e.selectedPeople.splice(t,1)}e.s3_url=s3base,e.populateList=t,e.removeProfile=s}angular.module("list-autocomplete").directive("messageReceipents",e).controller("MessageReceipentsController",t),t.$inject=["$scope"]}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"./templates/directives/simple-autocomplete_md.html",scope:{query:"@",searchText:"=",selectedFinally:"=",inputPlaceholder:"@",inputActualPlaceholder:"@",inputClass:"@",paDisabled:"=",keyCreateChip:"&",removeLastChip:"&",triggerFunction:"&",onBlurFn:"&",restart:"=",isRequired:"=",fieldName:"@",errorEmpty:"=",formname:"=",parentdivClass:"@",filter:"@",resetIndex:"=?",options:"=?"},controller:"PaAutocompleteController"}}function t(e,t,s,n,r){function i(){y=null,e.suggestions=[],e.selectedIndex=-1,e.selectedFinally=-1}function l(){switch(e.query){case"1":m="./work/fetch_all_companies";break;case"2":m="./jobs/fetch_all_sectors";break;case"3":m="./work/fetch_all_designations";break;case"4":m="./education/all_institute_fetch";break;case"5":m="./education/all_department_fetch";break;case"6":m="./education/all_degree_fetch";break;case"7":m="./cities/all_cities_fetch";break;case"8":m="./institutes/fetchClientDepartments";break;case"9":m="./institutes/getEstablishYear";break;case"10":m="./search_users/peopleToTag";break;case"11":m="./tags3step/fetchTagsToTag";break;case"12":m="./cities/relevantCities";break;case"13":m="./work/fetchRelevantcompanies";break;case"14":m="./institutes/p1InstituteSuggestions/1";break;case"15":m="./jobs/fetch_required_skills";break;case"16":m="./cities/relevantCities";break;case"17":m="./work/fetchRelevantdesignations";break;case"18":m="./institutes/fetchClientDegrees";break;case"19":m="./jobs/fetch_all_industries";break;case"20":m="./work/fetchRelevantindustries"}}function c(t){8===t.keyCode&&null===e.searchText&&e.removeLastChip()}function a(e,t){t?1==t&&n[0].querySelector(".paAutosuggestionsUl").scrollTo(0,e):n[0].querySelector(".paAutosuggestionsUl").scrollBy(0,e)}function o(t){var s=n[0].querySelectorAll(".paAutosuggestionsUl li");return s&&s[e.selectedIndex]&&s[e.selectedIndex].clientHeight?s[e.selectedIndex].clientHeight:48}function u(t){angular.isDefined(e.suggestions)&&(27===t.keyCode?(e.selectedIndex=-1,e.suggestions=null):40===t.keyCode?(t.preventDefault(),e.selectedIndex+1!==e.suggestions.length?(e.selectedIndex>=1&&a(o(e.selectedIndex)),e.selectedIndex++):(a(0,1),e.selectedIndex=0)):38===t.keyCode?(t.preventDefault(),e.selectedIndex-1!=-1?(e.selectedIndex<=e.suggestions.length-2&&a(-1*o(e.selectedIndex>0?e.selectedIndex:e.suggestions.length-1)),e.selectedIndex--):(a(n[0].querySelector(".paAutosuggestionsUl").scrollHeight,1),e.selectedIndex=e.suggestions.length-1)):13===t.keyCode||9===t.keyCode?-1!=e.selectedIndex?(t.preventDefault(),e.selectIt(e.selectedIndex)):0!==e.suggestions.length?(t.preventDefault(),e.selectIt(0)):""!==e.searchText.trim()&&(t.preventDefault(),e.keyCreateChip({searchText:e.searchText})):39===t.keyCode?e.suggestions.length>0&&(e.searchText=e.suggestions[0].name):188===t.keyCode||186===t.keyCode?(t.preventDefault(),e.keyCreateChip({searchText:e.searchText})):8===t.keyCode&&""===e.searchText&&(e.searchText=null,t.preventDefault()))}function d(){return 10==Number(e.query)}function g(){!1===e.blurLock&&(e.selectedIndex=-1,e.suggestions=null,e.onBlurFn())}function p(){e.selectedFinally=-1}function h(){if(a(0),angular.isDefined(e.searchText)&&e.searchText)if(e.searchText.replace(/[^a-zA-Z0-9]/g,"").length>=1){if(!0===e.isFetching){if(!(x.length>0))return;for(var n=0;n<x.length;n++)x[n].cancel();x=[]}e.isFetching=!0;var i=e.filter;try{if(angular.isDefined(e.filter)){var l=JSON.parse(e.filter);angular.isObject(l)&&(i=l)}}catch(e){}var c=5,o=4,u=7==e.query||"7"==e.query||12==e.query||"12"==e.query||16==e.query||"16"==e.query;u&&(c=20,o=20);var d={url:m,method:"POST",data:{firstLetter:e.searchText.replace(/[^a-zA-Z0-9\@\.\_\- ]/g,""),tStart:"#"+e.searchText.replace(/[^a-zA-Z0-9 ]/g,""),limit:c,filter:i},headers:{"Content-Type":"application/x-www-form-urlencoded"}};if(16!=e.query&&"16"!=e.query||(d.data.hometown=!0),e.options&&e.options.postData)for(var n in e.options.postData)d.data[n]||(d.data[n]=e.options.postData[n]);var g=r.defer();d.timeout=g.promise,v++,d.httptoken=v;var p=t(d).then(function(t){v==t.config.httptoken&&(t=t.data,e.isFetching=!1,-1!=[8,10,11,13,17,18,19,20,"8","10","11","13","17","18","19","20"].indexOf(e.query)?1==t.success&&(y=t.data,"11"==e.query&&(y=t.result)):y=t,e.suggestions=null,-1!=[1,2,3,4,5,6,7,8,9,10,12,15,16,18,19,20,"1","2","3","4","5","6","7","8","9","10","12","15","16","18","19","20"].indexOf(e.query)?(10==e.query||"10"==e.query||u?e.suggestions=y:e.suggestions=s("filter")(y,e.searchText),""===e.searchText&&(e.suggestions=null)):(e.suggestions=s("WeightFilter")(y,e.searchText),e.suggestions=s("orderBy")(e.suggestions,"weight","reverse")),e.suggestions=s("limitTo")(e.suggestions,o),null!==e.suggestions&&0!==e.suggestions.length?e.selectedIndex=0:e.selectedIndex=-1,a(0))},function(e){});p.cancel=function(){g.resolve()},x.push(p)}else e.suggestions=null,-1!=[1,2,3,4,5,6,7,8,9,10,12,15,16,18,19,20,"1","2","3","4","5","6","7","8","9","10","12","15","16","18","19","20"].indexOf(e.query)?(10==e.query||"10"==e.query?e.suggestions=y:e.suggestions=s("filter")(y,e.searchText),""===e.searchText&&(e.suggestions=null)):(e.suggestions=s("WeightFilter")(y,e.searchText),e.suggestions=s("orderBy")(e.suggestions,"weight","reverse")),e.suggestions=s("limitTo")(e.suggestions,4),null!==e.suggestions&&0!==e.suggestions.length?e.selectedIndex=0:e.selectedIndex=-1;else e.reset.data();a(0)}function f(t){10==Number(e.query)?e.selectedFinally=e.suggestions[t].uui:e.selectedFinally=e.suggestions[t].id,e.triggerFunction({data:e.suggestions[t]}),e.selectedIndex=-1,e.searchText=e.suggestions[t].name,e.suggestions=null,e.blurLock=!1}e.s3_url=s3base;var m="";e.reset=e.restart||{};var y;e.blurLock=!1,y=null,e.suggestions=[],e.reset.data=i,e.checkKeyUp=c,e.checkKeyDown=u,e.ispeople=d,e.blurFn=g,e.checkFraud=p,e.checkValueChange=h,e.selectIt=f;var x=[],v=0;!function(){void 0==e.resetIndex&&(e.resetIndex=!0),e.resetIndex&&e.reset.data(),l()}()}angular.module("list-autocomplete").directive("paAutocomplete",e).controller("PaAutocompleteController",t),t.$inject=["$scope","$http","$filter","$element","$q"]}();
//# sourceMappingURL=list_autocomplete.min.js.map
